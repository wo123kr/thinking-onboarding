{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useTheme}from'../contexts/ThemeContext';import{useLanguage}from'../contexts/LanguageContext';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";export const AdvancedIdleRPG=_ref=>{let{onAction,isSimulating,currentAction,userStats,setUserStats,currentUser}=_ref;const{colors}=useTheme();const{t}=useLanguage();// CSS ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€\nReact.useEffect(()=>{const style=document.createElement('style');style.textContent=`\n      @keyframes progress {\n        0% {\n          width: 0%;\n        }\n        100% {\n          width: 100%;\n        }\n      }\n      @keyframes pulse {\n        0%, 100% {\n          opacity: 1;\n        }\n        50% {\n          opacity: 0.7;\n        }\n      }\n    `;document.head.appendChild(style);return()=>{document.head.removeChild(style);};},[]);const[character,setCharacter]=useState({id:'1',name:'ìš©ì‚¬',level:1,exp:0,maxExp:100,hp:100,maxHp:100,mp:50,maxMp:50,attack:20,defense:10,speed:15,gold:100,class:'ì „ì‚¬',skills:[],equipment:{},stats:{strength:10,agility:8,intelligence:5,vitality:12,luck:7,availablePoints:0},prestige:0,rebirth:0,buffs:{attack:{amount:0,duration:0},defense:{amount:0,duration:0},speed:{amount:0,duration:0}}});const[currentTab,setCurrentTab]=useState('lobby');const[gameMode,setGameMode]=useState('lobby');const[isAutoFighting,setIsAutoFighting]=useState(false);const[currentMonster,setCurrentMonster]=useState(null);const[combatLog,setCombatLog]=useState([]);const[selectedDungeon,setSelectedDungeon]=useState(null);const[inventory,setInventory]=useState([]);const[availableDungeons,setAvailableDungeons]=useState([]);const[currentDungeon,setCurrentDungeon]=useState(null);const[inDungeon,setInDungeon]=useState(false);const[guild,setGuild]=useState(null);const[shop,setShop]=useState([]);const[achievements,setAchievements]=useState([]);const[monstersDefeated,setMonstersDefeated]=useState(0);const[totalGoldEarned,setTotalGoldEarned]=useState(0);const[showDungeonChoice,setShowDungeonChoice]=useState(false);const logRef=useRef(null);// ê²Œì„ ì´ˆê¸°í™”\nuseEffect(()=>{initializeGame();},[]);// ìºë¦­í„° ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ userStats ì—…ë°ì´íŠ¸\nuseEffect(()=>{setUserStats({level:character.level,gold:character.gold,attack:character.attack,defense:character.defense,hp:character.hp,maxHp:character.maxHp,exp:character.exp,maxExp:character.maxExp,monsters_defeated:monstersDefeated,character_class:character.class,total_gold_earned:totalGoldEarned,inventory_items:inventory.map(item=>({id:item.id,name:item.name,type:item.type,rarity:item.rarity,quantity:item.quantity||1,stats:item.stats})),skills:character.skills.map(skill=>({id:skill.id,name:skill.name,level:skill.level,type:skill.type})),current_buffs:Object.entries(character.buffs).filter(_ref2=>{let[_,buff]=_ref2;return buff.duration>0;}).map(_ref3=>{let[type,buff]=_ref3;return{type,amount:buff.amount,duration:Math.ceil(buff.duration/1000)};})});},[character,inventory,monstersDefeated,totalGoldEarned,setUserStats]);const initializeGame=()=>{// ì–¸ì–´ë³„ í…ìŠ¤íŠ¸ ì •ì˜\nconst translations={ko:{character:{name:'ìš©ì‚¬',class:'ì „ì‚¬'},skills:{slash:{name:'ê°•ë ¥í•œ ë² ê¸°',description:'ê°•ë ¥í•œ ì¼ê²©ì„ ê°€í•©ë‹ˆë‹¤.'},heal:{name:'ì¹˜ìœ ',description:'HPë¥¼ íšŒë³µí•©ë‹ˆë‹¤.'},critical:{name:'ì¹˜ëª…íƒ€ ìˆ™ë ¨',description:'ì¹˜ëª…íƒ€ í™•ë¥ ì„ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.'}},dungeons:{forest:{name:'ì–´ë‘ ì˜ ìˆ²',description:'ì´ˆë³´ìë¥¼ ìœ„í•œ ë˜ì „ì…ë‹ˆë‹¤.'},cave:{name:'ê³ ë¸”ë¦° ë™êµ´',description:'ê³ ë¸”ë¦°ë“¤ì´ ì„œì‹í•˜ëŠ” ìœ„í—˜í•œ ë™êµ´ì…ë‹ˆë‹¤.'},tower:{name:'ë§ˆë²•ì‚¬ì˜ íƒ‘',description:'ê°•ë ¥í•œ ë§ˆë²• ëª¬ìŠ¤í„°ë“¤ì´ ìˆëŠ” íƒ‘ì…ë‹ˆë‹¤.'}},items:{sword1:'ê°•ì²  ê²€',armor1:'ê°€ì£½ ê°‘ì˜·',helmet1:'ì² ì œ íˆ¬êµ¬',health_potion:'ì²´ë ¥ ë¬¼ì•½',mana_potion:'ë§ˆë‚˜ ë¬¼ì•½',greater_health_potion:'ê³ ê¸‰ ì²´ë ¥ ë¬¼ì•½',strength_potion:'í˜ì˜ ë¬¼ì•½',defense_potion:'ë°©ì–´ì˜ ë¬¼ì•½'},monsters:{slime:'ìŠ¬ë¼ì„',goblin:'ê³ ë¸”ë¦°',orc:'ì˜¤í¬',troll:'íŠ¸ë¡¤',dragon:'ë“œë˜ê³¤'},combat:{appeared:'ì´ ë‚˜íƒ€ë‚¬ë‹¤!',attack:'ì˜ ê³µê²©!',damage:'ë°ë¯¸ì§€!',critical:'ì¹˜ëª…íƒ€!',levelUp:'ğŸ‰ ë ˆë²¨ì—…! Lv.',defeated:'ë¥¼ ë¬¼ë¦¬ì³¤ë‹¤! EXP +',gold:', ê³¨ë“œ +',itemObtained:'âœ¨ ì„ íšë“í–ˆìŠµë‹ˆë‹¤!',dungeonCleared:'ğŸ‰  ë˜ì „ì„ í´ë¦¬ì–´í–ˆìŠµë‹ˆë‹¤!',nextFloor:'ì¸µìœ¼ë¡œ ìë™ ì§„í–‰í•©ë‹ˆë‹¤!',dungeonExited:'ë˜ì „ì—ì„œ ìë™ìœ¼ë¡œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!',hpMpRecovered:'ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!',defeat:'ì „íˆ¬ì—ì„œ íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤...'}},en:{character:{name:'Hero',class:'Warrior'},skills:{slash:{name:'Power Slash',description:'Delivers a powerful strike.'},heal:{name:'Heal',description:'Restores HP.'},critical:{name:'Critical Mastery',description:'Increases critical hit chance.'}},dungeons:{forest:{name:'Dark Forest',description:'A dungeon for beginners.'},cave:{name:'Goblin Cave',description:'A dangerous cave inhabited by goblins.'},tower:{name:'Mage Tower',description:'A tower with powerful magic monsters.'}},items:{sword1:'Steel Sword',armor1:'Leather Armor',helmet1:'Iron Helmet',health_potion:'Health Potion',mana_potion:'Mana Potion',greater_health_potion:'Greater Health Potion',strength_potion:'Strength Potion',defense_potion:'Defense Potion'},monsters:{slime:'Slime',goblin:'Goblin',orc:'Orc',troll:'Troll',dragon:'Dragon'},combat:{appeared:' appeared!',attack:\"'s attack!\",damage:' damage!',critical:' (Critical!)',levelUp:'ğŸ‰ Level up! Lv.',defeated:' defeated! EXP +',gold:', Gold +',itemObtained:'âœ¨ obtained!',dungeonCleared:'ğŸ‰  dungeon cleared!',nextFloor:'Proceeding to floor  automatically!',dungeonExited:'Automatically exited dungeon. HP and MP fully restored!',hpMpRecovered:'HP and MP fully restored!',defeat:'Defeated in battle...'}},zh:{character:{name:'å‹‡è€…',class:'æˆ˜å£«'},skills:{slash:{name:'å¼ºåŠ›æ–©å‡»',description:'å‘åŠ¨å¼ºåŠ›ä¸€å‡»ã€‚'},heal:{name:'æ²»ç–—',description:'æ¢å¤ç”Ÿå‘½å€¼ã€‚'},critical:{name:'æš´å‡»ç²¾é€š',description:'å¢åŠ æš´å‡»å‡ ç‡ã€‚'}},dungeons:{forest:{name:'é»‘æš—æ£®æ—',description:'é€‚åˆæ–°æ‰‹çš„åœ°ä¸‹åŸã€‚'},cave:{name:'å“¥å¸ƒæ—æ´ç©´',description:'å“¥å¸ƒæ—æ –æ¯çš„å±é™©æ´ç©´ã€‚'},tower:{name:'æ³•å¸ˆå¡”',description:'æœ‰å¼ºåŠ›é­”æ³•æ€ªç‰©çš„å¡”ã€‚'}},items:{sword1:'é’¢é“å‰‘',armor1:'çš®ç”²',helmet1:'é“ç›”',health_potion:'ç”Ÿå‘½è¯æ°´',mana_potion:'é­”æ³•è¯æ°´',greater_health_potion:'é«˜çº§ç”Ÿå‘½è¯æ°´',strength_potion:'åŠ›é‡è¯æ°´',defense_potion:'é˜²å¾¡è¯æ°´'},monsters:{slime:'å²è±å§†',goblin:'å“¥å¸ƒæ—',orc:'å…½äºº',troll:'å·¨é­”',dragon:'é¾™'},combat:{appeared:'å‡ºç°äº†ï¼',attack:'çš„æ”»å‡»ï¼',damage:'ä¼¤å®³ï¼',critical:'æš´å‡»ï¼',levelUp:'ğŸ‰ å‡çº§ï¼Lv.',defeated:'è¢«å‡»è´¥ï¼ç»éªŒ +',gold:'ï¼Œé‡‘å¸ +',itemObtained:'âœ¨ è·å¾—äº†ï¼',dungeonCleared:'ğŸ‰ åœ°ä¸‹åŸé€šå…³ï¼',nextFloor:'è‡ªåŠ¨å‰å¾€ç¬¬ å±‚ï¼',dungeonExited:'è‡ªåŠ¨ç¦»å¼€åœ°ä¸‹åŸã€‚ç”Ÿå‘½å€¼å’Œé­”æ³•å€¼å®Œå…¨æ¢å¤ï¼',hpMpRecovered:'ç”Ÿå‘½å€¼å’Œé­”æ³•å€¼å®Œå…¨æ¢å¤ï¼',defeat:'æˆ˜æ–—å¤±è´¥...'}}};// í˜„ì¬ ì–¸ì–´ ê°€ì ¸ì˜¤ê¸° (ê¸°ë³¸ê°’: í•œêµ­ì–´)\nconst currentLang=localStorage.getItem('language')||'ko';const texts=translations[currentLang]||translations.ko;// ì´ˆê¸° ìŠ¤í‚¬ ì„¤ì •\nconst initialSkills=[{id:'slash',name:'ê°•ë ¥í•œ ë² ê¸°',level:1,maxLevel:10,damage:30,manaCost:10,cooldown:3000,currentCooldown:0,type:'active',description:'ê°•ë ¥í•œ ì¼ê²©ì„ ê°€í•©ë‹ˆë‹¤.'},{id:'heal',name:'ì¹˜ìœ ',level:1,maxLevel:10,damage:0,manaCost:15,cooldown:5000,currentCooldown:0,type:'active',description:'HPë¥¼ íšŒë³µí•©ë‹ˆë‹¤.'},{id:'critical',name:'ì¹˜ëª…íƒ€ ìˆ™ë ¨',level:1,maxLevel:10,damage:0,manaCost:0,cooldown:0,currentCooldown:0,type:'passive',description:'ì¹˜ëª…íƒ€ í™•ë¥ ì„ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.'}];// ë˜ì „ ì´ˆê¸°í™”\nconst initialDungeons=[{id:'forest',name:'ì–´ë‘ ì˜ ìˆ²',level:1,description:'ì´ˆë³´ìë¥¼ ìœ„í•œ ë˜ì „ì…ë‹ˆë‹¤.',floors:10,currentFloor:1,monsters:[],rewards:{goldRange:[10,25],expRange:[15,30],itemDropChance:0.1},requiredLevel:1,isUnlocked:true},{id:'cave',name:'ê³ ë¸”ë¦° ë™êµ´',level:5,description:'ê³ ë¸”ë¦°ë“¤ì´ ì„œì‹í•˜ëŠ” ìœ„í—˜í•œ ë™êµ´ì…ë‹ˆë‹¤.',floors:15,currentFloor:1,monsters:[],rewards:{goldRange:[25,50],expRange:[40,75],itemDropChance:0.15},requiredLevel:5,isUnlocked:false},{id:'tower',name:'ë§ˆë²•ì‚¬ì˜ íƒ‘',level:10,description:'ê°•ë ¥í•œ ë§ˆë²• ëª¬ìŠ¤í„°ë“¤ì´ ìˆëŠ” íƒ‘ì…ë‹ˆë‹¤.',floors:20,currentFloor:1,monsters:[],rewards:{goldRange:[50,100],expRange:[80,150],itemDropChance:0.2},requiredLevel:10,isUnlocked:false}];// ìƒì  ì•„ì´í…œ ì´ˆê¸°í™”\nconst shopItems=[{id:'sword1',name:'ê°•ì²  ê²€',type:'weapon',rarity:'common',level:1,stats:{attack:15},price:200,enhancement:0},{id:'armor1',name:'ê°€ì£½ ê°‘ì˜·',type:'armor',rarity:'common',level:1,stats:{defense:10,hp:20},price:150,enhancement:0},{id:'helmet1',name:'ì² ì œ íˆ¬êµ¬',type:'helmet',rarity:'common',level:1,stats:{defense:5,hp:15},price:100,enhancement:0},// ë¬¼ì•½ë“¤\n{id:'health_potion',name:'ì²´ë ¥ ë¬¼ì•½',type:'consumable',rarity:'common',level:1,stats:{},price:50,enhancement:0,consumableEffect:{healHp:50},quantity:1},{id:'mana_potion',name:'ë§ˆë‚˜ ë¬¼ì•½',type:'consumable',rarity:'common',level:1,stats:{},price:40,enhancement:0,consumableEffect:{healMp:30},quantity:1},{id:'greater_health_potion',name:'ê³ ê¸‰ ì²´ë ¥ ë¬¼ì•½',type:'consumable',rarity:'rare',level:2,stats:{},price:120,enhancement:0,consumableEffect:{healHp:120},quantity:1},{id:'strength_potion',name:'í˜ì˜ ë¬¼ì•½',type:'consumable',rarity:'rare',level:2,stats:{},price:100,enhancement:0,consumableEffect:{buffType:'attack',buffAmount:10,buffDuration:30000},quantity:1},{id:'defense_potion',name:'ë°©ì–´ì˜ ë¬¼ì•½',type:'consumable',rarity:'rare',level:2,stats:{},price:100,enhancement:0,consumableEffect:{buffType:'defense',buffAmount:8,buffDuration:30000},quantity:1}];setCharacter(prev=>({...prev,name:texts.character.name,class:texts.character.class,skills:initialSkills}));setAvailableDungeons(initialDungeons);setShop(shopItems);// Store texts globally for other functions to use\nwindow.gameTexts=texts;// ë˜ì „ì— ìˆì§€ ì•Šì„ ë•Œë§Œ ì¼ë°˜ ëª¬ìŠ¤í„° ìƒì„±\nif(!inDungeon){spawnMonster();}};// ëª¬ìŠ¤í„° ìƒì„±\nconst spawnMonster=()=>{// ì´ë¯¸ ëª¬ìŠ¤í„°ê°€ ìˆê±°ë‚˜ ë˜ì „ì— ìˆìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•ŠìŒ\nconst gameTexts=window.gameTexts||{monsters:{slime:'ìŠ¬ë¼ì„',goblin:'ê³ ë¸”ë¦°',orc:'ì˜¤í¬',troll:'íŠ¸ë¡¤',dragon:'ë“œë˜ê³¤'},combat:{appeared:'ì´ ë‚˜íƒ€ë‚¬ë‹¤!'}};const monsters=[{name:gameTexts.monsters.slime,baseHp:40,baseAttack:8,baseDefense:2,exp:15,gold:10},{name:gameTexts.monsters.goblin,baseHp:60,baseAttack:12,baseDefense:4,exp:25,gold:18},{name:gameTexts.monsters.orc,baseHp:100,baseAttack:18,baseDefense:8,exp:40,gold:30},{name:gameTexts.monsters.troll,baseHp:150,baseAttack:25,baseDefense:12,exp:60,gold:45},{name:gameTexts.monsters.dragon,baseHp:300,baseAttack:40,baseDefense:20,exp:120,gold:100}];const randomMonster=monsters[Math.floor(Math.random()*monsters.length)];const levelMultiplier=1+(character.level-1)*0.3;const monster={id:`monster_${Date.now()}`,name:randomMonster.name,level:Math.max(1,character.level+Math.floor(Math.random()*3-1)),hp:Math.floor(randomMonster.baseHp*levelMultiplier),maxHp:Math.floor(randomMonster.baseHp*levelMultiplier),attack:Math.floor(randomMonster.baseAttack*levelMultiplier),defense:Math.floor(randomMonster.baseDefense*levelMultiplier),speed:10,exp:Math.floor(randomMonster.exp*levelMultiplier),gold:Math.floor(randomMonster.gold*levelMultiplier),dropItems:generateDropItems(),isBoss:Math.random()<0.1// 10% ë³´ìŠ¤ í™•ë¥ \n};if(monster.isBoss){monster.name=`ë³´ìŠ¤ ${monster.name}`;monster.hp*=3;monster.maxHp*=3;monster.attack*=2;monster.defense*=2;monster.exp*=5;monster.gold*=3;}setCurrentMonster(monster);addToCombatLog(`${monster.name} Lv.${monster.level}${gameTexts.combat.appeared}`);};// ë“œë¡­ ì•„ì´í…œ ìƒì„±\nconst generateDropItems=()=>{const dropChance=Math.random();if(dropChance<0.1){// 10% í™•ë¥ ë¡œ ì•„ì´í…œ ë“œë¡­\nconst rarities=['common','rare','epic','legendary','mythic'];const rarity=rarities[Math.floor(Math.random()*rarities.length)];const itemTypes=['weapon','armor','helmet','boots','ring','amulet'];const itemType=itemTypes[Math.floor(Math.random()*itemTypes.length)];return[{id:`drop_${Date.now()}`,name:generateItemName(rarity,itemType),type:itemType,rarity,level:character.level,stats:generateItemStats(rarity),price:calculateItemPrice(rarity,character.level),enhancement:0}];}return[];};const generateItemName=(rarity,itemType)=>{const prefixes={common:['ë‚¡ì€','ì¼ë°˜ì ì¸','ê¸°ë³¸'],rare:['ë‚ ì¹´ë¡œìš´','íŠ¼íŠ¼í•œ','ë§ˆë²•ì˜'],epic:['ì „ì„¤ì ì¸','ê³ ëŒ€ì˜','ì‹ ì„±í•œ'],legendary:['ì „ì„¤ì˜','ì˜ì›…ì˜','ë¶ˆë©¸ì˜'],mythic:['ì‹ í™”ì˜','ì°½ì¡°ì˜','ì ˆëŒ€ì˜']};const itemNames={weapon:['ê²€','ë„ë¼','ì°½','í™œ','ì§€íŒ¡ì´'],armor:['ê°‘ì˜·','ë¡œë¸Œ','ì‚¬ìŠ¬ê°‘ì˜·','ê°€ì£½ê°‘ì˜·'],helmet:['íˆ¬êµ¬','ëª¨ì','ê´€','í—¬ë¦„'],boots:['ì‹ ë°œ','ë¶€ì¸ ','ì¥í™”','ìƒŒë“¤'],ring:['ë°˜ì§€','ë§','ë°´ë“œ'],amulet:['ëª©ê±¸ì´','ë¶€ì ','íœë˜íŠ¸']};const prefix=prefixes[rarity][Math.floor(Math.random()*3)];const itemTypeNames=itemNames[itemType]||['ì•„ì´í…œ'];const item=itemTypeNames[Math.floor(Math.random()*itemTypeNames.length)];return`${prefix} ${item}`;};const generateItemStats=rarity=>{const multipliers={common:1,rare:1.5,epic:2.5,legendary:4,mythic:7};const base=multipliers[rarity];return{attack:Math.floor(Math.random()*20*base),defense:Math.floor(Math.random()*15*base),hp:Math.floor(Math.random()*50*base),mp:Math.floor(Math.random()*30*base),speed:Math.floor(Math.random()*10*base),critRate:Math.floor(Math.random()*10*base),critDamage:Math.floor(Math.random()*20*base)};};const calculateItemPrice=(rarity,level)=>{const basePrice={common:50,rare:150,epic:500,legendary:2000,mythic:10000};return Math.floor(basePrice[rarity]*(1+level*0.2));};// ì „íˆ¬ ì‹œìŠ¤í…œ\nconst attack=()=>{if(!currentMonster)return;const buffedAttack=character.attack+character.buffs.attack.amount;const damage=calculateDamage(buffedAttack,currentMonster.defense);const isCritical=Math.random()<0.1+character.stats.luck*0.01;const finalDamage=isCritical?Math.floor(damage*1.5):damage;const newMonsterHp=Math.max(0,currentMonster.hp-finalDamage);setCurrentMonster(prev=>prev?{...prev,hp:newMonsterHp}:null);const gameTexts=window.gameTexts||{combat:{attack:'ì˜ ê³µê²©!',damage:'ë°ë¯¸ì§€!',critical:'ì¹˜ëª…íƒ€!'}};addToCombatLog(`${character.name}${gameTexts.combat.attack} ${finalDamage}${isCritical?` (${gameTexts.combat.critical})`:''} ${gameTexts.combat.damage}`);onAction('combat_attack',{user_id:currentUser.user_id,damage:finalDamage,is_critical:isCritical,monster_name:currentMonster.name,monster_level:currentMonster.level,character_level:character.level,character_attack:character.attack,monster_hp_remaining:newMonsterHp,dungeon_name:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.name)||null,dungeon_floor:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.currentFloor)||null});if(newMonsterHp<=0){defeatMonster();}else{// ëª¬ìŠ¤í„° ë°˜ê²©\nsetTimeout(()=>monsterAttack(),1000);}};const monsterAttack=()=>{if(!currentMonster||currentMonster.hp<=0)return;const buffedDefense=character.defense+character.buffs.defense.amount;const damage=calculateDamage(currentMonster.attack,buffedDefense);const newHp=Math.max(0,character.hp-damage);setCharacter(prev=>({...prev,hp:newHp}));const gameTexts=window.gameTexts||{combat:{attack:'ì˜ ê³µê²©!',damage:'ë°ë¯¸ì§€!'}};addToCombatLog(`${currentMonster.name}${gameTexts.combat.attack} ${damage} ${gameTexts.combat.damage}`);if(newHp<=0){const gameTexts=window.gameTexts||{combat:{defeat:'ì „íˆ¬ì—ì„œ íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤...'}};addToCombatLog(gameTexts.combat.defeat);setIsAutoFighting(false);// ì „íˆ¬ ì‹¤íŒ¨ ì´ë²¤íŠ¸ ë¡œê¹…\nonAction('combat_defeat',{monster_name:currentMonster.name,monster_level:currentMonster.level,character_level:character.level,dungeon_id:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.id)||'field',dungeon_name:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.name)||'field',damage_taken:currentMonster.attack,character_defense:character.defense});// ë˜ì „ì—ì„œ ë‚˜ê°€ê³  ì²´ë ¥/ë§ˆë‚˜ ì™„ì „ íšŒë³µ\nsetTimeout(()=>{setCharacter(prev=>({...prev,hp:prev.maxHp,mp:prev.maxMp}));if(inDungeon&&currentDungeon){// ë˜ì „ì—ì„œ ë‚˜ê°€ê¸° (ì£½ìŒìœ¼ë¡œ ì¸í•œ ìë™ í‡´ì¥)\nonAction('dungeon_exited',{dungeon_id:currentDungeon.id,dungeon_name:currentDungeon.name,current_floor:currentDungeon.currentFloor,total_floors:currentDungeon.floors,character_level:character.level,exit_reason:'death',time_spent:new Date().getTime()});setInDungeon(false);setCurrentDungeon(null);setCurrentTab('lobby');setGameMode('lobby');addToCombatLog('ë˜ì „ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!');}else{// ì¼ë°˜ í•„ë“œì—ì„œëŠ” ìƒˆ ëª¬ìŠ¤í„° ìŠ¤í°\naddToCombatLog('ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!');spawnMonster();}},2000);}};const calculateDamage=(attack,defense)=>{const baseDamage=Math.max(1,attack-Math.floor(defense*0.5));return Math.floor(baseDamage*(0.8+Math.random()*0.4));};const defeatMonster=()=>{if(!currentMonster)return;const expGained=currentMonster.exp;const goldGained=currentMonster.gold;setCharacter(prev=>{const newExp=prev.exp+expGained;const newGold=prev.gold+goldGained;let newLevel=prev.level;let newMaxExp=prev.maxExp;let newHp=prev.hp;let newMaxHp=prev.maxHp;let availablePoints=prev.stats.availablePoints;// ë ˆë²¨ì—… ì²´í¬\nif(newExp>=prev.maxExp){newLevel+=1;newMaxExp=Math.floor(prev.maxExp*1.5);newMaxHp+=20;newHp=newMaxHp;// ë ˆë²¨ì—… ì‹œ ì²´ë ¥ ì™„ì „ íšŒë³µ\navailablePoints+=5;addToCombatLog(`ğŸ‰ ë ˆë²¨ì—…! Lv.${newLevel}ì´ ë˜ì—ˆìŠµë‹ˆë‹¤!`);onAction('level_up',{user_id:currentUser.user_id,new_level:newLevel,character_class:prev.class,stat_points_gained:5});// ë˜ì „ í•´ê¸ˆ ì²´í¬\nsetAvailableDungeons(prevDungeons=>prevDungeons.map(dungeon=>({...dungeon,isUnlocked:dungeon.isUnlocked||newLevel>=dungeon.requiredLevel})));}return{...prev,exp:newExp>=prev.maxExp?newExp-prev.maxExp:newExp,gold:newGold,level:newLevel,maxExp:newMaxExp,hp:newHp,maxHp:newMaxHp,stats:{...prev.stats,availablePoints}};});// ì•„ì´í…œ ë“œë¡­ ì²˜ë¦¬\nif(currentMonster.dropItems.length>0){setInventory(prev=>[...prev,...currentMonster.dropItems]);addToCombatLog(`âœ¨ ${currentMonster.dropItems[0].name}ì„ íšë“í–ˆìŠµë‹ˆë‹¤!`);}addToCombatLog(`${currentMonster.name}ë¥¼ ë¬¼ë¦¬ì³¤ë‹¤! EXP +${expGained}, ê³¨ë“œ +${goldGained}`);// ì¶”ì  ì¹´ìš´í„° ì—…ë°ì´íŠ¸\nsetMonstersDefeated(prev=>prev+1);setTotalGoldEarned(prev=>prev+goldGained);onAction('monster_defeated',{user_id:currentUser.user_id,monster_name:currentMonster.name,monster_level:currentMonster.level,character_level:character.level,exp_gained:expGained,gold_gained:goldGained,items_dropped:currentMonster.dropItems.length,character_attack:character.attack,dungeon_name:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.name)||null,dungeon_floor:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.currentFloor)||null});// í˜„ì¬ ëª¬ìŠ¤í„° ì œê±°\nsetCurrentMonster(null);// ë˜ì „ì— ìˆëŠ” ê²½ìš° ìë™ìœ¼ë¡œ ë‹¤ìŒ ì¸µ ì§„í–‰, ì•„ë‹ˆë©´ ìƒˆ ëª¬ìŠ¤í„° ìƒì„±\nif(inDungeon&&currentDungeon){if(currentDungeon.currentFloor<currentDungeon.floors){// ì§„í–‰ ë°”ë¥¼ í†µí•œ ë‹¤ìŒ ì¸µ ì§„í–‰\nsetShowDungeonChoice(true);addToCombatLog(`${currentDungeon.currentFloor+1}ì¸µìœ¼ë¡œ ì§„í–‰ ì¤€ë¹„ ì¤‘...`);// 3ì´ˆ í›„ ìë™ ì§„í–‰\nsetTimeout(()=>{const updatedDungeon={...currentDungeon,currentFloor:currentDungeon.currentFloor+1};setCurrentDungeon(updatedDungeon);setShowDungeonChoice(false);addToCombatLog(`${updatedDungeon.currentFloor}ì¸µì— ë„ì°©í–ˆìŠµë‹ˆë‹¤!`);setTimeout(()=>{spawnDungeonMonster(updatedDungeon);},500);},3000);}else{// ë˜ì „ í´ë¦¬ì–´\naddToCombatLog(`ğŸ‰ ${currentDungeon.name} ë˜ì „ì„ í´ë¦¬ì–´í–ˆìŠµë‹ˆë‹¤!`);onAction('dungeon_cleared',{dungeon_id:currentDungeon.id,dungeon_name:currentDungeon.name,floors_cleared:currentDungeon.floors,character_level:character.level,completion_time:new Date().getTime(),monsters_defeated:monstersDefeated,gold_earned:totalGoldEarned});setTimeout(()=>{setInDungeon(false);setCurrentDungeon(null);setCurrentTab('lobby');addToCombatLog('ë˜ì „ì—ì„œ ìë™ìœ¼ë¡œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!');setCharacter(prev=>({...prev,hp:prev.maxHp,mp:prev.maxMp}));setTimeout(()=>{spawnMonster();},1000);},3000);}}else{// ì¼ë°˜ ë°©ì¹˜í˜• ì „íˆ¬ì—ì„œ ìƒˆ ëª¬ìŠ¤í„° ìƒì„±\nsetTimeout(()=>{spawnMonster();},2000);}};// ë‹¤ìŒ ì¸µìœ¼ë¡œ ì§„í–‰\nconst proceedToNextFloor=()=>{if(!currentDungeon)return;const updatedDungeon={...currentDungeon,currentFloor:currentDungeon.currentFloor+1};setCurrentDungeon(updatedDungeon);setShowDungeonChoice(false);setTimeout(()=>{spawnDungeonMonster(updatedDungeon);addToCombatLog(`${updatedDungeon.currentFloor}ì¸µìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤!`);},500);};// ë˜ì „ ë‚˜ê°€ê¸°\nconst exitDungeonAfterVictory=()=>{if(!currentDungeon)return;// ë˜ì „ ë‚˜ê°€ê¸° ì´ë²¤íŠ¸ ë¡œê¹…\nonAction('dungeon_exited',{dungeon_id:currentDungeon.id,dungeon_name:currentDungeon.name,current_floor:currentDungeon.currentFloor,total_floors:currentDungeon.floors,character_level:character.level,exit_reason:'victory_choice',time_spent:new Date().getTime()});// ë˜ì „ ë¦¬ì…‹ (í˜„ì¬ ì¸µì„ 1ì¸µìœ¼ë¡œ ë˜ëŒë¦¼)\nconst resetDungeon={...currentDungeon,currentFloor:1};setAvailableDungeons(prev=>prev.map(d=>d.id===resetDungeon.id?resetDungeon:d));setInDungeon(false);setCurrentDungeon(null);setCurrentTab('lobby');setGameMode('lobby');setShowDungeonChoice(false);// ì²´ë ¥ê³¼ ë§ˆë‚˜ ì™„ì „ íšŒë³µ\nsetCharacter(prev=>({...prev,hp:prev.maxHp,mp:prev.maxMp}));addToCombatLog('ë˜ì „ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!');// ìƒˆë¡œìš´ ì¼ë°˜ ëª¬ìŠ¤í„° ìƒì„±\nsetTimeout(()=>{spawnMonster();},1000);};// ìë™ ì „íˆ¬\nuseEffect(()=>{if(isAutoFighting&&currentMonster&&currentMonster.hp>0&&character.hp>0){const autoAttackTimer=setTimeout(()=>{attack();},2000);return()=>clearTimeout(autoAttackTimer);}},[isAutoFighting,currentMonster,character.hp]);// ìŠ¤í‚¬ ì¿¨ë‹¤ìš´ ë° MP íšŒë³µ\nuseEffect(()=>{const interval=setInterval(()=>{setCharacter(prev=>({...prev,mp:Math.min(prev.maxMp,prev.mp+1),skills:prev.skills.map(skill=>({...skill,currentCooldown:Math.max(0,skill.currentCooldown-100)})),buffs:{attack:{amount:prev.buffs.attack.duration>0?prev.buffs.attack.amount:0,duration:Math.max(0,prev.buffs.attack.duration-100)},defense:{amount:prev.buffs.defense.duration>0?prev.buffs.defense.amount:0,duration:Math.max(0,prev.buffs.defense.duration-100)},speed:{amount:prev.buffs.speed.duration>0?prev.buffs.speed.amount:0,duration:Math.max(0,prev.buffs.speed.duration-100)}}}));},100);return()=>clearInterval(interval);},[]);const addToCombatLog=message=>{setCombatLog(prev=>{const newLog=[...prev,message];if(newLog.length>50)newLog.shift();return newLog;});// Auto-scroll to bottom immediately and with backup timing\nif(logRef.current){logRef.current.scrollTop=logRef.current.scrollHeight;}// Additional scroll with slight delay to ensure content is rendered\nsetTimeout(()=>{if(logRef.current){logRef.current.scrollTop=logRef.current.scrollHeight;}},10);// Final backup scroll\nsetTimeout(()=>{if(logRef.current){logRef.current.scrollTop=logRef.current.scrollHeight;}},100);};// ìŠ¤íƒ¯ ë¶„ë°°\nconst allocateStatPoint=stat=>{if(character.stats.availablePoints<=0)return;setCharacter(prev=>({...prev,stats:{...prev.stats,[stat]:prev.stats[stat]+1,availablePoints:prev.stats.availablePoints-1},// ìŠ¤íƒ¯ì— ë”°ë¥¸ ëŠ¥ë ¥ì¹˜ ì—…ë°ì´íŠ¸\nattack:stat==='strength'?prev.attack+2:prev.attack,defense:stat==='vitality'?prev.defense+1:prev.defense,maxHp:stat==='vitality'?prev.maxHp+10:prev.maxHp,maxMp:stat==='intelligence'?prev.maxMp+5:prev.maxMp,speed:stat==='agility'?prev.speed+1:prev.speed}));};// ì•„ì´í…œ ì¥ì°©\nconst equipItem=item=>{// ì†Œë¹„ ì•„ì´í…œì€ ì¥ì°©í•  ìˆ˜ ì—†ìŒ\nif(item.type==='consumable'){return;}setCharacter(prev=>{const newEquipment={...prev.equipment};newEquipment[item.type]=item;// ì¥ì°©í•œ ì•„ì´í…œì˜ ìŠ¤íƒ¯ ì ìš©\nlet newAttack=prev.attack;let newDefense=prev.defense;let newMaxHp=prev.maxHp;let newMaxMp=prev.maxMp;let newSpeed=prev.speed;if(item.stats.attack)newAttack+=item.stats.attack;if(item.stats.defense)newDefense+=item.stats.defense;if(item.stats.hp)newMaxHp+=item.stats.hp;if(item.stats.mp)newMaxMp+=item.stats.mp;if(item.stats.speed)newSpeed+=item.stats.speed;return{...prev,equipment:newEquipment,attack:newAttack,defense:newDefense,maxHp:newMaxHp,maxMp:newMaxMp,speed:newSpeed};});// ì¸ë²¤í† ë¦¬ì—ì„œ ì•„ì´í…œ ì œê±°\nsetInventory(prev=>prev.filter(invItem=>invItem.id!==item.id));addToCombatLog(`${item.name}ì„ ì¥ì°©í–ˆìŠµë‹ˆë‹¤!`);};// ì•„ì´í…œ íŒë§¤\nconst sellItem=item=>{const sellPrice=Math.floor(item.price*0.7);setCharacter(prev=>({...prev,gold:prev.gold+sellPrice}));setInventory(prev=>prev.filter(invItem=>invItem.id!==item.id));addToCombatLog(`${item.name}ì„ ${sellPrice} ê³¨ë“œì— íŒë§¤í–ˆìŠµë‹ˆë‹¤!`);};// ì•„ì´í…œ êµ¬ë§¤\nconst buyItem=item=>{if(character.gold<item.price)return;setCharacter(prev=>({...prev,gold:prev.gold-item.price}));setInventory(prev=>[...prev,{...item,id:`${item.id}_${Date.now()}`}]);addToCombatLog(`${item.name}ì„ êµ¬ë§¤í–ˆìŠµë‹ˆë‹¤!`);};const getRarityColor=rarity=>{const colors={common:'#9ca3af',rare:'#3b82f6',epic:'#8b5cf6',legendary:'#f59e0b',mythic:'#ef4444'};return colors[rarity]||'#9ca3af';};// ë˜ì „ ì…ì¥ í•¨ìˆ˜\nconst enterDungeon=dungeon=>{if(character.level<dungeon.requiredLevel){addToCombatLog(`ë ˆë²¨ ${dungeon.requiredLevel} ì´ìƒì´ì–´ì•¼ ì…ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.`);return;}setCurrentDungeon(dungeon);setInDungeon(true);setGameMode('dungeon');setCurrentTab('dungeon');spawnDungeonMonster(dungeon);// ì´ë²¤íŠ¸ ë¡œê¹…\nonAction('dungeon_entered',{dungeon_id:dungeon.id,dungeon_name:dungeon.name,character_level:character.level,floor:dungeon.currentFloor,character_attack:character.attack,character_defense:character.defense,character_hp:character.hp,character_mp:character.mp,entry_time:new Date().getTime()});};// ë˜ì „ ëª¬ìŠ¤í„° ìŠ¤í°\nconst spawnDungeonMonster=dungeon=>{// ì´ë¯¸ ëª¬ìŠ¤í„°ê°€ ìˆìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•ŠìŒ\nif(currentMonster)return;const baseMonsters=[{name:'ìŠ¬ë¼ì„',baseHp:30,baseAttack:8,baseDefense:2},{name:'ê³ ë¸”ë¦°',baseHp:50,baseAttack:12,baseDefense:4},{name:'ì˜¤í¬',baseHp:100,baseAttack:18,baseDefense:8},{name:'íŠ¸ë¡¤',baseHp:150,baseAttack:25,baseDefense:12},{name:'ë“œë˜ê³¤',baseHp:300,baseAttack:40,baseDefense:20}];// ì¸µìˆ˜ì— ë”°ë¥¸ ì ì§„ì  ëª¬ìŠ¤í„° ì„ íƒ ë¡œì§\nconst floorBasedMonsterIndex=()=>{const currentFloor=dungeon.currentFloor;if(currentFloor<=3)return 0;// ìŠ¬ë¼ì„ (1~3ì¸µ)\nif(currentFloor<=7)return 1;// ê³ ë¸”ë¦° (4~7ì¸µ)  \nif(currentFloor<=12)return 2;// ì˜¤í¬ (8~12ì¸µ)\nif(currentFloor<=18)return 3;// íŠ¸ë¡¤ (13~18ì¸µ)\nreturn 4;// ë“œë˜ê³¤ (19ì¸µ ì´ìƒ)\n};// ì¸µìˆ˜ ê¸°ë°˜ ê¸°ë³¸ ëª¬ìŠ¤í„° + ì•½ê°„ì˜ ëœë¤ì„± ì¶”ê°€\nconst baseIndex=floorBasedMonsterIndex();const randomVariation=Math.random()<0.3&&baseIndex>0?-1:0;// 30% í™•ë¥ ë¡œ í•œ ë‹¨ê³„ ë‚®ì€ ëª¬ìŠ¤í„°\nconst selectedIndex=Math.max(0,baseIndex+randomVariation);const selectedMonster=baseMonsters[selectedIndex];const levelMultiplier=1+(dungeon.level+dungeon.currentFloor-1)*0.2;const monster={id:`dungeon_${dungeon.id}_${Date.now()}`,name:`${dungeon.name} ${selectedMonster.name}`,level:dungeon.level+dungeon.currentFloor,hp:Math.floor(selectedMonster.baseHp*levelMultiplier),maxHp:Math.floor(selectedMonster.baseHp*levelMultiplier),attack:Math.floor(selectedMonster.baseAttack*levelMultiplier),defense:Math.floor(selectedMonster.baseDefense*levelMultiplier),speed:10,exp:Math.floor((15+dungeon.level*5)*levelMultiplier),gold:Math.floor((10+dungeon.level*3)*levelMultiplier),dropItems:generateDropItems(),isBoss:dungeon.currentFloor%5===0};if(monster.isBoss){monster.name=`ë³´ìŠ¤ ${monster.name}`;monster.hp*=2;monster.maxHp*=2;monster.attack*=1.5;monster.exp*=3;monster.gold*=2;}setCurrentMonster(monster);addToCombatLog(`${monster.name} Lv.${monster.level}ì´ ë‚˜íƒ€ë‚¬ë‹¤!`);};// ë¬¼ì•½ ì‚¬ìš© í•¨ìˆ˜\nconst consumeItem=item=>{if(item.type!=='consumable'||!item.consumableEffect)return;const effect=item.consumableEffect;// ì²´ë ¥ íšŒë³µ\nif(effect.healHp){setCharacter(prev=>({...prev,hp:Math.min(prev.maxHp,prev.hp+effect.healHp)}));addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ HP ${effect.healHp} íšŒë³µ!`);}// ë§ˆë‚˜ íšŒë³µ\nif(effect.healMp){setCharacter(prev=>({...prev,mp:Math.min(prev.maxMp,prev.mp+effect.healMp)}));addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ MP ${effect.healMp} íšŒë³µ!`);}// ë²„í”„ íš¨ê³¼\nif(effect.buffType&&effect.buffAmount&&effect.buffDuration){setCharacter(prev=>({...prev,buffs:{...prev.buffs,[effect.buffType]:{amount:effect.buffAmount,duration:effect.buffDuration}}}));addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ ${effect.buffType==='attack'?'ê³µê²©ë ¥':effect.buffType==='defense'?'ë°©ì–´ë ¥':'ì†ë„'} ${effect.buffAmount} ì¦ê°€! (${effect.buffDuration/1000}ì´ˆ)`);}// ì¸ë²¤í† ë¦¬ì—ì„œ ë¬¼ì•½ ì œê±° ë˜ëŠ” ìˆ˜ëŸ‰ ê°ì†Œ\nsetInventory(prev=>{const itemIndex=prev.findIndex(invItem=>invItem.id===item.id);if(itemIndex!==-1){const newInventory=[...prev];const currentItem=newInventory[itemIndex];if(currentItem.quantity&&currentItem.quantity>1){newInventory[itemIndex]={...currentItem,quantity:currentItem.quantity-1};}else{newInventory.splice(itemIndex,1);}return newInventory;}return prev;});// ì´ë²¤íŠ¸ ë¡œê¹…\nonAction('consumable_used',{item_name:item.name,item_type:item.type,character_level:character.level,heal_hp:effect.healHp||0,heal_mp:effect.healMp||0,buff_type:effect.buffType||'none',buff_amount:effect.buffAmount||0,character_hp_before:character.hp,character_mp_before:character.mp,dungeon_name:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.name)||null});};// ìŠ¤í‚¬ ì‚¬ìš© í•¨ìˆ˜\nconst castSkill=skill=>{if(skill.currentCooldown>0||character.mp<skill.manaCost)return;// ìŠ¤í‚¬ ì‚¬ìš© ë¡œì§\nif(skill.id==='heal'){const healAmount=30+skill.level*5;setCharacter(prev=>({...prev,hp:Math.min(prev.maxHp,prev.hp+healAmount),mp:prev.mp-skill.manaCost}));addToCombatLog(`${healAmount}ë§Œí¼ íšŒë³µí–ˆë‹¤!`);}else{// ê³µê²© ìŠ¤í‚¬\nif(currentMonster){const damage=calculateDamage(skill.damage+skill.level*3,currentMonster.defense);const newMonsterHp=Math.max(0,currentMonster.hp-damage);setCurrentMonster(prev=>prev?{...prev,hp:newMonsterHp}:null);setCharacter(prev=>({...prev,mp:prev.mp-skill.manaCost}));addToCombatLog(`${skill.name}ë¡œ ${damage} ë°ë¯¸ì§€!`);// ëª¬ìŠ¤í„°ê°€ ì£½ì§€ ì•Šì•˜ìœ¼ë©´ ë°˜ê²©\nif(newMonsterHp>0){setTimeout(()=>{monsterAttack();},1000);}else{// ëª¬ìŠ¤í„°ê°€ ì£½ì—ˆìœ¼ë©´ ì²˜ì¹˜ ì²˜ë¦¬\nsetTimeout(()=>{defeatMonster();},1500);}}}// ì¿¨ë‹¤ìš´ ì ìš©\nsetCharacter(prev=>({...prev,skills:prev.skills.map(s=>s.id===skill.id?{...s,currentCooldown:s.cooldown}:s)}));// ì´ë²¤íŠ¸ ë¡œê¹…\nonAction('skill_used',{skill_name:skill.name,skill_level:skill.level,mana_cost:skill.manaCost,character_level:character.level,character_mp_before:character.mp,character_mp_after:character.mp-skill.manaCost,dungeon_name:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.name)||null});};// ìŠ¤íƒ¯ í¬ì¸íŠ¸ í• ë‹¹\nconst allocateStat=statName=>{if(character.stats.availablePoints<=0)return;setCharacter(prev=>({...prev,stats:{...prev.stats,[statName]:prev.stats[statName]+1,availablePoints:prev.stats.availablePoints-1}}));// ìŠ¤íƒ¯ì— ë”°ë¥¸ ëŠ¥ë ¥ì¹˜ ì—…ë°ì´íŠ¸\nlet hpBonus=0,mpBonus=0,attackBonus=0,defenseBonus=0;if(statName==='vitality')hpBonus=5;if(statName==='intelligence')mpBonus=3;if(statName==='strength')attackBonus=2;if(statName==='agility'){attackBonus=1;defenseBonus=1;}setCharacter(prev=>({...prev,maxHp:prev.maxHp+hpBonus,hp:prev.hp+hpBonus,maxMp:prev.maxMp+mpBonus,mp:prev.mp+mpBonus,attack:prev.attack+attackBonus,defense:prev.defense+defenseBonus}));// ì´ë²¤íŠ¸ ë¡œê¹…\nonAction('stat_allocated',{stat_name:statName,stat_value:character.stats[statName]+1,character_level:character.level,available_points:character.stats.availablePoints-1});};// ê³µí†µ ìºë¦­í„° ì •ë³´ í—¤ë” ì»´í¬ë„ŒíŠ¸\nconst renderCharacterHeader=()=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)',borderRadius:'15px',padding:'15px 20px',marginBottom:'20px',display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(120px, 1fr))',gap:'15px',color:'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'20px',fontWeight:'bold',color:'#ffffff'},children:[\"Lv.\",character.level]}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#e0e7ff',fontSize:'12px'},children:\"\\uB808\\uBCA8\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'20px',fontWeight:'bold',color:'#fbbf24'},children:[character.gold,\"G\"]}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#e0e7ff',fontSize:'12px'},children:\"\\uACE8\\uB4DC\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'bold',color:'#f87171'},children:character.attack}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#e0e7ff',fontSize:'12px'},children:\"\\uACF5\\uACA9\\uB825\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'bold',color:'#60a5fa'},children:character.defense}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#e0e7ff',fontSize:'12px'},children:\"\\uBC29\\uC5B4\\uB825\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'16px',fontWeight:'bold',color:'#34d399'},children:[character.hp,\"/\",character.maxHp]}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#e0e7ff',fontSize:'12px'},children:\"\\uCCB4\\uB825\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'16px',fontWeight:'bold',color:'#a78bfa'},children:[character.mp,\"/\",character.maxMp]}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#e0e7ff',fontSize:'12px'},children:\"\\uB9C8\\uB098\"})]})]});// ë¡œë¹„ ë Œë”ë§\nconst renderLobbyTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#1f2937',minHeight:'600px'},children:[renderCharacterHeader(),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #059669 0%, #10b981 100%)',borderRadius:'15px',padding:'20px',marginBottom:'20px',color:'white',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0 0 10px 0',fontSize:'24px'},children:\"\\uD83C\\uDFE0 \\uBAA8\\uD5D8\\uAC00 \\uB85C\\uBE44\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,opacity:0.9},children:\"\\uB358\\uC804\\uC744 \\uC120\\uD0DD\\uD558\\uC5EC \\uBAA8\\uD5D8\\uC744 \\uC2DC\\uC791\\uD558\\uC138\\uC694!\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'white',marginBottom:'15px',fontSize:'20px'},children:\"\\uD83C\\uDFF0 \\uB358\\uC804 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'15px'},children:availableDungeons.map(dungeon=>/*#__PURE__*/_jsx(\"div\",{style:{background:dungeon.isUnlocked?'#374151':'#1f2937',borderRadius:'10px',padding:'20px',border:dungeon.isUnlocked?'2px solid #10b981':'2px solid #4b5563',opacity:dungeon.isUnlocked?1:0.6},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:'white',margin:'0 0 5px 0',fontSize:'18px'},children:[dungeon.name,\" (Lv.\",dungeon.level,\")\"]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#9ca3af',margin:'0 0 10px 0',fontSize:'14px'},children:dungeon.description}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#6b7280'},children:[\"\\uD544\\uC694 \\uB808\\uBCA8: \",dungeon.requiredLevel,\" | \\uCE35\\uC218: \",dungeon.floors,\"\\uCE35 | \\uD604\\uC7AC \\uCE35: \",dungeon.currentFloor,\"\\uCE35\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>enterDungeon(dungeon),disabled:!dungeon.isUnlocked||character.level<dungeon.requiredLevel,style:{background:dungeon.isUnlocked&&character.level>=dungeon.requiredLevel?'linear-gradient(135deg, #10b981 0%, #059669 100%)':'#4b5563',color:'white',border:'none',borderRadius:'8px',padding:'12px 20px',fontSize:'14px',fontWeight:'bold',cursor:dungeon.isUnlocked&&character.level>=dungeon.requiredLevel?'pointer':'not-allowed',transition:'all 0.3s ease'},children:dungeon.isUnlocked&&character.level>=dungeon.requiredLevel?'ì…ì¥':'ì ê¸ˆ'})]})},dungeon.id))})]})]});// ë˜ì „ íƒ­ ë Œë”ë§\nconst renderDungeonTab=()=>{if(!inDungeon||!currentDungeon){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'100px 20px',textAlign:'center',background:'#1f2937',color:'#9ca3af'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB358\\uC804\\uC5D0 \\uC785\\uC7A5\\uD558\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uB85C\\uBE44\\uC5D0\\uC11C \\uB358\\uC804\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#1f2937',minHeight:'600px'},children:[renderCharacterHeader(),/*#__PURE__*/_jsx(\"div\",{style:{background:'linear-gradient(135deg, #7c2d12 0%, #dc2626 100%)',borderRadius:'15px',padding:'20px',marginBottom:'20px',color:'white'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{style:{margin:'0 0 5px 0',fontSize:'24px'},children:[\"\\uD83C\\uDFF0 \",currentDungeon.name]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,opacity:0.9,fontSize:'14px'},children:[currentDungeon.currentFloor,\"\\uCE35 / \",currentDungeon.floors,\"\\uCE35\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// ë˜ì „ ë‚˜ê°€ê¸° ì´ë²¤íŠ¸ ë¡œê¹…\nonAction('dungeon_exited',{dungeon_id:currentDungeon.id,dungeon_name:currentDungeon.name,current_floor:currentDungeon.currentFloor,total_floors:currentDungeon.floors,character_level:character.level,exit_reason:'manual',time_spent:new Date().getTime()});setInDungeon(false);setCurrentDungeon(null);setCurrentTab('lobby');setGameMode('lobby');},style:{background:'#374151',color:'white',border:'none',borderRadius:'8px',padding:'10px 15px',cursor:'pointer'},children:\"\\uB358\\uC804 \\uB098\\uAC00\\uAE30\"})]})}),showDungeonChoice&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',borderRadius:'15px',padding:'20px',marginBottom:'20px',color:'white',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'18px',fontWeight:'bold',marginBottom:'10px'},children:\"\\uD83C\\uDFC3 \\uB2E4\\uC74C \\uCE35\\uC73C\\uB85C \\uC774\\uB3D9 \\uC911...\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(255, 255, 255, 0.2)',borderRadius:'10px',height:'8px',overflow:'hidden',marginBottom:'10px'},children:/*#__PURE__*/_jsx(\"div\",{style:{background:'linear-gradient(90deg, #10b981, #059669)',height:'100%',width:'100%',borderRadius:'10px',animation:'progress 3s linear'}})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',opacity:0.9},children:\"\\uC7A0\\uC2DC\\uB9CC \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694...\"})]}),currentMonster&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#374151',borderRadius:'15px',padding:'20px',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'20px',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'80px',height:'80px',background:'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',borderRadius:'50%',margin:'0 auto 10px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'30px'},children:\"\\u2694\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'white',marginBottom:'10px'},children:[character.name,\" Lv.\",character.level]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#1f2937',borderRadius:'10px',padding:'5px',marginBottom:'5px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'linear-gradient(90deg, #ef4444 0%, #dc2626 100%)',height:'8px',borderRadius:'4px',width:`${character.hp/character.maxHp*100}%`}}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'white',fontSize:'12px',marginTop:'5px'},children:[\"HP: \",character.hp,\"/\",character.maxHp]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'80px',height:'80px',background:'linear-gradient(135deg, #dc2626 0%, #991b1b 100%)',borderRadius:'50%',margin:'0 auto 10px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'30px'},children:\"\\uD83D\\uDC79\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'white',marginBottom:'10px'},children:[currentMonster.name,\" Lv.\",currentMonster.level,currentMonster.isBoss&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#fbbf24'},children:\" \\uD83D\\uDC51\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#1f2937',borderRadius:'10px',padding:'5px',marginBottom:'5px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'linear-gradient(90deg, #ef4444 0%, #dc2626 100%)',height:'8px',borderRadius:'4px',width:`${currentMonster.hp/currentMonster.maxHp*100}%`}}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'white',fontSize:'12px',marginTop:'5px'},children:[\"HP: \",currentMonster.hp,\"/\",currentMonster.maxHp]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',justifyContent:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:attack,disabled:character.hp<=0,style:{background:'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',color:'white',border:'none',borderRadius:'10px',padding:'12px 24px',fontSize:'16px',fontWeight:'bold',cursor:character.hp>0?'pointer':'not-allowed',opacity:character.hp>0?1:0.5},children:\"\\u2694\\uFE0F \\uACF5\\uACA9\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsAutoFighting(!isAutoFighting),style:{background:isAutoFighting?'linear-gradient(135deg, #dc2626 0%, #991b1b 100%)':'linear-gradient(135deg, #10b981 0%, #059669 100%)',color:'white',border:'none',borderRadius:'10px',padding:'12px 24px',fontSize:'16px',fontWeight:'bold',cursor:'pointer'},children:isAutoFighting?'â¸ï¸ ìë™ ì¤‘ì§€':'â–¶ï¸ ìë™ ì „íˆ¬'})]}),character.skills.filter(skill=>skill.type==='active').length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:'white',marginBottom:'10px',textAlign:'center',fontSize:'16px'},children:[\"\\u2728 \\uC2A4\\uD0AC \\uC0AC\\uC6A9 (MP: \",character.mp,\"/\",character.maxMp,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'8px',justifyContent:'center',flexWrap:'wrap'},children:character.skills.filter(skill=>skill.type==='active').map(skill=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>castSkill(skill),disabled:character.hp<=0||skill.currentCooldown>0||character.mp<skill.manaCost,style:{background:character.hp>0&&skill.currentCooldown===0&&character.mp>=skill.manaCost?'linear-gradient(135deg, #7c3aed 0%, #a855f7 100%)':'#4b5563',color:'white',border:'none',borderRadius:'8px',padding:'10px 16px',fontSize:'14px',fontWeight:'bold',cursor:character.hp>0&&skill.currentCooldown===0&&character.mp>=skill.manaCost?'pointer':'not-allowed',opacity:character.hp>0&&skill.currentCooldown===0&&character.mp>=skill.manaCost?1:0.6,position:'relative'},title:`${skill.description}\\nëŒ€ë¯¸ì§€: ${skill.damage+skill.level*3} | ë§ˆë‚˜: ${skill.manaCost}`,children:[/*#__PURE__*/_jsx(\"div\",{children:skill.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',opacity:0.8},children:[\"MP: \",skill.manaCost,skill.currentCooldown>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" | \",(skill.currentCooldown/1000).toFixed(1),\"s\"]})]})]},skill.id))})]}),inventory.filter(item=>item.type==='consumable').length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'white',marginBottom:'10px',textAlign:'center',fontSize:'16px'},children:\"\\uD83E\\uDDEA \\uBB3C\\uC57D \\uC0AC\\uC6A9\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'8px',justifyContent:'center',flexWrap:'wrap'},children:inventory.filter(item=>item.type==='consumable').map(item=>{var _item$consumableEffec,_item$consumableEffec2,_item$consumableEffec3,_item$consumableEffec4,_item$consumableEffec5;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>consumeItem(item),disabled:character.hp<=0,style:{background:character.hp>0?`linear-gradient(135deg, ${getRarityColor(item.rarity)} 0%, #374151 100%)`:'#4b5563',color:'white',border:'none',borderRadius:'8px',padding:'8px 12px',fontSize:'12px',fontWeight:'bold',cursor:character.hp>0?'pointer':'not-allowed',opacity:character.hp>0?1:0.6,position:'relative'},title:`${item.name}\\n${(_item$consumableEffec=item.consumableEffect)!==null&&_item$consumableEffec!==void 0&&_item$consumableEffec.healHp?`HP +${item.consumableEffect.healHp}`:''}${(_item$consumableEffec2=item.consumableEffect)!==null&&_item$consumableEffec2!==void 0&&_item$consumableEffec2.healMp?`MP +${item.consumableEffect.healMp}`:''}${(_item$consumableEffec3=item.consumableEffect)!==null&&_item$consumableEffec3!==void 0&&_item$consumableEffec3.buffType?`${item.consumableEffect.buffType} +${item.consumableEffect.buffAmount}`:''}`,children:[/*#__PURE__*/_jsx(\"div\",{children:item.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',opacity:0.8},children:[item.quantity&&item.quantity>1?`x${item.quantity}`:'',((_item$consumableEffec4=item.consumableEffect)===null||_item$consumableEffec4===void 0?void 0:_item$consumableEffec4.healHp)&&` HP+${item.consumableEffect.healHp}`,((_item$consumableEffec5=item.consumableEffect)===null||_item$consumableEffec5===void 0?void 0:_item$consumableEffec5.healMp)&&` MP+${item.consumableEffect.healMp}`]})]},item.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#1f2937',borderRadius:'10px',padding:'15px',height:'200px',overflowY:'auto',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',marginBottom:'10px',fontWeight:'bold'},children:\"\\uC804\\uD22C \\uB85C\\uADF8:\"}),combatLog.slice(-10).map((log,index)=>/*#__PURE__*/_jsx(\"div\",{style:{color:'#e5e7eb',marginBottom:'5px',lineHeight:'1.4'},children:log},index))]})]})]});};// ìŠ¤í‚¬ íŠ¸ë¦¬ ë Œë”ë§\nconst renderSkillsTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#1f2937',minHeight:'600px'},children:[renderCharacterHeader(),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #7c3aed 0%, #a855f7 100%)',borderRadius:'15px',padding:'20px',marginBottom:'20px',color:'white',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0 0 10px 0',fontSize:'24px'},children:\"\\u2728 \\uC2A4\\uD0AC \\uD2B8\\uB9AC\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,opacity:0.9},children:\"\\uC2A4\\uD0AC\\uC744 \\uC2B5\\uB4DD\\uD558\\uACE0 \\uB808\\uBCA8\\uC5C5\\uD558\\uC5EC \\uB354\\uC6B1 \\uAC15\\uD574\\uC9C0\\uC138\\uC694!\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'white',marginBottom:'15px',fontSize:'18px'},children:\"\\uBCF4\\uC720 \\uC2A4\\uD0AC\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'15px'},children:character.skills.map(skill=>/*#__PURE__*/_jsx(\"div\",{style:{background:'#374151',borderRadius:'10px',padding:'20px',border:'2px solid #6366f1'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:'white',margin:'0 0 5px 0',fontSize:'16px'},children:[skill.name,\" Lv.\",skill.level,\"/\",skill.maxLevel]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#9ca3af',margin:'0 0 10px 0',fontSize:'14px'},children:skill.description}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#6b7280'},children:skill.type==='active'?/*#__PURE__*/_jsxs(_Fragment,{children:[\"\\uB300\\uBBF8\\uC9C0: \",skill.damage,\" | \\uB9C8\\uB098: \",skill.manaCost,\" | \\uCFE8\\uD0C0\\uC784: \",skill.cooldown/1000,\"\\uCD08\"]}):/*#__PURE__*/_jsx(_Fragment,{children:\"\\uD328\\uC2DC\\uBE0C \\uC2A4\\uD0AC\"})}),skill.currentCooldown>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#fbbf24',fontSize:'12px',marginTop:'5px'},children:[\"\\uCFE8\\uD0C0\\uC784: \",(skill.currentCooldown/1000).toFixed(1),\"\\uCD08\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'10px'},children:skill.level<skill.maxLevel&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{const cost=skill.level*100;if(character.gold>=cost){setCharacter(prev=>({...prev,gold:prev.gold-cost,skills:prev.skills.map(s=>s.id===skill.id?{...s,level:s.level+1}:s)}));// ì´ë²¤íŠ¸ ë¡œê¹…\nonAction('skill_upgraded',{skill_name:skill.name,old_level:skill.level,new_level:skill.level+1,gold_cost:cost,character_level:character.level,character_gold_before:character.gold,character_gold_after:character.gold-cost});addToCombatLog(`${skill.name}ì„(ë¥¼) ë ˆë²¨ì—…í–ˆë‹¤! (Lv.${skill.level+1})`);}},disabled:character.gold<skill.level*100,style:{background:character.gold>=skill.level*100?'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)':'#4b5563',color:'white',border:'none',borderRadius:'8px',padding:'8px 12px',fontSize:'12px',cursor:character.gold>=skill.level*100?'pointer':'not-allowed'},children:[\"\\uC5C5\\uADF8\\uB808\\uC774\\uB4DC (\",skill.level*100,\"G)\"]})})]})},skill.id))})]})]});const renderCombatTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#1f2937',minHeight:'600px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)',borderRadius:'15px',padding:'20px',marginBottom:'20px',color:'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0 0 5px 0',fontSize:'24px'},children:character.name}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0',opacity:0.9},children:[\"Lv.\",character.level,\" \",character.class]})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'20px',fontWeight:'bold'},children:[\"\\uD83D\\uDCB0 \",character.gold.toLocaleString()]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(2, 1fr)',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"HP\"}),/*#__PURE__*/_jsxs(\"span\",{children:[character.hp,\"/\",character.maxHp]})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(255,255,255,0.2)',borderRadius:'10px',height:'8px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{background:'#ef4444',height:'100%',width:`${character.hp/character.maxHp*100}%`,transition:'width 0.3s ease'}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"MP\"}),/*#__PURE__*/_jsxs(\"span\",{children:[character.mp,\"/\",character.maxMp]})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(255,255,255,0.2)',borderRadius:'10px',height:'8px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{background:'#3b82f6',height:'100%',width:`${character.mp/character.maxMp*100}%`,transition:'width 0.3s ease'}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"EXP\"}),/*#__PURE__*/_jsxs(\"span\",{children:[character.exp,\"/\",character.maxExp]})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(255,255,255,0.2)',borderRadius:'10px',height:'8px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{background:'#10b981',height:'100%',width:`${character.exp/character.maxExp*100}%`,transition:'width 0.3s ease'}})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'20px',fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2694\\uFE0F \",character.attack]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDEE1\\uFE0F \",character.defense]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCA8 \",character.speed]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'20px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'#374151',borderRadius:'15px',padding:'20px',textAlign:'center',minHeight:'200px',display:'flex',flexDirection:'column',justifyContent:'center'},children:currentMonster?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'10px',filter:currentMonster.isBoss?'drop-shadow(0 0 10px #fbbf24)':'none'},children:currentMonster.isBoss?'ğŸ‘‘':'ğŸ‘¹'}),/*#__PURE__*/_jsxs(\"h3\",{style:{color:currentMonster.isBoss?'#fbbf24':'white',margin:'0 0 10px 0'},children:[currentMonster.name,\" Lv.\",currentMonster.level]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#9ca3af',marginBottom:'15px'},children:[\"HP: \",currentMonster.hp,\"/\",currentMonster.maxHp]}),/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(0,0,0,0.3)',borderRadius:'10px',height:'10px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{background:'#ef4444',height:'100%',width:`${currentMonster.hp/currentMonster.maxHp*100}%`,transition:'width 0.3s ease'}})})]}):/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af'},children:\"\\uBAAC\\uC2A4\\uD130\\uB97C \\uCC3E\\uB294 \\uC911...\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#374151',borderRadius:'15px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'white',margin:'0 0 15px 0'},children:\"\\uC561\\uC158\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:attack,disabled:!currentMonster||character.hp<=0,style:{background:'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',color:'white',border:'none',borderRadius:'10px',padding:'12px',fontSize:'16px',fontWeight:'bold',cursor:character.hp>0?'pointer':'not-allowed',opacity:character.hp>0?1:0.5},children:\"\\u2694\\uFE0F \\uACF5\\uACA9\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsAutoFighting(!isAutoFighting),disabled:character.hp<=0,style:{background:isAutoFighting?'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)':'linear-gradient(135deg, #10b981 0%, #059669 100%)',color:'white',border:'none',borderRadius:'10px',padding:'12px',fontSize:'16px',fontWeight:'bold',cursor:character.hp>0?'pointer':'not-allowed',opacity:character.hp>0?1:0.5},children:isAutoFighting?'â¹ï¸ ìë™ ì¤‘ì§€':'â–¶ï¸ ìë™ ì „íˆ¬'}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'white',margin:'0 0 10px 0',fontSize:'14px'},children:\"\\uC2A4\\uD0AC\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'5px'},children:character.skills.map(skill=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{if(character.mp<skill.manaCost||skill.currentCooldown>0)return;setCharacter(prev=>({...prev,mp:prev.mp-skill.manaCost}));if(skill.id==='heal'){const healAmount=Math.floor(character.maxHp*0.3);setCharacter(prev=>({...prev,hp:Math.min(prev.maxHp,prev.hp+healAmount)}));addToCombatLog(`ì¹˜ìœ  ìŠ¤í‚¬ ì‚¬ìš©! HP +${healAmount}`);}else{// ê³µê²© ìŠ¤í‚¬\nif(currentMonster){const damage=skill.damage+Math.floor(character.attack*0.5);const newMonsterHp=Math.max(0,currentMonster.hp-damage);setCurrentMonster(prev=>prev?{...prev,hp:newMonsterHp}:null);addToCombatLog(`${skill.name} ì‚¬ìš©! ${damage} ë°ë¯¸ì§€!`);if(newMonsterHp<=0){defeatMonster();}}}// ì¿¨ë‹¤ìš´ ì„¤ì •\nsetCharacter(prev=>({...prev,skills:prev.skills.map(s=>s.id===skill.id?{...s,currentCooldown:skill.cooldown}:s)}));},disabled:character.mp<skill.manaCost||skill.currentCooldown>0,style:{background:skill.currentCooldown>0||character.mp<skill.manaCost?'#6b7280':'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',color:'white',border:'none',borderRadius:'8px',padding:'8px 12px',fontSize:'14px',cursor:character.mp>=skill.manaCost&&skill.currentCooldown===0?'pointer':'not-allowed',opacity:character.mp>=skill.manaCost&&skill.currentCooldown===0?1:0.6},children:[skill.name,\" (MP: \",skill.manaCost,\")\",skill.currentCooldown>0&&` (${Math.ceil(skill.currentCooldown/1000)}s)`]},skill.id))})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#374151',borderRadius:'15px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'white',margin:'0 0 15px 0'},children:\"\\uC804\\uD22C \\uB85C\\uADF8\"}),/*#__PURE__*/_jsx(\"div\",{ref:logRef,style:{height:'150px',overflowY:'auto',background:'#1f2937',borderRadius:'10px',padding:'15px',fontFamily:'monospace',fontSize:'14px'},children:combatLog.map((log,index)=>/*#__PURE__*/_jsx(\"div\",{style:{color:log.includes('ë ˆë²¨ì—…')?'#10b981':log.includes('ì¹˜ëª…íƒ€')?'#ef4444':log.includes('íšë“')?'#fbbf24':'#d1d5db',marginBottom:'2px',lineHeight:'1.4'},children:log},index))})]})]});const renderCharacterTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#1f2937',minHeight:'600px'},children:[renderCharacterHeader(),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(2, 1fr)',gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'#374151',borderRadius:'15px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'white',margin:'0 0 15px 0'},children:\"\\uC2A4\\uD0EF\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'white',marginBottom:'15px'},children:[\"\\uC0AC\\uC6A9 \\uAC00\\uB2A5\\uD55C \\uD3EC\\uC778\\uD2B8: \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#fbbf24',fontWeight:'bold'},children:character.stats.availablePoints})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'10px'},children:Object.entries(character.stats).map(_ref4=>{let[key,value]=_ref4;if(key==='availablePoints')return null;const statNames={strength:'í˜',agility:'ë¯¼ì²©',intelligence:'ì§€ëŠ¥',vitality:'ì²´ë ¥',luck:'ìš´'};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',background:'#1f2937',padding:'10px 15px',borderRadius:'10px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'#ffffff',fontWeight:'500'},children:[statNames[key],\": \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#fbbf24'},children:value})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>allocateStat(key),disabled:character.stats.availablePoints<=0,style:{background:character.stats.availablePoints>0?'#10b981':'#6b7280',color:'white',border:'none',borderRadius:'5px',padding:'5px 10px',cursor:character.stats.availablePoints>0?'pointer':'not-allowed'},children:\"+\"})]},key);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#374151',borderRadius:'15px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'white',margin:'0 0 15px 0'},children:\"\\uC7A5\\uBE44\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(3, 1fr)',gap:'10px'},children:['weapon','helmet','armor','boots','ring','amulet'].map(slot=>{const item=character.equipment[slot];const slotNames={weapon:'ë¬´ê¸°',helmet:'íˆ¬êµ¬',armor:'ê°‘ì˜·',boots:'ì‹ ë°œ',ring:'ë°˜ì§€',amulet:'ëª©ê±¸ì´'};return/*#__PURE__*/_jsxs(\"div\",{style:{background:item?getRarityColor(item.rarity):'#1f2937',borderRadius:'10px',padding:'15px',textAlign:'center',minHeight:'80px',display:'flex',flexDirection:'column',justifyContent:'center',border:`2px solid ${item?getRarityColor(item.rarity):'#4b5563'}`},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginBottom:'5px'},children:slotNames[slot]}),item?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'white',fontSize:'14px',fontWeight:'bold'},children:item.name}),item.enhancement>0&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#fbbf24',fontSize:'12px'},children:[\"+\",item.enhancement]})]}):/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'12px'},children:\"\\uBE48 \\uC2AC\\uB86F\"})]},slot);})})]})]})]});const renderInventoryTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#1f2937',minHeight:'600px'},children:[renderCharacterHeader(),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#374151',borderRadius:'15px',padding:'20px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:'white',margin:'0 0 15px 0'},children:[\"\\uC778\\uBCA4\\uD1A0\\uB9AC (\",inventory.length,\"\\uAC1C)\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(200px, 1fr))',gap:'15px'},children:inventory.map(item=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'#1f2937',border:`2px solid ${getRarityColor(item.rarity)}`,borderRadius:'10px',padding:'15px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:getRarityColor(item.rarity),fontWeight:'bold',marginBottom:'5px'},children:item.name}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#9ca3af',fontSize:'14px',marginBottom:'10px'},children:[item.type,\" \\u2022 Lv.\",item.level]}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#d1d5db',fontSize:'12px',marginBottom:'10px'},children:Object.entries(item.stats).map(_ref5=>{let[key,value]=_ref5;return value>0&&/*#__PURE__*/_jsxs(\"div\",{children:[key==='attack'?'âš”ï¸':key==='defense'?'ğŸ›¡ï¸':key==='hp'?'â¤ï¸':key==='mp'?'ğŸ’™':key==='speed'?'ğŸ’¨':key==='critRate'?'ğŸ’¥':'â­',\" +\",value]},key);})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'5px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>equipItem(item),style:{background:'#10b981',color:'white',border:'none',borderRadius:'5px',padding:'8px 12px',fontSize:'12px',cursor:'pointer',flex:1},children:\"\\uC7A5\\uCC29\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>sellItem(item),style:{background:'#ef4444',color:'white',border:'none',borderRadius:'5px',padding:'8px 12px',fontSize:'12px',cursor:'pointer',flex:1},children:[\"\\uD310\\uB9E4 (\",Math.floor(item.price*0.7),\"G)\"]})]})]},item.id))})]})]});const renderShopTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#1f2937',minHeight:'600px'},children:[renderCharacterHeader(),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#374151',borderRadius:'15px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'white',margin:'0 0 15px 0'},children:\"\\uC0C1\\uC810\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(250px, 1fr))',gap:'15px'},children:shop.map(item=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'#1f2937',border:`2px solid ${getRarityColor(item.rarity)}`,borderRadius:'10px',padding:'15px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:getRarityColor(item.rarity),fontWeight:'bold',marginBottom:'5px'},children:item.name}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#9ca3af',fontSize:'14px',marginBottom:'10px'},children:[item.type,\" \\u2022 Lv.\",item.level,\" \\u2022 \",item.rarity]}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#d1d5db',fontSize:'12px',marginBottom:'15px'},children:Object.entries(item.stats).map(_ref6=>{let[key,value]=_ref6;return value>0&&/*#__PURE__*/_jsxs(\"div\",{children:[key==='attack'?'âš”ï¸':key==='defense'?'ğŸ›¡ï¸':key==='hp'?'â¤ï¸':key==='mp'?'ğŸ’™':key==='speed'?'ğŸ’¨':key==='critRate'?'ğŸ’¥':'â­',\" +\",value]},key);})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#fbbf24',fontWeight:'bold'},children:[\"\\uD83D\\uDCB0 \",item.price.toLocaleString(),\"G\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>buyItem(item),disabled:character.gold<item.price,style:{background:character.gold>=item.price?'#10b981':'#6b7280',color:'white',border:'none',borderRadius:'5px',padding:'8px 16px',fontSize:'12px',cursor:character.gold>=item.price?'pointer':'not-allowed',opacity:character.gold>=item.price?1:0.6},children:\"\\uAD6C\\uB9E4\"})]})]},item.id))})]})]});const renderTabs=()=>/*#__PURE__*/_jsx(\"div\",{style:{background:'#374151',display:'flex',borderRadius:'15px 15px 0 0',overflow:'hidden'},children:[{id:'lobby',name:t('rpg.tabs.lobby'),icon:'ğŸ '},{id:'character',name:t('rpg.tabs.character'),icon:'ğŸ‘¤'},{id:'inventory',name:t('rpg.tabs.inventory'),icon:'ğŸ’'},{id:'skills',name:t('rpg.tabs.skills'),icon:'âœ¨'},{id:'dungeon',name:t('rpg.tabs.dungeon'),icon:'ğŸ°'},{id:'shop',name:t('rpg.tabs.shop'),icon:'ğŸ›’'}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentTab(tab.id),style:{background:currentTab===tab.id?colors.accent:'transparent',color:colors.text,border:'none',padding:'15px 20px',fontSize:'14px',cursor:'pointer',flex:1,transition:'all 0.3s ease'},children:[/*#__PURE__*/_jsx(\"div\",{children:tab.icon}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',marginTop:'5px'},children:tab.name})]},tab.id))});return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',maxWidth:'1200px',margin:'0 auto',background:colors.cardBg,borderRadius:'20px',overflow:'hidden',boxShadow:'0 20px 60px rgba(0, 0, 0, 0.3)',fontFamily:'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',border:`1px solid ${colors.cardBorder}`},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:colors.backgroundSecondary,padding:'20px',textAlign:'center',position:'relative',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,background:'radial-gradient(circle at 50% 50%, rgba(147, 51, 234, 0.3) 0%, transparent 70%)'}}),/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,fontSize:'32px',fontWeight:'bold',color:colors.text,textShadow:'0 4px 20px rgba(147, 51, 234, 0.5)',position:'relative',zIndex:1},children:t('rpg.title')}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'10px 0 0 0',color:colors.textSecondary,fontSize:'16px',position:'relative',zIndex:1},children:t('rpg.subtitle')})]}),renderTabs(),currentTab==='lobby'&&renderLobbyTab(),currentTab==='dungeon'&&renderDungeonTab(),currentTab==='character'&&renderCharacterTab(),currentTab==='inventory'&&renderInventoryTab(),currentTab==='skills'&&renderSkillsTab(),currentTab==='shop'&&renderShopTab(),showDungeonChoice&&inDungeon&&currentDungeon&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.8)',backdropFilter:'blur(10px)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:colors.cardBg,border:`1px solid ${colors.cardBorder}`,padding:'32px',borderRadius:'20px',maxWidth:'500px',width:'100%',textAlign:'center',boxShadow:'0 20px 50px rgba(0, 0, 0, 0.4)',position:'relative',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-30%',left:'-20%',width:'140px',height:'140px',background:'linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(59, 130, 246, 0.2))',borderRadius:'50%',filter:'blur(30px)'}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',zIndex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'64px',height:'64px',background:'linear-gradient(135deg, #10b981, #059669)',borderRadius:'20px',display:'flex',alignItems:'center',justifyContent:'center',margin:'0 auto 20px',boxShadow:'0 8px 25px rgba(16, 185, 129, 0.4)'},children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'28px'},children:\"\\uD83C\\uDF89\"})}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'24px',fontWeight:'700',margin:'0 0 12px 0',color:colors.text},children:\"\\uBAAC\\uC2A4\\uD130 \\uCC98\\uCE58 \\uC644\\uB8CC!\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px',color:colors.textSecondary,margin:'0 0 24px 0',lineHeight:'1.5'},children:currentDungeon.currentFloor<currentDungeon.floors?`${currentDungeon.currentFloor+1}ì¸µìœ¼ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`:'ë˜ì „ í´ë¦¬ì–´ ì™„ë£Œ!'}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'16px',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:exitDungeonAfterVictory,style:{padding:'12px 20px',border:`1px solid ${colors.cardBorder}`,borderRadius:'12px',background:'rgba(255, 255, 255, 0.1)',color:colors.text,fontSize:'14px',fontWeight:'600',cursor:'pointer',transition:'all 0.3s ease',backdropFilter:'blur(10px)'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(255, 255, 255, 0.15)';e.currentTarget.style.transform='translateY(-2px)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255, 255, 255, 0.1)';e.currentTarget.style.transform='translateY(0)';},children:\"\\uB358\\uC804 \\uB098\\uAC00\\uAE30\"}),currentDungeon.currentFloor<currentDungeon.floors&&/*#__PURE__*/_jsx(\"button\",{onClick:proceedToNextFloor,style:{padding:'12px 20px',border:'none',borderRadius:'12px',background:'linear-gradient(135deg, #8b5cf6, #3b82f6)',color:'white',fontSize:'14px',fontWeight:'600',cursor:'pointer',transition:'all 0.3s ease',boxShadow:'0 4px 16px rgba(139, 92, 246, 0.3)'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(139, 92, 246, 0.4)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 4px 16px rgba(139, 92, 246, 0.3)';},children:\"\\uB2E4\\uC74C \\uCE35\\uC73C\\uB85C \\uC9C4\\uD589\"})]})]})]})})]});};","map":{"version":3,"names":["React","useState","useEffect","useRef","useTheme","useLanguage","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","AdvancedIdleRPG","_ref","onAction","isSimulating","currentAction","userStats","setUserStats","currentUser","colors","t","style","document","createElement","textContent","head","appendChild","removeChild","character","setCharacter","id","name","level","exp","maxExp","hp","maxHp","mp","maxMp","attack","defense","speed","gold","class","skills","equipment","stats","strength","agility","intelligence","vitality","luck","availablePoints","prestige","rebirth","buffs","amount","duration","currentTab","setCurrentTab","gameMode","setGameMode","isAutoFighting","setIsAutoFighting","currentMonster","setCurrentMonster","combatLog","setCombatLog","selectedDungeon","setSelectedDungeon","inventory","setInventory","availableDungeons","setAvailableDungeons","currentDungeon","setCurrentDungeon","inDungeon","setInDungeon","guild","setGuild","shop","setShop","achievements","setAchievements","monstersDefeated","setMonstersDefeated","totalGoldEarned","setTotalGoldEarned","showDungeonChoice","setShowDungeonChoice","logRef","initializeGame","monsters_defeated","character_class","total_gold_earned","inventory_items","map","item","type","rarity","quantity","skill","current_buffs","Object","entries","filter","_ref2","_","buff","_ref3","Math","ceil","translations","ko","slash","description","heal","critical","dungeons","forest","cave","tower","items","sword1","armor1","helmet1","health_potion","mana_potion","greater_health_potion","strength_potion","defense_potion","monsters","slime","goblin","orc","troll","dragon","combat","appeared","damage","levelUp","defeated","itemObtained","dungeonCleared","nextFloor","dungeonExited","hpMpRecovered","defeat","en","zh","currentLang","localStorage","getItem","texts","initialSkills","maxLevel","manaCost","cooldown","currentCooldown","initialDungeons","floors","currentFloor","rewards","goldRange","expRange","itemDropChance","requiredLevel","isUnlocked","shopItems","price","enhancement","consumableEffect","healHp","healMp","buffType","buffAmount","buffDuration","prev","window","gameTexts","spawnMonster","baseHp","baseAttack","baseDefense","randomMonster","floor","random","length","levelMultiplier","monster","Date","now","max","dropItems","generateDropItems","isBoss","addToCombatLog","dropChance","rarities","itemTypes","itemType","generateItemName","generateItemStats","calculateItemPrice","prefixes","common","rare","epic","legendary","mythic","itemNames","weapon","armor","helmet","boots","ring","amulet","prefix","itemTypeNames","multipliers","base","critRate","critDamage","basePrice","buffedAttack","calculateDamage","isCritical","finalDamage","newMonsterHp","user_id","is_critical","monster_name","monster_level","character_level","character_attack","monster_hp_remaining","dungeon_name","dungeon_floor","defeatMonster","setTimeout","monsterAttack","buffedDefense","newHp","dungeon_id","damage_taken","character_defense","current_floor","total_floors","exit_reason","time_spent","getTime","baseDamage","expGained","goldGained","newExp","newGold","newLevel","newMaxExp","newMaxHp","new_level","stat_points_gained","prevDungeons","dungeon","exp_gained","gold_gained","items_dropped","updatedDungeon","spawnDungeonMonster","floors_cleared","completion_time","gold_earned","proceedToNextFloor","exitDungeonAfterVictory","resetDungeon","d","autoAttackTimer","clearTimeout","interval","setInterval","min","clearInterval","message","newLog","shift","current","scrollTop","scrollHeight","allocateStatPoint","stat","equipItem","newEquipment","newAttack","newDefense","newMaxMp","newSpeed","invItem","sellItem","sellPrice","buyItem","getRarityColor","enterDungeon","character_hp","character_mp","entry_time","baseMonsters","floorBasedMonsterIndex","baseIndex","randomVariation","selectedIndex","selectedMonster","consumeItem","effect","itemIndex","findIndex","newInventory","currentItem","splice","item_name","item_type","heal_hp","heal_mp","buff_type","buff_amount","character_hp_before","character_mp_before","castSkill","healAmount","s","skill_name","skill_level","mana_cost","character_mp_after","allocateStat","statName","hpBonus","mpBonus","attackBonus","defenseBonus","stat_name","stat_value","available_points","renderCharacterHeader","background","borderRadius","padding","marginBottom","display","gridTemplateColumns","gap","color","children","textAlign","fontSize","fontWeight","renderLobbyTab","minHeight","margin","opacity","border","justifyContent","alignItems","onClick","disabled","cursor","transition","renderDungeonTab","height","overflow","width","animation","marginTop","flexWrap","position","title","toFixed","_item$consumableEffec","_item$consumableEffec2","_item$consumableEffec3","_item$consumableEffec4","_item$consumableEffec5","overflowY","slice","log","index","lineHeight","renderSkillsTab","cost","old_level","gold_cost","character_gold_before","character_gold_after","renderCombatTab","toLocaleString","flexDirection","ref","fontFamily","includes","renderCharacterTab","_ref4","key","value","statNames","slot","slotNames","renderInventoryTab","_ref5","flex","renderShopTab","_ref6","renderTabs","icon","tab","accent","text","maxWidth","cardBg","boxShadow","cardBorder","backgroundSecondary","top","left","right","bottom","textShadow","zIndex","textSecondary","backgroundColor","backdropFilter","onMouseEnter","e","currentTarget","transform","onMouseLeave"],"sources":["/Users/jegaljin-u/workspace/thinking-guide/src/components/AdvancedIdleRPG.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useTheme } from '../contexts/ThemeContext';\nimport { useLanguage } from '../contexts/LanguageContext';\n\ninterface Dungeon {\n  id: string;\n  name: string;\n  level: number;\n  description: string;\n  floors: number;\n  currentFloor: number;\n  monsters: Monster[];\n  rewards: {\n    goldRange: [number, number];\n    expRange: [number, number];\n    itemDropChance: number;\n  };\n  requiredLevel: number;\n  isUnlocked: boolean;\n}\n\ninterface Monster {\n  id: string;\n  name: string;\n  level: number;\n  hp: number;\n  maxHp: number;\n  attack: number;\n  defense: number;\n  speed: number;\n  exp: number;\n  gold: number;\n  dropItems: Item[];\n  isBoss?: boolean;\n}\n\ninterface Character {\n  id: string;\n  name: string;\n  level: number;\n  exp: number;\n  maxExp: number;\n  hp: number;\n  maxHp: number;\n  mp: number;\n  maxMp: number;\n  attack: number;\n  defense: number;\n  speed: number;\n  gold: number;\n  class: string;\n  skills: Skill[];\n  equipment: Equipment;\n  stats: CharacterStats;\n  prestige: number;\n  rebirth: number;\n  buffs: {\n    attack: { amount: number; duration: number };\n    defense: { amount: number; duration: number };\n    speed: { amount: number; duration: number };\n  };\n}\n\ninterface CharacterStats {\n  strength: number;\n  agility: number;\n  intelligence: number;\n  vitality: number;\n  luck: number;\n  availablePoints: number;\n}\n\ninterface Skill {\n  id: string;\n  name: string;\n  level: number;\n  maxLevel: number;\n  damage: number;\n  manaCost: number;\n  cooldown: number;\n  currentCooldown: number;\n  type: 'active' | 'passive';\n  description: string;\n}\n\ninterface Equipment {\n  weapon?: Item;\n  armor?: Item;\n  helmet?: Item;\n  boots?: Item;\n  ring?: Item;\n  amulet?: Item;\n}\n\ninterface Item {\n  id: string;\n  name: string;\n  type: 'weapon' | 'armor' | 'helmet' | 'boots' | 'ring' | 'amulet' | 'consumable';\n  rarity: 'common' | 'rare' | 'epic' | 'legendary' | 'mythic';\n  level: number;\n  stats: {\n    attack?: number;\n    defense?: number;\n    hp?: number;\n    mp?: number;\n    speed?: number;\n    critRate?: number;\n    critDamage?: number;\n  };\n  price: number;\n  enhancement: number;\n  // ë¬¼ì•½ìš© ì†ì„±ë“¤\n  consumableEffect?: {\n    healHp?: number;\n    healMp?: number;\n    buffDuration?: number; // ë²„í”„ ì§€ì†ì‹œê°„ (ë°€ë¦¬ì´ˆ)\n    buffType?: 'attack' | 'defense' | 'speed'; // ë²„í”„ íƒ€ì…\n    buffAmount?: number; // ë²„í”„ ìˆ˜ì¹˜\n  };\n  quantity?: number; // ì†Œë¹„ ì•„ì´í…œ ìˆ˜ëŸ‰\n}\n\n\n\ninterface Guild {\n  id: string;\n  name: string;\n  level: number;\n  members: number;\n  maxMembers: number;\n  benefits: {\n    expBonus: number;\n    goldBonus: number;\n    dropBonus: number;\n  };\n}\n\ninterface AppProps {\n  onAction: (eventType: string, data: any) => void;\n  isSimulating: boolean;\n  currentAction: string | null;\n  userStats: any;\n  setUserStats: (stats: any) => void;\n  currentUser: any;\n}\n\nexport const AdvancedIdleRPG: React.FC<AppProps> = ({\n  onAction,\n  isSimulating,\n  currentAction,\n  userStats,\n  setUserStats,\n  currentUser\n}) => {\n  const { colors } = useTheme();\n  const { t } = useLanguage();\n\n  // CSS ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€\n  React.useEffect(() => {\n    const style = document.createElement('style');\n    style.textContent = `\n      @keyframes progress {\n        0% {\n          width: 0%;\n        }\n        100% {\n          width: 100%;\n        }\n      }\n      @keyframes pulse {\n        0%, 100% {\n          opacity: 1;\n        }\n        50% {\n          opacity: 0.7;\n        }\n      }\n    `;\n    document.head.appendChild(style);\n    \n    return () => {\n      document.head.removeChild(style);\n    };\n  }, []);\n  const [character, setCharacter] = useState<Character>({\n    id: '1',\n    name: 'ìš©ì‚¬',\n    level: 1,\n    exp: 0,\n    maxExp: 100,\n    hp: 100,\n    maxHp: 100,\n    mp: 50,\n    maxMp: 50,\n    attack: 20,\n    defense: 10,\n    speed: 15,\n    gold: 100,\n    class: 'ì „ì‚¬',\n    skills: [],\n    equipment: {},\n    stats: {\n      strength: 10,\n      agility: 8,\n      intelligence: 5,\n      vitality: 12,\n      luck: 7,\n      availablePoints: 0\n    },\n    prestige: 0,\n    rebirth: 0,\n    buffs: {\n      attack: { amount: 0, duration: 0 },\n      defense: { amount: 0, duration: 0 },\n      speed: { amount: 0, duration: 0 }\n    }\n  });\n\n  const [currentTab, setCurrentTab] = useState<'lobby' | 'dungeon' | 'character' | 'inventory' | 'skills' | 'shop'>('lobby');\n  const [gameMode, setGameMode] = useState<'lobby' | 'dungeon' | 'combat'>('lobby');\n  const [isAutoFighting, setIsAutoFighting] = useState(false);\n  const [currentMonster, setCurrentMonster] = useState<Monster | null>(null);\n  const [combatLog, setCombatLog] = useState<string[]>([]);\n  const [selectedDungeon, setSelectedDungeon] = useState<Dungeon | null>(null);\n  const [inventory, setInventory] = useState<Item[]>([]);\n  const [availableDungeons, setAvailableDungeons] = useState<Dungeon[]>([]);\n  const [currentDungeon, setCurrentDungeon] = useState<Dungeon | null>(null);\n  const [inDungeon, setInDungeon] = useState(false);\n  const [guild, setGuild] = useState<Guild | null>(null);\n  const [shop, setShop] = useState<Item[]>([]);\n  const [achievements, setAchievements] = useState<string[]>([]);\n  const [monstersDefeated, setMonstersDefeated] = useState(0);\n  const [totalGoldEarned, setTotalGoldEarned] = useState(0);\n  const [showDungeonChoice, setShowDungeonChoice] = useState(false);\n\n  const logRef = useRef<HTMLDivElement>(null);\n\n  // ê²Œì„ ì´ˆê¸°í™”\n  useEffect(() => {\n    initializeGame();\n  }, []);\n\n  // ìºë¦­í„° ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ userStats ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    setUserStats({\n      level: character.level,\n      gold: character.gold,\n      attack: character.attack,\n      defense: character.defense,\n      hp: character.hp,\n      maxHp: character.maxHp,\n      exp: character.exp,\n      maxExp: character.maxExp,\n      monsters_defeated: monstersDefeated,\n      character_class: character.class,\n      total_gold_earned: totalGoldEarned,\n      inventory_items: inventory.map(item => ({\n        id: item.id,\n        name: item.name,\n        type: item.type,\n        rarity: item.rarity,\n        quantity: item.quantity || 1,\n        stats: item.stats\n      })),\n      skills: character.skills.map(skill => ({\n        id: skill.id,\n        name: skill.name,\n        level: skill.level,\n        type: skill.type\n      })),\n      current_buffs: Object.entries(character.buffs)\n        .filter(([_, buff]) => buff.duration > 0)\n        .map(([type, buff]) => ({\n          type,\n          amount: buff.amount,\n          duration: Math.ceil(buff.duration / 1000)\n        }))\n    });\n  }, [character, inventory, monstersDefeated, totalGoldEarned, setUserStats]);\n\n  const initializeGame = () => {\n    // ì–¸ì–´ë³„ í…ìŠ¤íŠ¸ ì •ì˜\n    const translations = {\n      ko: {\n        character: {\n          name: 'ìš©ì‚¬',\n          class: 'ì „ì‚¬'\n        },\n        skills: {\n          slash: { name: 'ê°•ë ¥í•œ ë² ê¸°', description: 'ê°•ë ¥í•œ ì¼ê²©ì„ ê°€í•©ë‹ˆë‹¤.' },\n          heal: { name: 'ì¹˜ìœ ', description: 'HPë¥¼ íšŒë³µí•©ë‹ˆë‹¤.' },\n          critical: { name: 'ì¹˜ëª…íƒ€ ìˆ™ë ¨', description: 'ì¹˜ëª…íƒ€ í™•ë¥ ì„ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.' }\n        },\n        dungeons: {\n          forest: { name: 'ì–´ë‘ ì˜ ìˆ²', description: 'ì´ˆë³´ìë¥¼ ìœ„í•œ ë˜ì „ì…ë‹ˆë‹¤.' },\n          cave: { name: 'ê³ ë¸”ë¦° ë™êµ´', description: 'ê³ ë¸”ë¦°ë“¤ì´ ì„œì‹í•˜ëŠ” ìœ„í—˜í•œ ë™êµ´ì…ë‹ˆë‹¤.' },\n          tower: { name: 'ë§ˆë²•ì‚¬ì˜ íƒ‘', description: 'ê°•ë ¥í•œ ë§ˆë²• ëª¬ìŠ¤í„°ë“¤ì´ ìˆëŠ” íƒ‘ì…ë‹ˆë‹¤.' }\n        },\n        items: {\n          sword1: 'ê°•ì²  ê²€',\n          armor1: 'ê°€ì£½ ê°‘ì˜·',\n          helmet1: 'ì² ì œ íˆ¬êµ¬',\n          health_potion: 'ì²´ë ¥ ë¬¼ì•½',\n          mana_potion: 'ë§ˆë‚˜ ë¬¼ì•½',\n          greater_health_potion: 'ê³ ê¸‰ ì²´ë ¥ ë¬¼ì•½',\n          strength_potion: 'í˜ì˜ ë¬¼ì•½',\n          defense_potion: 'ë°©ì–´ì˜ ë¬¼ì•½'\n        },\n        monsters: {\n          slime: 'ìŠ¬ë¼ì„',\n          goblin: 'ê³ ë¸”ë¦°',\n          orc: 'ì˜¤í¬',\n          troll: 'íŠ¸ë¡¤',\n          dragon: 'ë“œë˜ê³¤'\n        },\n        combat: {\n          appeared: 'ì´ ë‚˜íƒ€ë‚¬ë‹¤!',\n          attack: 'ì˜ ê³µê²©!',\n          damage: 'ë°ë¯¸ì§€!',\n          critical: 'ì¹˜ëª…íƒ€!',\n          levelUp: 'ğŸ‰ ë ˆë²¨ì—…! Lv.',\n          defeated: 'ë¥¼ ë¬¼ë¦¬ì³¤ë‹¤! EXP +',\n          gold: ', ê³¨ë“œ +',\n          itemObtained: 'âœ¨ ì„ íšë“í–ˆìŠµë‹ˆë‹¤!',\n          dungeonCleared: 'ğŸ‰  ë˜ì „ì„ í´ë¦¬ì–´í–ˆìŠµë‹ˆë‹¤!',\n          nextFloor: 'ì¸µìœ¼ë¡œ ìë™ ì§„í–‰í•©ë‹ˆë‹¤!',\n          dungeonExited: 'ë˜ì „ì—ì„œ ìë™ìœ¼ë¡œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!',\n          hpMpRecovered: 'ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!',\n          defeat: 'ì „íˆ¬ì—ì„œ íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤...'\n        }\n      },\n      en: {\n        character: {\n          name: 'Hero',\n          class: 'Warrior'\n        },\n        skills: {\n          slash: { name: 'Power Slash', description: 'Delivers a powerful strike.' },\n          heal: { name: 'Heal', description: 'Restores HP.' },\n          critical: { name: 'Critical Mastery', description: 'Increases critical hit chance.' }\n        },\n        dungeons: {\n          forest: { name: 'Dark Forest', description: 'A dungeon for beginners.' },\n          cave: { name: 'Goblin Cave', description: 'A dangerous cave inhabited by goblins.' },\n          tower: { name: 'Mage Tower', description: 'A tower with powerful magic monsters.' }\n        },\n        items: {\n          sword1: 'Steel Sword',\n          armor1: 'Leather Armor',\n          helmet1: 'Iron Helmet',\n          health_potion: 'Health Potion',\n          mana_potion: 'Mana Potion',\n          greater_health_potion: 'Greater Health Potion',\n          strength_potion: 'Strength Potion',\n          defense_potion: 'Defense Potion'\n        },\n        monsters: {\n          slime: 'Slime',\n          goblin: 'Goblin',\n          orc: 'Orc',\n          troll: 'Troll',\n          dragon: 'Dragon'\n        },\n        combat: {\n          appeared: ' appeared!',\n          attack: \"'s attack!\",\n          damage: ' damage!',\n          critical: ' (Critical!)',\n          levelUp: 'ğŸ‰ Level up! Lv.',\n          defeated: ' defeated! EXP +',\n          gold: ', Gold +',\n          itemObtained: 'âœ¨ obtained!',\n          dungeonCleared: 'ğŸ‰  dungeon cleared!',\n          nextFloor: 'Proceeding to floor  automatically!',\n          dungeonExited: 'Automatically exited dungeon. HP and MP fully restored!',\n          hpMpRecovered: 'HP and MP fully restored!',\n          defeat: 'Defeated in battle...'\n        }\n      },\n      zh: {\n        character: {\n          name: 'å‹‡è€…',\n          class: 'æˆ˜å£«'\n        },\n        skills: {\n          slash: { name: 'å¼ºåŠ›æ–©å‡»', description: 'å‘åŠ¨å¼ºåŠ›ä¸€å‡»ã€‚' },\n          heal: { name: 'æ²»ç–—', description: 'æ¢å¤ç”Ÿå‘½å€¼ã€‚' },\n          critical: { name: 'æš´å‡»ç²¾é€š', description: 'å¢åŠ æš´å‡»å‡ ç‡ã€‚' }\n        },\n        dungeons: {\n          forest: { name: 'é»‘æš—æ£®æ—', description: 'é€‚åˆæ–°æ‰‹çš„åœ°ä¸‹åŸã€‚' },\n          cave: { name: 'å“¥å¸ƒæ—æ´ç©´', description: 'å“¥å¸ƒæ—æ –æ¯çš„å±é™©æ´ç©´ã€‚' },\n          tower: { name: 'æ³•å¸ˆå¡”', description: 'æœ‰å¼ºåŠ›é­”æ³•æ€ªç‰©çš„å¡”ã€‚' }\n        },\n        items: {\n          sword1: 'é’¢é“å‰‘',\n          armor1: 'çš®ç”²',\n          helmet1: 'é“ç›”',\n          health_potion: 'ç”Ÿå‘½è¯æ°´',\n          mana_potion: 'é­”æ³•è¯æ°´',\n          greater_health_potion: 'é«˜çº§ç”Ÿå‘½è¯æ°´',\n          strength_potion: 'åŠ›é‡è¯æ°´',\n          defense_potion: 'é˜²å¾¡è¯æ°´'\n        },\n        monsters: {\n          slime: 'å²è±å§†',\n          goblin: 'å“¥å¸ƒæ—',\n          orc: 'å…½äºº',\n          troll: 'å·¨é­”',\n          dragon: 'é¾™'\n        },\n        combat: {\n          appeared: 'å‡ºç°äº†ï¼',\n          attack: 'çš„æ”»å‡»ï¼',\n          damage: 'ä¼¤å®³ï¼',\n          critical: 'æš´å‡»ï¼',\n          levelUp: 'ğŸ‰ å‡çº§ï¼Lv.',\n          defeated: 'è¢«å‡»è´¥ï¼ç»éªŒ +',\n          gold: 'ï¼Œé‡‘å¸ +',\n          itemObtained: 'âœ¨ è·å¾—äº†ï¼',\n          dungeonCleared: 'ğŸ‰ åœ°ä¸‹åŸé€šå…³ï¼',\n          nextFloor: 'è‡ªåŠ¨å‰å¾€ç¬¬ å±‚ï¼',\n          dungeonExited: 'è‡ªåŠ¨ç¦»å¼€åœ°ä¸‹åŸã€‚ç”Ÿå‘½å€¼å’Œé­”æ³•å€¼å®Œå…¨æ¢å¤ï¼',\n          hpMpRecovered: 'ç”Ÿå‘½å€¼å’Œé­”æ³•å€¼å®Œå…¨æ¢å¤ï¼',\n          defeat: 'æˆ˜æ–—å¤±è´¥...'\n        }\n      }\n    };\n\n    // í˜„ì¬ ì–¸ì–´ ê°€ì ¸ì˜¤ê¸° (ê¸°ë³¸ê°’: í•œêµ­ì–´)\n    const currentLang = localStorage.getItem('language') || 'ko';\n    const texts = translations[currentLang as keyof typeof translations] || translations.ko;\n    // ì´ˆê¸° ìŠ¤í‚¬ ì„¤ì •\n    const initialSkills: Skill[] = [\n      {\n        id: 'slash',\n        name: 'ê°•ë ¥í•œ ë² ê¸°',\n        level: 1,\n        maxLevel: 10,\n        damage: 30,\n        manaCost: 10,\n        cooldown: 3000,\n        currentCooldown: 0,\n        type: 'active',\n        description: 'ê°•ë ¥í•œ ì¼ê²©ì„ ê°€í•©ë‹ˆë‹¤.'\n      },\n      {\n        id: 'heal',\n        name: 'ì¹˜ìœ ',\n        level: 1,\n        maxLevel: 10,\n        damage: 0,\n        manaCost: 15,\n        cooldown: 5000,\n        currentCooldown: 0,\n        type: 'active',\n        description: 'HPë¥¼ íšŒë³µí•©ë‹ˆë‹¤.'\n      },\n      {\n        id: 'critical',\n        name: 'ì¹˜ëª…íƒ€ ìˆ™ë ¨',\n        level: 1,\n        maxLevel: 10,\n        damage: 0,\n        manaCost: 0,\n        cooldown: 0,\n        currentCooldown: 0,\n        type: 'passive',\n        description: 'ì¹˜ëª…íƒ€ í™•ë¥ ì„ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.'\n      }\n    ];\n\n    // ë˜ì „ ì´ˆê¸°í™”\n    const initialDungeons: Dungeon[] = [\n      {\n        id: 'forest',\n        name: 'ì–´ë‘ ì˜ ìˆ²',\n        level: 1,\n        description: 'ì´ˆë³´ìë¥¼ ìœ„í•œ ë˜ì „ì…ë‹ˆë‹¤.',\n        floors: 10,\n        currentFloor: 1,\n        monsters: [],\n        rewards: {\n          goldRange: [10, 25],\n          expRange: [15, 30],\n          itemDropChance: 0.1\n        },\n        requiredLevel: 1,\n        isUnlocked: true\n      },\n      {\n        id: 'cave',\n        name: 'ê³ ë¸”ë¦° ë™êµ´',\n        level: 5,\n        description: 'ê³ ë¸”ë¦°ë“¤ì´ ì„œì‹í•˜ëŠ” ìœ„í—˜í•œ ë™êµ´ì…ë‹ˆë‹¤.',\n        floors: 15,\n        currentFloor: 1,\n        monsters: [],\n        rewards: {\n          goldRange: [25, 50],\n          expRange: [40, 75],\n          itemDropChance: 0.15\n        },\n        requiredLevel: 5,\n        isUnlocked: false\n      },\n      {\n        id: 'tower',\n        name: 'ë§ˆë²•ì‚¬ì˜ íƒ‘',\n        level: 10,\n        description: 'ê°•ë ¥í•œ ë§ˆë²• ëª¬ìŠ¤í„°ë“¤ì´ ìˆëŠ” íƒ‘ì…ë‹ˆë‹¤.',\n        floors: 20,\n        currentFloor: 1,\n        monsters: [],\n        rewards: {\n          goldRange: [50, 100],\n          expRange: [80, 150],\n          itemDropChance: 0.2\n        },\n        requiredLevel: 10,\n        isUnlocked: false\n      }\n    ];\n\n    // ìƒì  ì•„ì´í…œ ì´ˆê¸°í™”\n    const shopItems: Item[] = [\n      {\n        id: 'sword1',\n        name: 'ê°•ì²  ê²€',\n        type: 'weapon',\n        rarity: 'common',\n        level: 1,\n        stats: { attack: 15 },\n        price: 200,\n        enhancement: 0\n      },\n      {\n        id: 'armor1',\n        name: 'ê°€ì£½ ê°‘ì˜·',\n        type: 'armor',\n        rarity: 'common',\n        level: 1,\n        stats: { defense: 10, hp: 20 },\n        price: 150,\n        enhancement: 0\n      },\n      {\n        id: 'helmet1',\n        name: 'ì² ì œ íˆ¬êµ¬',\n        type: 'helmet',\n        rarity: 'common',\n        level: 1,\n        stats: { defense: 5, hp: 15 },\n        price: 100,\n        enhancement: 0\n      },\n      // ë¬¼ì•½ë“¤\n      {\n        id: 'health_potion',\n        name: 'ì²´ë ¥ ë¬¼ì•½',\n        type: 'consumable',\n        rarity: 'common',\n        level: 1,\n        stats: {},\n        price: 50,\n        enhancement: 0,\n        consumableEffect: {\n          healHp: 50\n        },\n        quantity: 1\n      },\n      {\n        id: 'mana_potion',\n        name: 'ë§ˆë‚˜ ë¬¼ì•½',\n        type: 'consumable',\n        rarity: 'common',\n        level: 1,\n        stats: {},\n        price: 40,\n        enhancement: 0,\n        consumableEffect: {\n          healMp: 30\n        },\n        quantity: 1\n      },\n      {\n        id: 'greater_health_potion',\n        name: 'ê³ ê¸‰ ì²´ë ¥ ë¬¼ì•½',\n        type: 'consumable',\n        rarity: 'rare',\n        level: 2,\n        stats: {},\n        price: 120,\n        enhancement: 0,\n        consumableEffect: {\n          healHp: 120\n        },\n        quantity: 1\n      },\n      {\n        id: 'strength_potion',\n        name: 'í˜ì˜ ë¬¼ì•½',\n        type: 'consumable',\n        rarity: 'rare',\n        level: 2,\n        stats: {},\n        price: 100,\n        enhancement: 0,\n        consumableEffect: {\n          buffType: 'attack',\n          buffAmount: 10,\n          buffDuration: 30000\n        },\n        quantity: 1\n      },\n      {\n        id: 'defense_potion',\n        name: 'ë°©ì–´ì˜ ë¬¼ì•½',\n        type: 'consumable',\n        rarity: 'rare',\n        level: 2,\n        stats: {},\n        price: 100,\n        enhancement: 0,\n        consumableEffect: {\n          buffType: 'defense',\n          buffAmount: 8,\n          buffDuration: 30000\n        },\n        quantity: 1\n      }\n    ];\n\n    setCharacter(prev => ({ \n      ...prev, \n      name: texts.character.name,\n      class: texts.character.class,\n      skills: initialSkills \n    }));\n    setAvailableDungeons(initialDungeons);\n    setShop(shopItems);\n    // Store texts globally for other functions to use\n    (window as any).gameTexts = texts;\n    \n    // ë˜ì „ì— ìˆì§€ ì•Šì„ ë•Œë§Œ ì¼ë°˜ ëª¬ìŠ¤í„° ìƒì„±\n    if (!inDungeon) {\n      spawnMonster();\n    }\n  };\n\n  // ëª¬ìŠ¤í„° ìƒì„±\n  const spawnMonster = () => {\n    // ì´ë¯¸ ëª¬ìŠ¤í„°ê°€ ìˆê±°ë‚˜ ë˜ì „ì— ìˆìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•ŠìŒ\n    const gameTexts = (window as any).gameTexts || {\n      monsters: { slime: 'ìŠ¬ë¼ì„', goblin: 'ê³ ë¸”ë¦°', orc: 'ì˜¤í¬', troll: 'íŠ¸ë¡¤', dragon: 'ë“œë˜ê³¤' },\n      combat: { appeared: 'ì´ ë‚˜íƒ€ë‚¬ë‹¤!' }\n    };\n    const monsters = [\n      { name: gameTexts.monsters.slime, baseHp: 40, baseAttack: 8, baseDefense: 2, exp: 15, gold: 10 },\n      { name: gameTexts.monsters.goblin, baseHp: 60, baseAttack: 12, baseDefense: 4, exp: 25, gold: 18 },\n      { name: gameTexts.monsters.orc, baseHp: 100, baseAttack: 18, baseDefense: 8, exp: 40, gold: 30 },\n      { name: gameTexts.monsters.troll, baseHp: 150, baseAttack: 25, baseDefense: 12, exp: 60, gold: 45 },\n      { name: gameTexts.monsters.dragon, baseHp: 300, baseAttack: 40, baseDefense: 20, exp: 120, gold: 100 }\n    ];\n\n    const randomMonster = monsters[Math.floor(Math.random() * monsters.length)];\n    const levelMultiplier = 1 + (character.level - 1) * 0.3;\n    \n    const monster: Monster = {\n      id: `monster_${Date.now()}`,\n      name: randomMonster.name,\n      level: Math.max(1, character.level + Math.floor(Math.random() * 3 - 1)),\n      hp: Math.floor(randomMonster.baseHp * levelMultiplier),\n      maxHp: Math.floor(randomMonster.baseHp * levelMultiplier),\n      attack: Math.floor(randomMonster.baseAttack * levelMultiplier),\n      defense: Math.floor(randomMonster.baseDefense * levelMultiplier),\n      speed: 10,\n      exp: Math.floor(randomMonster.exp * levelMultiplier),\n      gold: Math.floor(randomMonster.gold * levelMultiplier),\n      dropItems: generateDropItems(),\n      isBoss: Math.random() < 0.1 // 10% ë³´ìŠ¤ í™•ë¥ \n    };\n\n    if (monster.isBoss) {\n      monster.name = `ë³´ìŠ¤ ${monster.name}`;\n      monster.hp *= 3;\n      monster.maxHp *= 3;\n      monster.attack *= 2;\n      monster.defense *= 2;\n      monster.exp *= 5;\n      monster.gold *= 3;\n    }\n\n    setCurrentMonster(monster);\n    addToCombatLog(`${monster.name} Lv.${monster.level}${gameTexts.combat.appeared}`);\n  };\n\n  // ë“œë¡­ ì•„ì´í…œ ìƒì„±\n  const generateDropItems = (): Item[] => {\n    const dropChance = Math.random();\n    if (dropChance < 0.1) { // 10% í™•ë¥ ë¡œ ì•„ì´í…œ ë“œë¡­\n      const rarities: Array<'common' | 'rare' | 'epic' | 'legendary' | 'mythic'> = ['common', 'rare', 'epic', 'legendary', 'mythic'];\n      const rarity = rarities[Math.floor(Math.random() * rarities.length)];\n      const itemTypes = ['weapon', 'armor', 'helmet', 'boots', 'ring', 'amulet'] as const;\n      const itemType = itemTypes[Math.floor(Math.random() * itemTypes.length)];\n      \n      return [{\n        id: `drop_${Date.now()}`,\n        name: generateItemName(rarity, itemType),\n        type: itemType,\n        rarity,\n        level: character.level,\n        stats: generateItemStats(rarity),\n        price: calculateItemPrice(rarity, character.level),\n        enhancement: 0\n      }];\n    }\n    return [];\n  };\n\n  const generateItemName = (rarity: string, itemType: string): string => {\n    const prefixes = {\n      common: ['ë‚¡ì€', 'ì¼ë°˜ì ì¸', 'ê¸°ë³¸'],\n      rare: ['ë‚ ì¹´ë¡œìš´', 'íŠ¼íŠ¼í•œ', 'ë§ˆë²•ì˜'],\n      epic: ['ì „ì„¤ì ì¸', 'ê³ ëŒ€ì˜', 'ì‹ ì„±í•œ'],\n      legendary: ['ì „ì„¤ì˜', 'ì˜ì›…ì˜', 'ë¶ˆë©¸ì˜'],\n      mythic: ['ì‹ í™”ì˜', 'ì°½ì¡°ì˜', 'ì ˆëŒ€ì˜']\n    };\n    \n    const itemNames = {\n      weapon: ['ê²€', 'ë„ë¼', 'ì°½', 'í™œ', 'ì§€íŒ¡ì´'],\n      armor: ['ê°‘ì˜·', 'ë¡œë¸Œ', 'ì‚¬ìŠ¬ê°‘ì˜·', 'ê°€ì£½ê°‘ì˜·'],\n      helmet: ['íˆ¬êµ¬', 'ëª¨ì', 'ê´€', 'í—¬ë¦„'],\n      boots: ['ì‹ ë°œ', 'ë¶€ì¸ ', 'ì¥í™”', 'ìƒŒë“¤'],\n      ring: ['ë°˜ì§€', 'ë§', 'ë°´ë“œ'],\n      amulet: ['ëª©ê±¸ì´', 'ë¶€ì ', 'íœë˜íŠ¸']\n    };\n    \n    const prefix = prefixes[rarity as keyof typeof prefixes][Math.floor(Math.random() * 3)];\n    const itemTypeNames = itemNames[itemType as keyof typeof itemNames] || ['ì•„ì´í…œ'];\n    const item = itemTypeNames[Math.floor(Math.random() * itemTypeNames.length)];\n    \n    return `${prefix} ${item}`;\n  };\n\n  const generateItemStats = (rarity: string) => {\n    const multipliers = {\n      common: 1,\n      rare: 1.5,\n      epic: 2.5,\n      legendary: 4,\n      mythic: 7\n    };\n    \n    const base = multipliers[rarity as keyof typeof multipliers];\n    return {\n      attack: Math.floor(Math.random() * 20 * base),\n      defense: Math.floor(Math.random() * 15 * base),\n      hp: Math.floor(Math.random() * 50 * base),\n      mp: Math.floor(Math.random() * 30 * base),\n      speed: Math.floor(Math.random() * 10 * base),\n      critRate: Math.floor(Math.random() * 10 * base),\n      critDamage: Math.floor(Math.random() * 20 * base)\n    };\n  };\n\n  const calculateItemPrice = (rarity: string, level: number): number => {\n    const basePrice = {\n      common: 50,\n      rare: 150,\n      epic: 500,\n      legendary: 2000,\n      mythic: 10000\n    };\n    \n    return Math.floor(basePrice[rarity as keyof typeof basePrice] * (1 + level * 0.2));\n  };\n\n  // ì „íˆ¬ ì‹œìŠ¤í…œ\n  const attack = () => {\n    if (!currentMonster) return;\n\n    const buffedAttack = character.attack + character.buffs.attack.amount;\n    const damage = calculateDamage(buffedAttack, currentMonster.defense);\n    const isCritical = Math.random() < 0.1 + (character.stats.luck * 0.01);\n    const finalDamage = isCritical ? Math.floor(damage * 1.5) : damage;\n\n    const newMonsterHp = Math.max(0, currentMonster.hp - finalDamage);\n    setCurrentMonster(prev => prev ? { ...prev, hp: newMonsterHp } : null);\n\n    const gameTexts = (window as any).gameTexts || {\n      combat: { attack: 'ì˜ ê³µê²©!', damage: 'ë°ë¯¸ì§€!', critical: 'ì¹˜ëª…íƒ€!' }\n    };\n    addToCombatLog(`${character.name}${gameTexts.combat.attack} ${finalDamage}${isCritical ? ` (${gameTexts.combat.critical})` : ''} ${gameTexts.combat.damage}`);\n\n    onAction('combat_attack', {\n      user_id: currentUser.user_id,\n      damage: finalDamage,\n      is_critical: isCritical,\n      monster_name: currentMonster.name,\n      monster_level: currentMonster.level,\n      character_level: character.level,\n      character_attack: character.attack,\n      monster_hp_remaining: newMonsterHp,\n      dungeon_name: currentDungeon?.name || null,\n      dungeon_floor: currentDungeon?.currentFloor || null\n    });\n\n    if (newMonsterHp <= 0) {\n      defeatMonster();\n    } else {\n      // ëª¬ìŠ¤í„° ë°˜ê²©\n      setTimeout(() => monsterAttack(), 1000);\n    }\n  };\n\n  const monsterAttack = () => {\n    if (!currentMonster || currentMonster.hp <= 0) return;\n\n    const buffedDefense = character.defense + character.buffs.defense.amount;\n    const damage = calculateDamage(currentMonster.attack, buffedDefense);\n    const newHp = Math.max(0, character.hp - damage);\n    \n    setCharacter(prev => ({ ...prev, hp: newHp }));\n    const gameTexts = (window as any).gameTexts || {\n      combat: { attack: 'ì˜ ê³µê²©!', damage: 'ë°ë¯¸ì§€!' }\n    };\n    addToCombatLog(`${currentMonster.name}${gameTexts.combat.attack} ${damage} ${gameTexts.combat.damage}`);\n\n    if (newHp <= 0) {\n      const gameTexts = (window as any).gameTexts || {\n        combat: { defeat: 'ì „íˆ¬ì—ì„œ íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤...' }\n      };\n      addToCombatLog(gameTexts.combat.defeat);\n      setIsAutoFighting(false);\n      \n      // ì „íˆ¬ ì‹¤íŒ¨ ì´ë²¤íŠ¸ ë¡œê¹…\n      onAction('combat_defeat', {\n        monster_name: currentMonster.name,\n        monster_level: currentMonster.level,\n        character_level: character.level,\n        dungeon_id: currentDungeon?.id || 'field',\n        dungeon_name: currentDungeon?.name || 'field',\n        damage_taken: currentMonster.attack,\n        character_defense: character.defense\n      });\n\n      // ë˜ì „ì—ì„œ ë‚˜ê°€ê³  ì²´ë ¥/ë§ˆë‚˜ ì™„ì „ íšŒë³µ\n      setTimeout(() => {\n        setCharacter(prev => ({\n          ...prev,\n          hp: prev.maxHp,\n          mp: prev.maxMp\n        }));\n        \n        if (inDungeon && currentDungeon) {\n          // ë˜ì „ì—ì„œ ë‚˜ê°€ê¸° (ì£½ìŒìœ¼ë¡œ ì¸í•œ ìë™ í‡´ì¥)\n          onAction('dungeon_exited', {\n            dungeon_id: currentDungeon.id,\n            dungeon_name: currentDungeon.name,\n            current_floor: currentDungeon.currentFloor,\n            total_floors: currentDungeon.floors,\n            character_level: character.level,\n            exit_reason: 'death',\n            time_spent: new Date().getTime()\n          });\n          setInDungeon(false);\n          setCurrentDungeon(null);\n          setCurrentTab('lobby');\n          setGameMode('lobby');\n          addToCombatLog('ë˜ì „ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!');\n        } else {\n          // ì¼ë°˜ í•„ë“œì—ì„œëŠ” ìƒˆ ëª¬ìŠ¤í„° ìŠ¤í°\n          addToCombatLog('ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!');\n          spawnMonster();\n        }\n      }, 2000);\n    }\n  };\n\n  const calculateDamage = (attack: number, defense: number): number => {\n    const baseDamage = Math.max(1, attack - Math.floor(defense * 0.5));\n    return Math.floor(baseDamage * (0.8 + Math.random() * 0.4));\n  };\n\n  const defeatMonster = () => {\n    if (!currentMonster) return;\n\n    const expGained = currentMonster.exp;\n    const goldGained = currentMonster.gold;\n    \n    setCharacter(prev => {\n      const newExp = prev.exp + expGained;\n      const newGold = prev.gold + goldGained;\n      let newLevel = prev.level;\n      let newMaxExp = prev.maxExp;\n      let newHp = prev.hp;\n      let newMaxHp = prev.maxHp;\n      let availablePoints = prev.stats.availablePoints;\n\n      // ë ˆë²¨ì—… ì²´í¬\n      if (newExp >= prev.maxExp) {\n        newLevel += 1;\n        newMaxExp = Math.floor(prev.maxExp * 1.5);\n        newMaxHp += 20;\n        newHp = newMaxHp; // ë ˆë²¨ì—… ì‹œ ì²´ë ¥ ì™„ì „ íšŒë³µ\n        availablePoints += 5;\n        \n        addToCombatLog(`ğŸ‰ ë ˆë²¨ì—…! Lv.${newLevel}ì´ ë˜ì—ˆìŠµë‹ˆë‹¤!`);\n        \n        onAction('level_up', {\n          user_id: currentUser.user_id,\n          new_level: newLevel,\n          character_class: prev.class,\n          stat_points_gained: 5\n        });\n\n        // ë˜ì „ í•´ê¸ˆ ì²´í¬\n        setAvailableDungeons(prevDungeons => \n          prevDungeons.map(dungeon => ({\n            ...dungeon,\n            isUnlocked: dungeon.isUnlocked || newLevel >= dungeon.requiredLevel\n          }))\n        );\n      }\n\n      return {\n        ...prev,\n        exp: newExp >= prev.maxExp ? newExp - prev.maxExp : newExp,\n        gold: newGold,\n        level: newLevel,\n        maxExp: newMaxExp,\n        hp: newHp,\n        maxHp: newMaxHp,\n        stats: { ...prev.stats, availablePoints }\n      };\n    });\n\n    // ì•„ì´í…œ ë“œë¡­ ì²˜ë¦¬\n    if (currentMonster.dropItems.length > 0) {\n      setInventory(prev => [...prev, ...currentMonster.dropItems]);\n      addToCombatLog(`âœ¨ ${currentMonster.dropItems[0].name}ì„ íšë“í–ˆìŠµë‹ˆë‹¤!`);\n    }\n\n    addToCombatLog(`${currentMonster.name}ë¥¼ ë¬¼ë¦¬ì³¤ë‹¤! EXP +${expGained}, ê³¨ë“œ +${goldGained}`);\n\n    // ì¶”ì  ì¹´ìš´í„° ì—…ë°ì´íŠ¸\n    setMonstersDefeated(prev => prev + 1);\n    setTotalGoldEarned(prev => prev + goldGained);\n\n    onAction('monster_defeated', {\n      user_id: currentUser.user_id,\n      monster_name: currentMonster.name,\n      monster_level: currentMonster.level,\n      character_level: character.level,\n      exp_gained: expGained,\n      gold_gained: goldGained,\n      items_dropped: currentMonster.dropItems.length,\n      character_attack: character.attack,\n      dungeon_name: currentDungeon?.name || null,\n      dungeon_floor: currentDungeon?.currentFloor || null\n    });\n\n    // í˜„ì¬ ëª¬ìŠ¤í„° ì œê±°\n    setCurrentMonster(null);\n    \n    // ë˜ì „ì— ìˆëŠ” ê²½ìš° ìë™ìœ¼ë¡œ ë‹¤ìŒ ì¸µ ì§„í–‰, ì•„ë‹ˆë©´ ìƒˆ ëª¬ìŠ¤í„° ìƒì„±\n    if (inDungeon && currentDungeon) {\n      if (currentDungeon.currentFloor < currentDungeon.floors) {\n        // ì§„í–‰ ë°”ë¥¼ í†µí•œ ë‹¤ìŒ ì¸µ ì§„í–‰\n        setShowDungeonChoice(true);\n        addToCombatLog(`${currentDungeon.currentFloor + 1}ì¸µìœ¼ë¡œ ì§„í–‰ ì¤€ë¹„ ì¤‘...`);\n        \n        // 3ì´ˆ í›„ ìë™ ì§„í–‰\n        setTimeout(() => {\n          const updatedDungeon = { ...currentDungeon, currentFloor: currentDungeon.currentFloor + 1 };\n          setCurrentDungeon(updatedDungeon);\n          setShowDungeonChoice(false);\n          addToCombatLog(`${updatedDungeon.currentFloor}ì¸µì— ë„ì°©í–ˆìŠµë‹ˆë‹¤!`);\n          setTimeout(() => {\n            spawnDungeonMonster(updatedDungeon);\n          }, 500);\n        }, 3000);\n      } else {\n        // ë˜ì „ í´ë¦¬ì–´\n        addToCombatLog(`ğŸ‰ ${currentDungeon.name} ë˜ì „ì„ í´ë¦¬ì–´í–ˆìŠµë‹ˆë‹¤!`);\n        onAction('dungeon_cleared', {\n          dungeon_id: currentDungeon.id,\n          dungeon_name: currentDungeon.name,\n          floors_cleared: currentDungeon.floors,\n          character_level: character.level,\n          completion_time: new Date().getTime(),\n          monsters_defeated: monstersDefeated,\n          gold_earned: totalGoldEarned\n        });\n        setTimeout(() => {\n          setInDungeon(false);\n          setCurrentDungeon(null);\n          setCurrentTab('lobby');\n          addToCombatLog('ë˜ì „ì—ì„œ ìë™ìœ¼ë¡œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!');\n          setCharacter(prev => ({ ...prev, hp: prev.maxHp, mp: prev.maxMp }));\n          setTimeout(() => {\n            spawnMonster();\n          }, 1000);\n        }, 3000);\n      }\n    } else {\n      // ì¼ë°˜ ë°©ì¹˜í˜• ì „íˆ¬ì—ì„œ ìƒˆ ëª¬ìŠ¤í„° ìƒì„±\n      setTimeout(() => {\n        spawnMonster();\n      }, 2000);\n    }\n  };\n\n  // ë‹¤ìŒ ì¸µìœ¼ë¡œ ì§„í–‰\n  const proceedToNextFloor = () => {\n    if (!currentDungeon) return;\n    \n    const updatedDungeon = { ...currentDungeon, currentFloor: currentDungeon.currentFloor + 1 };\n    setCurrentDungeon(updatedDungeon);\n    setShowDungeonChoice(false);\n    setTimeout(() => {\n      spawnDungeonMonster(updatedDungeon);\n      addToCombatLog(`${updatedDungeon.currentFloor}ì¸µìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤!`);\n    }, 500);\n  };\n\n  // ë˜ì „ ë‚˜ê°€ê¸°\n  const exitDungeonAfterVictory = () => {\n    if (!currentDungeon) return;\n    \n    // ë˜ì „ ë‚˜ê°€ê¸° ì´ë²¤íŠ¸ ë¡œê¹…\n    onAction('dungeon_exited', {\n      dungeon_id: currentDungeon.id,\n      dungeon_name: currentDungeon.name,\n      current_floor: currentDungeon.currentFloor,\n      total_floors: currentDungeon.floors,\n      character_level: character.level,\n      exit_reason: 'victory_choice',\n      time_spent: new Date().getTime()\n    });\n    \n    // ë˜ì „ ë¦¬ì…‹ (í˜„ì¬ ì¸µì„ 1ì¸µìœ¼ë¡œ ë˜ëŒë¦¼)\n    const resetDungeon = { ...currentDungeon, currentFloor: 1 };\n    setAvailableDungeons(prev => prev.map(d => \n      d.id === resetDungeon.id ? resetDungeon : d\n    ));\n    \n    setInDungeon(false);\n    setCurrentDungeon(null);\n    setCurrentTab('lobby');\n    setGameMode('lobby');\n    setShowDungeonChoice(false);\n    \n    // ì²´ë ¥ê³¼ ë§ˆë‚˜ ì™„ì „ íšŒë³µ\n    setCharacter(prev => ({ ...prev, hp: prev.maxHp, mp: prev.maxMp }));\n    addToCombatLog('ë˜ì „ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!');\n    \n    // ìƒˆë¡œìš´ ì¼ë°˜ ëª¬ìŠ¤í„° ìƒì„±\n    setTimeout(() => {\n      spawnMonster();\n    }, 1000);\n  };\n\n\n  // ìë™ ì „íˆ¬\n  useEffect(() => {\n    if (isAutoFighting && currentMonster && currentMonster.hp > 0 && character.hp > 0) {\n      const autoAttackTimer = setTimeout(() => {\n        attack();\n      }, 2000);\n\n      return () => clearTimeout(autoAttackTimer);\n    }\n  }, [isAutoFighting, currentMonster, character.hp]);\n\n  // ìŠ¤í‚¬ ì¿¨ë‹¤ìš´ ë° MP íšŒë³µ\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCharacter(prev => ({\n        ...prev,\n        mp: Math.min(prev.maxMp, prev.mp + 1),\n        skills: prev.skills.map(skill => ({\n          ...skill,\n          currentCooldown: Math.max(0, skill.currentCooldown - 100)\n        })),\n        buffs: {\n          attack: {\n            amount: prev.buffs.attack.duration > 0 ? prev.buffs.attack.amount : 0,\n            duration: Math.max(0, prev.buffs.attack.duration - 100)\n          },\n          defense: {\n            amount: prev.buffs.defense.duration > 0 ? prev.buffs.defense.amount : 0,\n            duration: Math.max(0, prev.buffs.defense.duration - 100)\n          },\n          speed: {\n            amount: prev.buffs.speed.duration > 0 ? prev.buffs.speed.amount : 0,\n            duration: Math.max(0, prev.buffs.speed.duration - 100)\n          }\n        }\n      }));\n    }, 100);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const addToCombatLog = (message: string) => {\n    setCombatLog(prev => {\n      const newLog = [...prev, message];\n      if (newLog.length > 50) newLog.shift();\n      return newLog;\n    });\n    \n    // Auto-scroll to bottom immediately and with backup timing\n    if (logRef.current) {\n      logRef.current.scrollTop = logRef.current.scrollHeight;\n    }\n    \n    // Additional scroll with slight delay to ensure content is rendered\n    setTimeout(() => {\n      if (logRef.current) {\n        logRef.current.scrollTop = logRef.current.scrollHeight;\n      }\n    }, 10);\n    \n    // Final backup scroll\n    setTimeout(() => {\n      if (logRef.current) {\n        logRef.current.scrollTop = logRef.current.scrollHeight;\n      }\n    }, 100);\n  };\n\n  // ìŠ¤íƒ¯ ë¶„ë°°\n  const allocateStatPoint = (stat: keyof Omit<CharacterStats, 'availablePoints'>) => {\n    if (character.stats.availablePoints <= 0) return;\n\n    setCharacter(prev => ({\n      ...prev,\n      stats: {\n        ...prev.stats,\n        [stat]: prev.stats[stat] + 1,\n        availablePoints: prev.stats.availablePoints - 1\n      },\n      // ìŠ¤íƒ¯ì— ë”°ë¥¸ ëŠ¥ë ¥ì¹˜ ì—…ë°ì´íŠ¸\n      attack: stat === 'strength' ? prev.attack + 2 : prev.attack,\n      defense: stat === 'vitality' ? prev.defense + 1 : prev.defense,\n      maxHp: stat === 'vitality' ? prev.maxHp + 10 : prev.maxHp,\n      maxMp: stat === 'intelligence' ? prev.maxMp + 5 : prev.maxMp,\n      speed: stat === 'agility' ? prev.speed + 1 : prev.speed\n    }));\n  };\n\n  // ì•„ì´í…œ ì¥ì°©\n  const equipItem = (item: Item) => {\n    // ì†Œë¹„ ì•„ì´í…œì€ ì¥ì°©í•  ìˆ˜ ì—†ìŒ\n    if (item.type === 'consumable') {\n      return;\n    }\n    \n    setCharacter(prev => {\n      const newEquipment = { ...prev.equipment };\n      newEquipment[item.type as keyof typeof newEquipment] = item;\n\n      // ì¥ì°©í•œ ì•„ì´í…œì˜ ìŠ¤íƒ¯ ì ìš©\n      let newAttack = prev.attack;\n      let newDefense = prev.defense;\n      let newMaxHp = prev.maxHp;\n      let newMaxMp = prev.maxMp;\n      let newSpeed = prev.speed;\n\n      if (item.stats.attack) newAttack += item.stats.attack;\n      if (item.stats.defense) newDefense += item.stats.defense;\n      if (item.stats.hp) newMaxHp += item.stats.hp;\n      if (item.stats.mp) newMaxMp += item.stats.mp;\n      if (item.stats.speed) newSpeed += item.stats.speed;\n\n      return {\n        ...prev,\n        equipment: newEquipment,\n        attack: newAttack,\n        defense: newDefense,\n        maxHp: newMaxHp,\n        maxMp: newMaxMp,\n        speed: newSpeed\n      };\n    });\n\n    // ì¸ë²¤í† ë¦¬ì—ì„œ ì•„ì´í…œ ì œê±°\n    setInventory(prev => prev.filter(invItem => invItem.id !== item.id));\n    addToCombatLog(`${item.name}ì„ ì¥ì°©í–ˆìŠµë‹ˆë‹¤!`);\n  };\n\n  // ì•„ì´í…œ íŒë§¤\n  const sellItem = (item: Item) => {\n    const sellPrice = Math.floor(item.price * 0.7);\n    setCharacter(prev => ({ ...prev, gold: prev.gold + sellPrice }));\n    setInventory(prev => prev.filter(invItem => invItem.id !== item.id));\n    addToCombatLog(`${item.name}ì„ ${sellPrice} ê³¨ë“œì— íŒë§¤í–ˆìŠµë‹ˆë‹¤!`);\n  };\n\n  // ì•„ì´í…œ êµ¬ë§¤\n  const buyItem = (item: Item) => {\n    if (character.gold < item.price) return;\n    \n    setCharacter(prev => ({ ...prev, gold: prev.gold - item.price }));\n    setInventory(prev => [...prev, { ...item, id: `${item.id}_${Date.now()}` }]);\n    addToCombatLog(`${item.name}ì„ êµ¬ë§¤í–ˆìŠµë‹ˆë‹¤!`);\n  };\n\n  const getRarityColor = (rarity: string) => {\n    const colors = {\n      common: '#9ca3af',\n      rare: '#3b82f6',\n      epic: '#8b5cf6',\n      legendary: '#f59e0b',\n      mythic: '#ef4444'\n    };\n    return colors[rarity as keyof typeof colors] || '#9ca3af';\n  };\n\n  // ë˜ì „ ì…ì¥ í•¨ìˆ˜\n  const enterDungeon = (dungeon: Dungeon) => {\n    if (character.level < dungeon.requiredLevel) {\n      addToCombatLog(`ë ˆë²¨ ${dungeon.requiredLevel} ì´ìƒì´ì–´ì•¼ ì…ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.`);\n      return;\n    }\n    setCurrentDungeon(dungeon);\n    setInDungeon(true);\n    setGameMode('dungeon');\n    setCurrentTab('dungeon');\n    spawnDungeonMonster(dungeon);\n    \n    // ì´ë²¤íŠ¸ ë¡œê¹…\n    onAction('dungeon_entered', {\n      dungeon_id: dungeon.id,\n      dungeon_name: dungeon.name,\n      character_level: character.level,\n      floor: dungeon.currentFloor,\n      character_attack: character.attack,\n      character_defense: character.defense,\n      character_hp: character.hp,\n      character_mp: character.mp,\n      entry_time: new Date().getTime()\n    });\n  };\n\n  // ë˜ì „ ëª¬ìŠ¤í„° ìŠ¤í°\n  const spawnDungeonMonster = (dungeon: Dungeon) => {\n    // ì´ë¯¸ ëª¬ìŠ¤í„°ê°€ ìˆìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•ŠìŒ\n    if (currentMonster) return;\n    const baseMonsters = [\n      { name: 'ìŠ¬ë¼ì„', baseHp: 30, baseAttack: 8, baseDefense: 2 },\n      { name: 'ê³ ë¸”ë¦°', baseHp: 50, baseAttack: 12, baseDefense: 4 },\n      { name: 'ì˜¤í¬', baseHp: 100, baseAttack: 18, baseDefense: 8 },\n      { name: 'íŠ¸ë¡¤', baseHp: 150, baseAttack: 25, baseDefense: 12 },\n      { name: 'ë“œë˜ê³¤', baseHp: 300, baseAttack: 40, baseDefense: 20 }\n    ];\n\n    // ì¸µìˆ˜ì— ë”°ë¥¸ ì ì§„ì  ëª¬ìŠ¤í„° ì„ íƒ ë¡œì§\n    const floorBasedMonsterIndex = () => {\n      const currentFloor = dungeon.currentFloor;\n      if (currentFloor <= 3) return 0; // ìŠ¬ë¼ì„ (1~3ì¸µ)\n      if (currentFloor <= 7) return 1; // ê³ ë¸”ë¦° (4~7ì¸µ)  \n      if (currentFloor <= 12) return 2; // ì˜¤í¬ (8~12ì¸µ)\n      if (currentFloor <= 18) return 3; // íŠ¸ë¡¤ (13~18ì¸µ)\n      return 4; // ë“œë˜ê³¤ (19ì¸µ ì´ìƒ)\n    };\n    \n    // ì¸µìˆ˜ ê¸°ë°˜ ê¸°ë³¸ ëª¬ìŠ¤í„° + ì•½ê°„ì˜ ëœë¤ì„± ì¶”ê°€\n    const baseIndex = floorBasedMonsterIndex();\n    const randomVariation = Math.random() < 0.3 && baseIndex > 0 ? -1 : 0; // 30% í™•ë¥ ë¡œ í•œ ë‹¨ê³„ ë‚®ì€ ëª¬ìŠ¤í„°\n    const selectedIndex = Math.max(0, baseIndex + randomVariation);\n    \n    const selectedMonster = baseMonsters[selectedIndex];\n    const levelMultiplier = 1 + (dungeon.level + dungeon.currentFloor - 1) * 0.2;\n\n    const monster: Monster = {\n      id: `dungeon_${dungeon.id}_${Date.now()}`,\n      name: `${dungeon.name} ${selectedMonster.name}`,\n      level: dungeon.level + dungeon.currentFloor,\n      hp: Math.floor(selectedMonster.baseHp * levelMultiplier),\n      maxHp: Math.floor(selectedMonster.baseHp * levelMultiplier),\n      attack: Math.floor(selectedMonster.baseAttack * levelMultiplier),\n      defense: Math.floor(selectedMonster.baseDefense * levelMultiplier),\n      speed: 10,\n      exp: Math.floor((15 + dungeon.level * 5) * levelMultiplier),\n      gold: Math.floor((10 + dungeon.level * 3) * levelMultiplier),\n      dropItems: generateDropItems(),\n      isBoss: dungeon.currentFloor % 5 === 0\n    };\n\n    if (monster.isBoss) {\n      monster.name = `ë³´ìŠ¤ ${monster.name}`;\n      monster.hp *= 2;\n      monster.maxHp *= 2;\n      monster.attack *= 1.5;\n      monster.exp *= 3;\n      monster.gold *= 2;\n    }\n\n    setCurrentMonster(monster);\n    addToCombatLog(`${monster.name} Lv.${monster.level}ì´ ë‚˜íƒ€ë‚¬ë‹¤!`);\n  };\n\n  // ë¬¼ì•½ ì‚¬ìš© í•¨ìˆ˜\n  const consumeItem = (item: Item) => {\n    if (item.type !== 'consumable' || !item.consumableEffect) return;\n\n    const effect = item.consumableEffect;\n\n    // ì²´ë ¥ íšŒë³µ\n    if (effect.healHp) {\n      setCharacter(prev => ({\n        ...prev,\n        hp: Math.min(prev.maxHp, prev.hp + effect.healHp!)\n      }));\n      addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ HP ${effect.healHp} íšŒë³µ!`);\n    }\n\n    // ë§ˆë‚˜ íšŒë³µ\n    if (effect.healMp) {\n      setCharacter(prev => ({\n        ...prev,\n        mp: Math.min(prev.maxMp, prev.mp + effect.healMp!)\n      }));\n      addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ MP ${effect.healMp} íšŒë³µ!`);\n    }\n\n    // ë²„í”„ íš¨ê³¼\n    if (effect.buffType && effect.buffAmount && effect.buffDuration) {\n      setCharacter(prev => ({\n        ...prev,\n        buffs: {\n          ...prev.buffs,\n          [effect.buffType!]: {\n            amount: effect.buffAmount!,\n            duration: effect.buffDuration!\n          }\n        }\n      }));\n      addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ ${effect.buffType === 'attack' ? 'ê³µê²©ë ¥' : effect.buffType === 'defense' ? 'ë°©ì–´ë ¥' : 'ì†ë„'} ${effect.buffAmount} ì¦ê°€! (${effect.buffDuration/1000}ì´ˆ)`);\n    }\n\n    // ì¸ë²¤í† ë¦¬ì—ì„œ ë¬¼ì•½ ì œê±° ë˜ëŠ” ìˆ˜ëŸ‰ ê°ì†Œ\n    setInventory(prev => {\n      const itemIndex = prev.findIndex(invItem => invItem.id === item.id);\n      if (itemIndex !== -1) {\n        const newInventory = [...prev];\n        const currentItem = newInventory[itemIndex];\n        if (currentItem.quantity && currentItem.quantity > 1) {\n          newInventory[itemIndex] = { ...currentItem, quantity: currentItem.quantity - 1 };\n        } else {\n          newInventory.splice(itemIndex, 1);\n        }\n        return newInventory;\n      }\n      return prev;\n    });\n\n    // ì´ë²¤íŠ¸ ë¡œê¹…\n    onAction('consumable_used', {\n      item_name: item.name,\n      item_type: item.type,\n      character_level: character.level,\n      heal_hp: effect.healHp || 0,\n      heal_mp: effect.healMp || 0,\n      buff_type: effect.buffType || 'none',\n      buff_amount: effect.buffAmount || 0,\n      character_hp_before: character.hp,\n      character_mp_before: character.mp,\n      dungeon_name: currentDungeon?.name || null\n    });\n  };\n\n  // ìŠ¤í‚¬ ì‚¬ìš© í•¨ìˆ˜\n  const castSkill = (skill: Skill) => {\n    if (skill.currentCooldown > 0 || character.mp < skill.manaCost) return;\n\n    // ìŠ¤í‚¬ ì‚¬ìš© ë¡œì§\n    if (skill.id === 'heal') {\n      const healAmount = 30 + skill.level * 5;\n      setCharacter(prev => ({\n        ...prev,\n        hp: Math.min(prev.maxHp, prev.hp + healAmount),\n        mp: prev.mp - skill.manaCost\n      }));\n      addToCombatLog(`${healAmount}ë§Œí¼ íšŒë³µí–ˆë‹¤!`);\n    } else {\n      // ê³µê²© ìŠ¤í‚¬\n      if (currentMonster) {\n        const damage = calculateDamage(skill.damage + skill.level * 3, currentMonster.defense);\n        const newMonsterHp = Math.max(0, currentMonster.hp - damage);\n        setCurrentMonster(prev => prev ? {...prev, hp: newMonsterHp} : null);\n        setCharacter(prev => ({ ...prev, mp: prev.mp - skill.manaCost }));\n        addToCombatLog(`${skill.name}ë¡œ ${damage} ë°ë¯¸ì§€!`);\n\n        // ëª¬ìŠ¤í„°ê°€ ì£½ì§€ ì•Šì•˜ìœ¼ë©´ ë°˜ê²©\n        if (newMonsterHp > 0) {\n          setTimeout(() => {\n            monsterAttack();\n          }, 1000);\n        } else {\n          // ëª¬ìŠ¤í„°ê°€ ì£½ì—ˆìœ¼ë©´ ì²˜ì¹˜ ì²˜ë¦¬\n          setTimeout(() => {\n            defeatMonster();\n          }, 1500);\n        }\n      }\n    }\n    \n    // ì¿¨ë‹¤ìš´ ì ìš©\n    setCharacter(prev => ({\n      ...prev,\n      skills: prev.skills.map(s => \n        s.id === skill.id ? {...s, currentCooldown: s.cooldown} : s\n      )\n    }));\n\n    // ì´ë²¤íŠ¸ ë¡œê¹…\n    onAction('skill_used', {\n      skill_name: skill.name,\n      skill_level: skill.level,\n      mana_cost: skill.manaCost,\n      character_level: character.level,\n      character_mp_before: character.mp,\n      character_mp_after: character.mp - skill.manaCost,\n      dungeon_name: currentDungeon?.name || null\n    });\n  };\n\n  // ìŠ¤íƒ¯ í¬ì¸íŠ¸ í• ë‹¹\n  const allocateStat = (statName: keyof CharacterStats) => {\n    if (character.stats.availablePoints <= 0) return;\n\n    setCharacter(prev => ({\n      ...prev,\n      stats: {\n        ...prev.stats,\n        [statName]: prev.stats[statName] + 1,\n        availablePoints: prev.stats.availablePoints - 1\n      }\n    }));\n\n    // ìŠ¤íƒ¯ì— ë”°ë¥¸ ëŠ¥ë ¥ì¹˜ ì—…ë°ì´íŠ¸\n    let hpBonus = 0, mpBonus = 0, attackBonus = 0, defenseBonus = 0;\n    if (statName === 'vitality') hpBonus = 5;\n    if (statName === 'intelligence') mpBonus = 3;\n    if (statName === 'strength') attackBonus = 2;\n    if (statName === 'agility') { attackBonus = 1; defenseBonus = 1; }\n\n    setCharacter(prev => ({\n      ...prev,\n      maxHp: prev.maxHp + hpBonus,\n      hp: prev.hp + hpBonus,\n      maxMp: prev.maxMp + mpBonus,\n      mp: prev.mp + mpBonus,\n      attack: prev.attack + attackBonus,\n      defense: prev.defense + defenseBonus\n    }));\n\n    // ì´ë²¤íŠ¸ ë¡œê¹…\n    onAction('stat_allocated', {\n      stat_name: statName,\n      stat_value: character.stats[statName] + 1,\n      character_level: character.level,\n      available_points: character.stats.availablePoints - 1\n    });\n  };\n\n  // ê³µí†µ ìºë¦­í„° ì •ë³´ í—¤ë” ì»´í¬ë„ŒíŠ¸\n  const renderCharacterHeader = () => (\n    <div style={{\n      background: 'linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)',\n      borderRadius: '15px',\n      padding: '15px 20px',\n      marginBottom: '20px',\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\n      gap: '15px',\n      color: 'white'\n    }}>\n      <div style={{ textAlign: 'center' }}>\n        <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#ffffff' }}>\n          Lv.{character.level}\n        </div>\n        <div style={{ color: '#e0e7ff', fontSize: '12px' }}>ë ˆë²¨</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#fbbf24' }}>\n          {character.gold}G\n        </div>\n        <div style={{ color: '#e0e7ff', fontSize: '12px' }}>ê³¨ë“œ</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <div style={{ fontSize: '16px', fontWeight: 'bold', color: '#f87171' }}>\n          {character.attack}\n        </div>\n        <div style={{ color: '#e0e7ff', fontSize: '12px' }}>ê³µê²©ë ¥</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <div style={{ fontSize: '16px', fontWeight: 'bold', color: '#60a5fa' }}>\n          {character.defense}\n        </div>\n        <div style={{ color: '#e0e7ff', fontSize: '12px' }}>ë°©ì–´ë ¥</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <div style={{ fontSize: '16px', fontWeight: 'bold', color: '#34d399' }}>\n          {character.hp}/{character.maxHp}\n        </div>\n        <div style={{ color: '#e0e7ff', fontSize: '12px' }}>ì²´ë ¥</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <div style={{ fontSize: '16px', fontWeight: 'bold', color: '#a78bfa' }}>\n          {character.mp}/{character.maxMp}\n        </div>\n        <div style={{ color: '#e0e7ff', fontSize: '12px' }}>ë§ˆë‚˜</div>\n      </div>\n    </div>\n  );\n\n  // ë¡œë¹„ ë Œë”ë§\n  const renderLobbyTab = () => (\n    <div style={{ padding: '20px', background: '#1f2937', minHeight: '600px' }}>\n      {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n      {renderCharacterHeader()}\n\n      <div style={{\n        background: 'linear-gradient(135deg, #059669 0%, #10b981 100%)',\n        borderRadius: '15px',\n        padding: '20px',\n        marginBottom: '20px',\n        color: 'white',\n        textAlign: 'center'\n      }}>\n        <h2 style={{ margin: '0 0 10px 0', fontSize: '24px' }}>ğŸ  ëª¨í—˜ê°€ ë¡œë¹„</h2>\n        <p style={{ margin: 0, opacity: 0.9 }}>ë˜ì „ì„ ì„ íƒí•˜ì—¬ ëª¨í—˜ì„ ì‹œì‘í•˜ì„¸ìš”!</p>\n      </div>\n\n      {/* ë˜ì „ ëª©ë¡ */}\n      <div style={{ marginBottom: '20px' }}>\n        <h3 style={{ color: 'white', marginBottom: '15px', fontSize: '20px' }}>ğŸ° ë˜ì „ ëª©ë¡</h3>\n        <div style={{ display: 'grid', gap: '15px' }}>\n          {availableDungeons.map(dungeon => (\n            <div\n              key={dungeon.id}\n              style={{\n                background: dungeon.isUnlocked ? '#374151' : '#1f2937',\n                borderRadius: '10px',\n                padding: '20px',\n                border: dungeon.isUnlocked ? '2px solid #10b981' : '2px solid #4b5563',\n                opacity: dungeon.isUnlocked ? 1 : 0.6\n              }}\n            >\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                <div>\n                  <h4 style={{ color: 'white', margin: '0 0 5px 0', fontSize: '18px' }}>\n                    {dungeon.name} (Lv.{dungeon.level})\n                  </h4>\n                  <p style={{ color: '#9ca3af', margin: '0 0 10px 0', fontSize: '14px' }}>\n                    {dungeon.description}\n                  </p>\n                  <div style={{ fontSize: '12px', color: '#6b7280' }}>\n                    í•„ìš” ë ˆë²¨: {dungeon.requiredLevel} | ì¸µìˆ˜: {dungeon.floors}ì¸µ | í˜„ì¬ ì¸µ: {dungeon.currentFloor}ì¸µ\n                  </div>\n                </div>\n                <button\n                  onClick={() => enterDungeon(dungeon)}\n                  disabled={!dungeon.isUnlocked || character.level < dungeon.requiredLevel}\n                  style={{\n                    background: dungeon.isUnlocked && character.level >= dungeon.requiredLevel\n                      ? 'linear-gradient(135deg, #10b981 0%, #059669 100%)'\n                      : '#4b5563',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '8px',\n                    padding: '12px 20px',\n                    fontSize: '14px',\n                    fontWeight: 'bold',\n                    cursor: dungeon.isUnlocked && character.level >= dungeon.requiredLevel ? 'pointer' : 'not-allowed',\n                    transition: 'all 0.3s ease'\n                  }}\n                >\n                  {dungeon.isUnlocked && character.level >= dungeon.requiredLevel ? 'ì…ì¥' : 'ì ê¸ˆ'}\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n\n  // ë˜ì „ íƒ­ ë Œë”ë§\n  const renderDungeonTab = () => {\n    if (!inDungeon || !currentDungeon) {\n      return (\n        <div style={{ padding: '100px 20px', textAlign: 'center', background: '#1f2937', color: '#9ca3af' }}>\n          <h3>ë˜ì „ì— ì…ì¥í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤</h3>\n          <p>ë¡œë¹„ì—ì„œ ë˜ì „ì„ ì„ íƒí•´ì£¼ì„¸ìš”</p>\n        </div>\n      );\n    }\n\n    return (\n      <div style={{ padding: '20px', background: '#1f2937', minHeight: '600px' }}>\n        {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n        {renderCharacterHeader()}\n\n        {/* ë˜ì „ ì •ë³´ */}\n        <div style={{\n          background: 'linear-gradient(135deg, #7c2d12 0%, #dc2626 100%)',\n          borderRadius: '15px',\n          padding: '20px',\n          marginBottom: '20px',\n          color: 'white'\n        }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            <div>\n              <h2 style={{ margin: '0 0 5px 0', fontSize: '24px' }}>\n                ğŸ° {currentDungeon.name}\n              </h2>\n              <p style={{ margin: 0, opacity: 0.9, fontSize: '14px' }}>\n                {currentDungeon.currentFloor}ì¸µ / {currentDungeon.floors}ì¸µ\n              </p>\n            </div>\n            <button\n              onClick={() => {\n                // ë˜ì „ ë‚˜ê°€ê¸° ì´ë²¤íŠ¸ ë¡œê¹…\n                onAction('dungeon_exited', {\n                  dungeon_id: currentDungeon.id,\n                  dungeon_name: currentDungeon.name,\n                  current_floor: currentDungeon.currentFloor,\n                  total_floors: currentDungeon.floors,\n                  character_level: character.level,\n                  exit_reason: 'manual',\n                  time_spent: new Date().getTime()\n                });\n                setInDungeon(false);\n                setCurrentDungeon(null);\n                setCurrentTab('lobby');\n                setGameMode('lobby');\n              }}\n              style={{\n                background: '#374151',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '10px 15px',\n                cursor: 'pointer'\n              }}\n            >\n              ë˜ì „ ë‚˜ê°€ê¸°\n            </button>\n          </div>\n        </div>\n\n        {/* ì¸µ ì§„í–‰ ìƒíƒœ í‘œì‹œ */}\n      {showDungeonChoice && (\n        <div style={{\n          background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\n          borderRadius: '15px',\n          padding: '20px',\n          marginBottom: '20px',\n          color: 'white',\n          textAlign: 'center'\n        }}>\n          <div style={{ fontSize: '18px', fontWeight: 'bold', marginBottom: '10px' }}>\n            ğŸƒ ë‹¤ìŒ ì¸µìœ¼ë¡œ ì´ë™ ì¤‘...\n          </div>\n          <div style={{\n            background: 'rgba(255, 255, 255, 0.2)',\n            borderRadius: '10px',\n            height: '8px',\n            overflow: 'hidden',\n            marginBottom: '10px'\n          }}>\n            <div style={{\n              background: 'linear-gradient(90deg, #10b981, #059669)',\n              height: '100%',\n              width: '100%',\n              borderRadius: '10px',\n              animation: 'progress 3s linear'\n            }} />\n          </div>\n          <div style={{ fontSize: '14px', opacity: 0.9 }}>\n            ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...\n          </div>\n        </div>\n      )}\n\n      {/* ì „íˆ¬ ì˜ì—­ - ê¸°ì¡´ renderCombatTabê³¼ ë™ì¼í•œ ì „íˆ¬ ì‹œìŠ¤í…œ */}\n        {currentMonster && (\n          <div style={{\n            background: '#374151',\n            borderRadius: '15px',\n            padding: '20px',\n            marginBottom: '20px'\n          }}>\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginBottom: '20px' }}>\n              {/* ìºë¦­í„° */}\n              <div style={{ textAlign: 'center' }}>\n                <div style={{\n                  width: '80px',\n                  height: '80px',\n                  background: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',\n                  borderRadius: '50%',\n                  margin: '0 auto 10px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '30px'\n                }}>\n                  âš”ï¸\n                </div>\n                <div style={{ color: 'white', marginBottom: '10px' }}>\n                  {character.name} Lv.{character.level}\n                </div>\n                <div style={{\n                  background: '#1f2937',\n                  borderRadius: '10px',\n                  padding: '5px',\n                  marginBottom: '5px'\n                }}>\n                  <div style={{\n                    background: 'linear-gradient(90deg, #ef4444 0%, #dc2626 100%)',\n                    height: '8px',\n                    borderRadius: '4px',\n                    width: `${(character.hp / character.maxHp) * 100}%`\n                  }} />\n                  <div style={{ color: 'white', fontSize: '12px', marginTop: '5px' }}>\n                    HP: {character.hp}/{character.maxHp}\n                  </div>\n                </div>\n              </div>\n\n              {/* ëª¬ìŠ¤í„° */}\n              <div style={{ textAlign: 'center' }}>\n                <div style={{\n                  width: '80px',\n                  height: '80px',\n                  background: 'linear-gradient(135deg, #dc2626 0%, #991b1b 100%)',\n                  borderRadius: '50%',\n                  margin: '0 auto 10px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '30px'\n                }}>\n                  ğŸ‘¹\n                </div>\n                <div style={{ color: 'white', marginBottom: '10px' }}>\n                  {currentMonster.name} Lv.{currentMonster.level}\n                  {currentMonster.isBoss && <span style={{ color: '#fbbf24' }}> ğŸ‘‘</span>}\n                </div>\n                <div style={{\n                  background: '#1f2937',\n                  borderRadius: '10px',\n                  padding: '5px',\n                  marginBottom: '5px'\n                }}>\n                  <div style={{\n                    background: 'linear-gradient(90deg, #ef4444 0%, #dc2626 100%)',\n                    height: '8px',\n                    borderRadius: '4px',\n                    width: `${(currentMonster.hp / currentMonster.maxHp) * 100}%`\n                  }} />\n                  <div style={{ color: 'white', fontSize: '12px', marginTop: '5px' }}>\n                    HP: {currentMonster.hp}/{currentMonster.maxHp}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* ì „íˆ¬ ë²„íŠ¼ë“¤ */}\n            <div style={{ display: 'flex', gap: '10px', justifyContent: 'center', marginBottom: '20px' }}>\n              <button\n                onClick={attack}\n                disabled={character.hp <= 0}\n                style={{\n                  background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '10px',\n                  padding: '12px 24px',\n                  fontSize: '16px',\n                  fontWeight: 'bold',\n                  cursor: character.hp > 0 ? 'pointer' : 'not-allowed',\n                  opacity: character.hp > 0 ? 1 : 0.5\n                }}\n              >\n                âš”ï¸ ê³µê²©\n              </button>\n              <button\n                onClick={() => setIsAutoFighting(!isAutoFighting)}\n                style={{\n                  background: isAutoFighting \n                    ? 'linear-gradient(135deg, #dc2626 0%, #991b1b 100%)'\n                    : 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '10px',\n                  padding: '12px 24px',\n                  fontSize: '16px',\n                  fontWeight: 'bold',\n                  cursor: 'pointer'\n                }}\n              >\n                {isAutoFighting ? 'â¸ï¸ ìë™ ì¤‘ì§€' : 'â–¶ï¸ ìë™ ì „íˆ¬'}\n              </button>\n            </div>\n\n            {/* ìŠ¤í‚¬ ë²„íŠ¼ë“¤ */}\n            {character.skills.filter(skill => skill.type === 'active').length > 0 && (\n              <div style={{ marginBottom: '20px' }}>\n                <h4 style={{ color: 'white', marginBottom: '10px', textAlign: 'center', fontSize: '16px' }}>\n                  âœ¨ ìŠ¤í‚¬ ì‚¬ìš© (MP: {character.mp}/{character.maxMp})\n                </h4>\n                <div style={{ display: 'flex', gap: '8px', justifyContent: 'center', flexWrap: 'wrap' }}>\n                  {character.skills\n                    .filter(skill => skill.type === 'active')\n                    .map(skill => (\n                      <button\n                        key={skill.id}\n                        onClick={() => castSkill(skill)}\n                        disabled={character.hp <= 0 || skill.currentCooldown > 0 || character.mp < skill.manaCost}\n                        style={{\n                          background: character.hp > 0 && skill.currentCooldown === 0 && character.mp >= skill.manaCost\n                            ? 'linear-gradient(135deg, #7c3aed 0%, #a855f7 100%)'\n                            : '#4b5563',\n                          color: 'white',\n                          border: 'none',\n                          borderRadius: '8px',\n                          padding: '10px 16px',\n                          fontSize: '14px',\n                          fontWeight: 'bold',\n                          cursor: character.hp > 0 && skill.currentCooldown === 0 && character.mp >= skill.manaCost ? 'pointer' : 'not-allowed',\n                          opacity: character.hp > 0 && skill.currentCooldown === 0 && character.mp >= skill.manaCost ? 1 : 0.6,\n                          position: 'relative'\n                        }}\n                        title={`${skill.description}\\nëŒ€ë¯¸ì§€: ${skill.damage + skill.level * 3} | ë§ˆë‚˜: ${skill.manaCost}`}\n                      >\n                        <div>{skill.name}</div>\n                        <div style={{ fontSize: '10px', opacity: 0.8 }}>\n                          MP: {skill.manaCost}\n                          {skill.currentCooldown > 0 && (\n                            <> | {(skill.currentCooldown/1000).toFixed(1)}s</>\n                          )}\n                        </div>\n                      </button>\n                    ))}\n                </div>\n              </div>\n            )}\n\n            {/* ë¬¼ì•½ ë²„íŠ¼ë“¤ */}\n            {inventory.filter(item => item.type === 'consumable').length > 0 && (\n              <div style={{ marginBottom: '20px' }}>\n                <h4 style={{ color: 'white', marginBottom: '10px', textAlign: 'center', fontSize: '16px' }}>\n                  ğŸ§ª ë¬¼ì•½ ì‚¬ìš©\n                </h4>\n                <div style={{ display: 'flex', gap: '8px', justifyContent: 'center', flexWrap: 'wrap' }}>\n                  {inventory\n                    .filter(item => item.type === 'consumable')\n                    .map(item => (\n                      <button\n                        key={item.id}\n                        onClick={() => consumeItem(item)}\n                        disabled={character.hp <= 0}\n                        style={{\n                          background: character.hp > 0\n                            ? `linear-gradient(135deg, ${getRarityColor(item.rarity)} 0%, #374151 100%)`\n                            : '#4b5563',\n                          color: 'white',\n                          border: 'none',\n                          borderRadius: '8px',\n                          padding: '8px 12px',\n                          fontSize: '12px',\n                          fontWeight: 'bold',\n                          cursor: character.hp > 0 ? 'pointer' : 'not-allowed',\n                          opacity: character.hp > 0 ? 1 : 0.6,\n                          position: 'relative'\n                        }}\n                        title={`${item.name}\\n${item.consumableEffect?.healHp ? `HP +${item.consumableEffect.healHp}` : ''}${item.consumableEffect?.healMp ? `MP +${item.consumableEffect.healMp}` : ''}${item.consumableEffect?.buffType ? `${item.consumableEffect.buffType} +${item.consumableEffect.buffAmount}` : ''}`}\n                      >\n                        <div>{item.name}</div>\n                        <div style={{ fontSize: '10px', opacity: 0.8 }}>\n                          {item.quantity && item.quantity > 1 ? `x${item.quantity}` : ''}\n                          {item.consumableEffect?.healHp && ` HP+${item.consumableEffect.healHp}`}\n                          {item.consumableEffect?.healMp && ` MP+${item.consumableEffect.healMp}`}\n                        </div>\n                      </button>\n                    ))}\n                </div>\n              </div>\n            )}\n\n            {/* ì „íˆ¬ ë¡œê·¸ */}\n            <div style={{\n              background: '#1f2937',\n              borderRadius: '10px',\n              padding: '15px',\n              height: '200px',\n              overflowY: 'auto',\n              fontSize: '14px'\n            }}>\n              <div style={{ color: '#9ca3af', marginBottom: '10px', fontWeight: 'bold' }}>\n                ì „íˆ¬ ë¡œê·¸:\n              </div>\n              {combatLog.slice(-10).map((log, index) => (\n                <div key={index} style={{ color: '#e5e7eb', marginBottom: '5px', lineHeight: '1.4' }}>\n                  {log}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // ìŠ¤í‚¬ íŠ¸ë¦¬ ë Œë”ë§\n  const renderSkillsTab = () => (\n    <div style={{ padding: '20px', background: '#1f2937', minHeight: '600px' }}>\n      {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n      {renderCharacterHeader()}\n\n      <div style={{\n        background: 'linear-gradient(135deg, #7c3aed 0%, #a855f7 100%)',\n        borderRadius: '15px',\n        padding: '20px',\n        marginBottom: '20px',\n        color: 'white',\n        textAlign: 'center'\n      }}>\n        <h2 style={{ margin: '0 0 10px 0', fontSize: '24px' }}>âœ¨ ìŠ¤í‚¬ íŠ¸ë¦¬</h2>\n        <p style={{ margin: 0, opacity: 0.9 }}>ìŠ¤í‚¬ì„ ìŠµë“í•˜ê³  ë ˆë²¨ì—…í•˜ì—¬ ë”ìš± ê°•í•´ì§€ì„¸ìš”!</p>\n      </div>\n\n      {/* ìŠ¤í‚¬ ëª©ë¡ */}\n      <div style={{ marginBottom: '20px' }}>\n        <h3 style={{ color: 'white', marginBottom: '15px', fontSize: '18px' }}>ë³´ìœ  ìŠ¤í‚¬</h3>\n        <div style={{ display: 'grid', gap: '15px' }}>\n          {character.skills.map(skill => (\n            <div\n              key={skill.id}\n              style={{\n                background: '#374151',\n                borderRadius: '10px',\n                padding: '20px',\n                border: '2px solid #6366f1'\n              }}\n            >\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                <div>\n                  <h4 style={{ color: 'white', margin: '0 0 5px 0', fontSize: '16px' }}>\n                    {skill.name} Lv.{skill.level}/{skill.maxLevel}\n                  </h4>\n                  <p style={{ color: '#9ca3af', margin: '0 0 10px 0', fontSize: '14px' }}>\n                    {skill.description}\n                  </p>\n                  <div style={{ fontSize: '12px', color: '#6b7280' }}>\n                    {skill.type === 'active' ? (\n                      <>ëŒ€ë¯¸ì§€: {skill.damage} | ë§ˆë‚˜: {skill.manaCost} | ì¿¨íƒ€ì„: {skill.cooldown/1000}ì´ˆ</>\n                    ) : (\n                      <>íŒ¨ì‹œë¸Œ ìŠ¤í‚¬</>\n                    )}\n                  </div>\n                  {skill.currentCooldown > 0 && (\n                    <div style={{ color: '#fbbf24', fontSize: '12px', marginTop: '5px' }}>\n                      ì¿¨íƒ€ì„: {(skill.currentCooldown/1000).toFixed(1)}ì´ˆ\n                    </div>\n                  )}\n                </div>\n                <div style={{ display: 'flex', gap: '10px' }}>\n                  {skill.level < skill.maxLevel && (\n                    <button\n                      onClick={() => {\n                        const cost = skill.level * 100;\n                        if (character.gold >= cost) {\n                          setCharacter(prev => ({\n                            ...prev,\n                            gold: prev.gold - cost,\n                            skills: prev.skills.map(s => \n                              s.id === skill.id ? {...s, level: s.level + 1} : s\n                            )\n                          }));\n\n                          // ì´ë²¤íŠ¸ ë¡œê¹…\n                          onAction('skill_upgraded', {\n                            skill_name: skill.name,\n                            old_level: skill.level,\n                            new_level: skill.level + 1,\n                            gold_cost: cost,\n                            character_level: character.level,\n                            character_gold_before: character.gold,\n                            character_gold_after: character.gold - cost\n                          });\n\n                          addToCombatLog(`${skill.name}ì„(ë¥¼) ë ˆë²¨ì—…í–ˆë‹¤! (Lv.${skill.level + 1})`);\n                        }\n                      }}\n                      disabled={character.gold < skill.level * 100}\n                      style={{\n                        background: character.gold >= skill.level * 100\n                          ? 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)'\n                          : '#4b5563',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '8px',\n                        padding: '8px 12px',\n                        fontSize: '12px',\n                        cursor: character.gold >= skill.level * 100 ? 'pointer' : 'not-allowed'\n                      }}\n                    >\n                      ì—…ê·¸ë ˆì´ë“œ ({skill.level * 100}G)\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderCombatTab = () => (\n    <div style={{ padding: '20px', background: '#1f2937', minHeight: '600px' }}>\n      {/* ìºë¦­í„° ì •ë³´ */}\n      <div style={{\n        background: 'linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)',\n        borderRadius: '15px',\n        padding: '20px',\n        marginBottom: '20px',\n        color: 'white'\n      }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\n          <div>\n            <h2 style={{ margin: '0 0 5px 0', fontSize: '24px' }}>{character.name}</h2>\n            <p style={{ margin: '0', opacity: 0.9 }}>Lv.{character.level} {character.class}</p>\n          </div>\n          <div style={{ textAlign: 'right' }}>\n            <div style={{ fontSize: '20px', fontWeight: 'bold' }}>ğŸ’° {character.gold.toLocaleString()}</div>\n          </div>\n        </div>\n\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '15px' }}>\n          <div>\n            <div style={{ marginBottom: '8px' }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '14px' }}>\n                <span>HP</span>\n                <span>{character.hp}/{character.maxHp}</span>\n              </div>\n              <div style={{\n                background: 'rgba(255,255,255,0.2)',\n                borderRadius: '10px',\n                height: '8px',\n                overflow: 'hidden'\n              }}>\n                <div style={{\n                  background: '#ef4444',\n                  height: '100%',\n                  width: `${(character.hp / character.maxHp) * 100}%`,\n                  transition: 'width 0.3s ease'\n                }} />\n              </div>\n            </div>\n            <div>\n              <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '14px' }}>\n                <span>MP</span>\n                <span>{character.mp}/{character.maxMp}</span>\n              </div>\n              <div style={{\n                background: 'rgba(255,255,255,0.2)',\n                borderRadius: '10px',\n                height: '8px',\n                overflow: 'hidden'\n              }}>\n                <div style={{\n                  background: '#3b82f6',\n                  height: '100%',\n                  width: `${(character.mp / character.maxMp) * 100}%`,\n                  transition: 'width 0.3s ease'\n                }} />\n              </div>\n            </div>\n          </div>\n          <div>\n            <div style={{ marginBottom: '8px' }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '14px' }}>\n                <span>EXP</span>\n                <span>{character.exp}/{character.maxExp}</span>\n              </div>\n              <div style={{\n                background: 'rgba(255,255,255,0.2)',\n                borderRadius: '10px',\n                height: '8px',\n                overflow: 'hidden'\n              }}>\n                <div style={{\n                  background: '#10b981',\n                  height: '100%',\n                  width: `${(character.exp / character.maxExp) * 100}%`,\n                  transition: 'width 0.3s ease'\n                }} />\n              </div>\n            </div>\n            <div style={{ display: 'flex', gap: '20px', fontSize: '14px' }}>\n              <span>âš”ï¸ {character.attack}</span>\n              <span>ğŸ›¡ï¸ {character.defense}</span>\n              <span>ğŸ’¨ {character.speed}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* ì „íˆ¬ ì˜ì—­ */}\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        gap: '20px',\n        marginBottom: '20px'\n      }}>\n        {/* ëª¬ìŠ¤í„° ì •ë³´ */}\n        <div style={{\n          background: '#374151',\n          borderRadius: '15px',\n          padding: '20px',\n          textAlign: 'center',\n          minHeight: '200px',\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center'\n        }}>\n          {currentMonster ? (\n            <>\n              <div style={{\n                fontSize: '48px',\n                marginBottom: '10px',\n                filter: currentMonster.isBoss ? 'drop-shadow(0 0 10px #fbbf24)' : 'none'\n              }}>\n                {currentMonster.isBoss ? 'ğŸ‘‘' : 'ğŸ‘¹'}\n              </div>\n              <h3 style={{ \n                color: currentMonster.isBoss ? '#fbbf24' : 'white', \n                margin: '0 0 10px 0' \n              }}>\n                {currentMonster.name} Lv.{currentMonster.level}\n              </h3>\n              <div style={{ color: '#9ca3af', marginBottom: '15px' }}>\n                HP: {currentMonster.hp}/{currentMonster.maxHp}\n              </div>\n              <div style={{\n                background: 'rgba(0,0,0,0.3)',\n                borderRadius: '10px',\n                height: '10px',\n                overflow: 'hidden'\n              }}>\n                <div style={{\n                  background: '#ef4444',\n                  height: '100%',\n                  width: `${(currentMonster.hp / currentMonster.maxHp) * 100}%`,\n                  transition: 'width 0.3s ease'\n                }} />\n              </div>\n            </>\n          ) : (\n            <div style={{ color: '#9ca3af' }}>ëª¬ìŠ¤í„°ë¥¼ ì°¾ëŠ” ì¤‘...</div>\n          )}\n        </div>\n\n        {/* ìŠ¤í‚¬ ë° ì•¡ì…˜ */}\n        <div style={{\n          background: '#374151',\n          borderRadius: '15px',\n          padding: '20px'\n        }}>\n          <h3 style={{ color: 'white', margin: '0 0 15px 0' }}>ì•¡ì…˜</h3>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\n            <button\n              onClick={attack}\n              disabled={!currentMonster || character.hp <= 0}\n              style={{\n                background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '10px',\n                padding: '12px',\n                fontSize: '16px',\n                fontWeight: 'bold',\n                cursor: character.hp > 0 ? 'pointer' : 'not-allowed',\n                opacity: character.hp > 0 ? 1 : 0.5\n              }}\n            >\n              âš”ï¸ ê³µê²©\n            </button>\n            \n            <button\n              onClick={() => setIsAutoFighting(!isAutoFighting)}\n              disabled={character.hp <= 0}\n              style={{\n                background: isAutoFighting \n                  ? 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)'\n                  : 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '10px',\n                padding: '12px',\n                fontSize: '16px',\n                fontWeight: 'bold',\n                cursor: character.hp > 0 ? 'pointer' : 'not-allowed',\n                opacity: character.hp > 0 ? 1 : 0.5\n              }}\n            >\n              {isAutoFighting ? 'â¹ï¸ ìë™ ì¤‘ì§€' : 'â–¶ï¸ ìë™ ì „íˆ¬'}\n            </button>\n\n            <div style={{ marginTop: '10px' }}>\n              <h4 style={{ color: 'white', margin: '0 0 10px 0', fontSize: '14px' }}>ìŠ¤í‚¬</h4>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '5px' }}>\n                {character.skills.map(skill => (\n                  <button\n                    key={skill.id}\n                    onClick={() => {\n                      if (character.mp < skill.manaCost || skill.currentCooldown > 0) return;\n\n                      setCharacter(prev => ({ ...prev, mp: prev.mp - skill.manaCost }));\n\n                      if (skill.id === 'heal') {\n                        const healAmount = Math.floor(character.maxHp * 0.3);\n                        setCharacter(prev => ({ \n                          ...prev, \n                          hp: Math.min(prev.maxHp, prev.hp + healAmount) \n                        }));\n                        addToCombatLog(`ì¹˜ìœ  ìŠ¤í‚¬ ì‚¬ìš©! HP +${healAmount}`);\n                      } else {\n                        // ê³µê²© ìŠ¤í‚¬\n                        if (currentMonster) {\n                          const damage = skill.damage + Math.floor(character.attack * 0.5);\n                          const newMonsterHp = Math.max(0, currentMonster.hp - damage);\n                          setCurrentMonster(prev => prev ? { ...prev, hp: newMonsterHp } : null);\n                          addToCombatLog(`${skill.name} ì‚¬ìš©! ${damage} ë°ë¯¸ì§€!`);\n\n                          if (newMonsterHp <= 0) {\n                            defeatMonster();\n                          }\n                        }\n                      }\n\n                      // ì¿¨ë‹¤ìš´ ì„¤ì •\n                      setCharacter(prev => ({\n                        ...prev,\n                        skills: prev.skills.map(s => \n                          s.id === skill.id ? { ...s, currentCooldown: skill.cooldown } : s\n                        )\n                      }));\n                    }}\n                    disabled={character.mp < skill.manaCost || skill.currentCooldown > 0}\n                    style={{\n                      background: skill.currentCooldown > 0 || character.mp < skill.manaCost \n                        ? '#6b7280' \n                        : 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '8px',\n                      padding: '8px 12px',\n                      fontSize: '14px',\n                      cursor: (character.mp >= skill.manaCost && skill.currentCooldown === 0) ? 'pointer' : 'not-allowed',\n                      opacity: (character.mp >= skill.manaCost && skill.currentCooldown === 0) ? 1 : 0.6\n                    }}\n                  >\n                    {skill.name} (MP: {skill.manaCost})\n                    {skill.currentCooldown > 0 && ` (${Math.ceil(skill.currentCooldown / 1000)}s)`}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* ì „íˆ¬ ë¡œê·¸ */}\n      <div style={{\n        background: '#374151',\n        borderRadius: '15px',\n        padding: '20px'\n      }}>\n        <h3 style={{ color: 'white', margin: '0 0 15px 0' }}>ì „íˆ¬ ë¡œê·¸</h3>\n        <div\n          ref={logRef}\n          style={{\n            height: '150px',\n            overflowY: 'auto',\n            background: '#1f2937',\n            borderRadius: '10px',\n            padding: '15px',\n            fontFamily: 'monospace',\n            fontSize: '14px'\n          }}\n        >\n          {combatLog.map((log, index) => (\n            <div\n              key={index}\n              style={{\n                color: log.includes('ë ˆë²¨ì—…') ? '#10b981' :\n                       log.includes('ì¹˜ëª…íƒ€') ? '#ef4444' :\n                       log.includes('íšë“') ? '#fbbf24' : '#d1d5db',\n                marginBottom: '2px',\n                lineHeight: '1.4'\n              }}\n            >\n              {log}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderCharacterTab = () => (\n    <div style={{ padding: '20px', background: '#1f2937', minHeight: '600px' }}>\n      {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n      {renderCharacterHeader()}\n\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: 'repeat(2, 1fr)',\n        gap: '20px'\n      }}>\n        {/* ìŠ¤íƒ¯ */}\n        <div style={{\n          background: '#374151',\n          borderRadius: '15px',\n          padding: '20px'\n        }}>\n          <h3 style={{ color: 'white', margin: '0 0 15px 0' }}>ìŠ¤íƒ¯</h3>\n          <div style={{ color: 'white', marginBottom: '15px' }}>\n            ì‚¬ìš© ê°€ëŠ¥í•œ í¬ì¸íŠ¸: <span style={{ color: '#fbbf24', fontWeight: 'bold' }}>{character.stats.availablePoints}</span>\n          </div>\n          \n          <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\n            {Object.entries(character.stats).map(([key, value]) => {\n              if (key === 'availablePoints') return null;\n              \n              const statNames = {\n                strength: 'í˜',\n                agility: 'ë¯¼ì²©',\n                intelligence: 'ì§€ëŠ¥',\n                vitality: 'ì²´ë ¥',\n                luck: 'ìš´'\n              };\n              \n              return (\n                <div key={key} style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  background: '#1f2937',\n                  padding: '10px 15px',\n                  borderRadius: '10px'\n                }}>\n                  <span style={{ color: '#ffffff', fontWeight: '500' }}>\n                    {statNames[key as keyof typeof statNames]}: <span style={{ color: '#fbbf24' }}>{value}</span>\n                  </span>\n                  <button\n                    onClick={() => allocateStat(key as keyof CharacterStats)}\n                    disabled={character.stats.availablePoints <= 0}\n                    style={{\n                      background: character.stats.availablePoints > 0 ? '#10b981' : '#6b7280',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '5px',\n                      padding: '5px 10px',\n                      cursor: character.stats.availablePoints > 0 ? 'pointer' : 'not-allowed'\n                    }}\n                  >\n                    +\n                  </button>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* ì¥ë¹„ */}\n        <div style={{\n          background: '#374151',\n          borderRadius: '15px',\n          padding: '20px'\n        }}>\n          <h3 style={{ color: 'white', margin: '0 0 15px 0' }}>ì¥ë¹„</h3>\n          \n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(3, 1fr)',\n            gap: '10px'\n          }}>\n            {['weapon', 'helmet', 'armor', 'boots', 'ring', 'amulet'].map(slot => {\n              const item = character.equipment[slot as keyof Equipment];\n              const slotNames = {\n                weapon: 'ë¬´ê¸°',\n                helmet: 'íˆ¬êµ¬',\n                armor: 'ê°‘ì˜·',\n                boots: 'ì‹ ë°œ',\n                ring: 'ë°˜ì§€',\n                amulet: 'ëª©ê±¸ì´'\n              };\n\n              return (\n                <div\n                  key={slot}\n                  style={{\n                    background: item ? getRarityColor(item.rarity) : '#1f2937',\n                    borderRadius: '10px',\n                    padding: '15px',\n                    textAlign: 'center',\n                    minHeight: '80px',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    justifyContent: 'center',\n                    border: `2px solid ${item ? getRarityColor(item.rarity) : '#4b5563'}`\n                  }}\n                >\n                  <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '5px' }}>\n                    {slotNames[slot as keyof typeof slotNames]}\n                  </div>\n                  {item ? (\n                    <>\n                      <div style={{ color: 'white', fontSize: '14px', fontWeight: 'bold' }}>\n                        {item.name}\n                      </div>\n                      {item.enhancement > 0 && (\n                        <div style={{ color: '#fbbf24', fontSize: '12px' }}>\n                          +{item.enhancement}\n                        </div>\n                      )}\n                    </>\n                  ) : (\n                    <div style={{ color: '#6b7280', fontSize: '12px' }}>ë¹ˆ ìŠ¬ë¡¯</div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderInventoryTab = () => (\n    <div style={{ padding: '20px', background: '#1f2937', minHeight: '600px' }}>\n      {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n      {renderCharacterHeader()}\n\n      <div style={{\n        background: '#374151',\n        borderRadius: '15px',\n        padding: '20px'\n      }}>\n        <h3 style={{ color: 'white', margin: '0 0 15px 0' }}>ì¸ë²¤í† ë¦¬ ({inventory.length}ê°œ)</h3>\n        \n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n          gap: '15px'\n        }}>\n          {inventory.map(item => (\n            <div\n              key={item.id}\n              style={{\n                background: '#1f2937',\n                border: `2px solid ${getRarityColor(item.rarity)}`,\n                borderRadius: '10px',\n                padding: '15px'\n              }}\n            >\n              <div style={{\n                color: getRarityColor(item.rarity),\n                fontWeight: 'bold',\n                marginBottom: '5px'\n              }}>\n                {item.name}\n              </div>\n              \n              <div style={{ color: '#9ca3af', fontSize: '14px', marginBottom: '10px' }}>\n                {item.type} â€¢ Lv.{item.level}\n              </div>\n\n              <div style={{ color: '#d1d5db', fontSize: '12px', marginBottom: '10px' }}>\n                {Object.entries(item.stats).map(([key, value]) => \n                  value > 0 && (\n                    <div key={key}>\n                      {key === 'attack' ? 'âš”ï¸' :\n                       key === 'defense' ? 'ğŸ›¡ï¸' :\n                       key === 'hp' ? 'â¤ï¸' :\n                       key === 'mp' ? 'ğŸ’™' :\n                       key === 'speed' ? 'ğŸ’¨' :\n                       key === 'critRate' ? 'ğŸ’¥' : 'â­'} +{value}\n                    </div>\n                  )\n                )}\n              </div>\n\n              <div style={{ display: 'flex', gap: '5px' }}>\n                <button\n                  onClick={() => equipItem(item)}\n                  style={{\n                    background: '#10b981',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '5px',\n                    padding: '8px 12px',\n                    fontSize: '12px',\n                    cursor: 'pointer',\n                    flex: 1\n                  }}\n                >\n                  ì¥ì°©\n                </button>\n                <button\n                  onClick={() => sellItem(item)}\n                  style={{\n                    background: '#ef4444',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '5px',\n                    padding: '8px 12px',\n                    fontSize: '12px',\n                    cursor: 'pointer',\n                    flex: 1\n                  }}\n                >\n                  íŒë§¤ ({Math.floor(item.price * 0.7)}G)\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderShopTab = () => (\n    <div style={{ padding: '20px', background: '#1f2937', minHeight: '600px' }}>\n      {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n      {renderCharacterHeader()}\n\n      <div style={{\n        background: '#374151',\n        borderRadius: '15px',\n        padding: '20px'\n      }}>\n        <h3 style={{ color: 'white', margin: '0 0 15px 0' }}>ìƒì </h3>\n        \n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))',\n          gap: '15px'\n        }}>\n          {shop.map(item => (\n            <div\n              key={item.id}\n              style={{\n                background: '#1f2937',\n                border: `2px solid ${getRarityColor(item.rarity)}`,\n                borderRadius: '10px',\n                padding: '15px'\n              }}\n            >\n              <div style={{\n                color: getRarityColor(item.rarity),\n                fontWeight: 'bold',\n                marginBottom: '5px'\n              }}>\n                {item.name}\n              </div>\n              \n              <div style={{ color: '#9ca3af', fontSize: '14px', marginBottom: '10px' }}>\n                {item.type} â€¢ Lv.{item.level} â€¢ {item.rarity}\n              </div>\n\n              <div style={{ color: '#d1d5db', fontSize: '12px', marginBottom: '15px' }}>\n                {Object.entries(item.stats).map(([key, value]) => \n                  value > 0 && (\n                    <div key={key}>\n                      {key === 'attack' ? 'âš”ï¸' :\n                       key === 'defense' ? 'ğŸ›¡ï¸' :\n                       key === 'hp' ? 'â¤ï¸' :\n                       key === 'mp' ? 'ğŸ’™' :\n                       key === 'speed' ? 'ğŸ’¨' :\n                       key === 'critRate' ? 'ğŸ’¥' : 'â­'} +{value}\n                    </div>\n                  )\n                )}\n              </div>\n\n              <div style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              }}>\n                <div style={{ color: '#fbbf24', fontWeight: 'bold' }}>\n                  ğŸ’° {item.price.toLocaleString()}G\n                </div>\n                <button\n                  onClick={() => buyItem(item)}\n                  disabled={character.gold < item.price}\n                  style={{\n                    background: character.gold >= item.price ? '#10b981' : '#6b7280',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '5px',\n                    padding: '8px 16px',\n                    fontSize: '12px',\n                    cursor: character.gold >= item.price ? 'pointer' : 'not-allowed',\n                    opacity: character.gold >= item.price ? 1 : 0.6\n                  }}\n                >\n                  êµ¬ë§¤\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderTabs = () => (\n    <div style={{\n      background: '#374151',\n      display: 'flex',\n      borderRadius: '15px 15px 0 0',\n      overflow: 'hidden'\n    }}>\n      {[\n        { id: 'lobby', name: t('rpg.tabs.lobby'), icon: 'ğŸ ' },\n        { id: 'character', name: t('rpg.tabs.character'), icon: 'ğŸ‘¤' },\n        { id: 'inventory', name: t('rpg.tabs.inventory'), icon: 'ğŸ’' },\n        { id: 'skills', name: t('rpg.tabs.skills'), icon: 'âœ¨' },\n        { id: 'dungeon', name: t('rpg.tabs.dungeon'), icon: 'ğŸ°' },\n        { id: 'shop', name: t('rpg.tabs.shop'), icon: 'ğŸ›’' }\n      ].map(tab => (\n        <button\n          key={tab.id}\n          onClick={() => setCurrentTab(tab.id as any)}\n          style={{\n            background: currentTab === tab.id \n              ? colors.accent\n              : 'transparent',\n            color: colors.text,\n            border: 'none',\n            padding: '15px 20px',\n            fontSize: '14px',\n            cursor: 'pointer',\n            flex: 1,\n            transition: 'all 0.3s ease'\n          }}\n        >\n          <div>{tab.icon}</div>\n          <div style={{ fontSize: '12px', marginTop: '5px' }}>{tab.name}</div>\n        </button>\n      ))}\n    </div>\n  );\n\n  return (\n    <div style={{\n      width: '100%',\n      maxWidth: '1200px',\n      margin: '0 auto',\n      background: colors.cardBg,\n      borderRadius: '20px',\n      overflow: 'hidden',\n      boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n      border: `1px solid ${colors.cardBorder}`\n    }}>\n      {/* ê²Œì„ íƒ€ì´í‹€ */}\n      <div style={{\n        background: colors.backgroundSecondary,\n        padding: '20px',\n        textAlign: 'center',\n        position: 'relative',\n        overflow: 'hidden'\n      }}>\n        <div style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'radial-gradient(circle at 50% 50%, rgba(147, 51, 234, 0.3) 0%, transparent 70%)'\n        }} />\n        <h1 style={{\n          margin: 0,\n          fontSize: '32px',\n          fontWeight: 'bold',\n          color: colors.text,\n          textShadow: '0 4px 20px rgba(147, 51, 234, 0.5)',\n          position: 'relative',\n          zIndex: 1\n        }}>\n          {t('rpg.title')}\n        </h1>\n        <p style={{\n          margin: '10px 0 0 0',\n          color: colors.textSecondary,\n          fontSize: '16px',\n          position: 'relative',\n          zIndex: 1\n        }}>\n          {t('rpg.subtitle')}\n        </p>\n      </div>\n\n      {/* íƒ­ ë©”ë‰´ */}\n      {renderTabs()}\n\n      {/* í˜„ì¬ íƒ­ ì»¨í…ì¸  */}\n      {currentTab === 'lobby' && renderLobbyTab()}\n      {currentTab === 'dungeon' && renderDungeonTab()}\n      {currentTab === 'character' && renderCharacterTab()}\n      {currentTab === 'inventory' && renderInventoryTab()}\n      {currentTab === 'skills' && renderSkillsTab()}\n      {currentTab === 'shop' && renderShopTab()}\n\n      {/* ë˜ì „ ì§„í–‰ ì„ íƒ ë‹¤ì´ì–¼ë¡œê·¸ */}\n      {showDungeonChoice && inDungeon && currentDungeon && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          backdropFilter: 'blur(10px)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n          padding: '20px'\n        }}>\n          <div style={{\n            background: colors.cardBg,\n            border: `1px solid ${colors.cardBorder}`,\n            padding: '32px',\n            borderRadius: '20px',\n            maxWidth: '500px',\n            width: '100%',\n            textAlign: 'center',\n            boxShadow: '0 20px 50px rgba(0, 0, 0, 0.4)',\n            position: 'relative',\n            overflow: 'hidden'\n          }}>\n            {/* ë°°ê²½ ì¥ì‹ */}\n            <div style={{\n              position: 'absolute',\n              top: '-30%',\n              left: '-20%',\n              width: '140px',\n              height: '140px',\n              background: 'linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(59, 130, 246, 0.2))',\n              borderRadius: '50%',\n              filter: 'blur(30px)'\n            }} />\n            \n            <div style={{\n              position: 'relative',\n              zIndex: 1\n            }}>\n              <div style={{\n                width: '64px',\n                height: '64px',\n                background: 'linear-gradient(135deg, #10b981, #059669)',\n                borderRadius: '20px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                margin: '0 auto 20px',\n                boxShadow: '0 8px 25px rgba(16, 185, 129, 0.4)'\n              }}>\n                <span style={{ fontSize: '28px' }}>ğŸ‰</span>\n              </div>\n              \n              <h3 style={{\n                fontSize: '24px',\n                fontWeight: '700',\n                margin: '0 0 12px 0',\n                color: colors.text\n              }}>\n                ëª¬ìŠ¤í„° ì²˜ì¹˜ ì™„ë£Œ!\n              </h3>\n              \n              <p style={{\n                fontSize: '16px',\n                color: colors.textSecondary,\n                margin: '0 0 24px 0',\n                lineHeight: '1.5'\n              }}>\n                {currentDungeon.currentFloor < currentDungeon.floors \n                  ? `${currentDungeon.currentFloor + 1}ì¸µìœ¼ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`\n                  : 'ë˜ì „ í´ë¦¬ì–´ ì™„ë£Œ!'\n                }\n              </p>\n              \n              <div style={{\n                display: 'flex',\n                gap: '16px',\n                justifyContent: 'center'\n              }}>\n                <button\n                  onClick={exitDungeonAfterVictory}\n                  style={{\n                    padding: '12px 20px',\n                    border: `1px solid ${colors.cardBorder}`,\n                    borderRadius: '12px',\n                    background: 'rgba(255, 255, 255, 0.1)',\n                    color: colors.text,\n                    fontSize: '14px',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s ease',\n                    backdropFilter: 'blur(10px)'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.15)';\n                    e.currentTarget.style.transform = 'translateY(-2px)';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.background = 'rgba(255, 255, 255, 0.1)';\n                    e.currentTarget.style.transform = 'translateY(0)';\n                  }}\n                >\n                  ë˜ì „ ë‚˜ê°€ê¸°\n                </button>\n                \n                {currentDungeon.currentFloor < currentDungeon.floors && (\n                  <button\n                    onClick={proceedToNextFloor}\n                    style={{\n                      padding: '12px 20px',\n                      border: 'none',\n                      borderRadius: '12px',\n                      background: 'linear-gradient(135deg, #8b5cf6, #3b82f6)',\n                      color: 'white',\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      cursor: 'pointer',\n                      transition: 'all 0.3s ease',\n                      boxShadow: '0 4px 16px rgba(139, 92, 246, 0.3)'\n                    }}\n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.transform = 'translateY(-2px)';\n                      e.currentTarget.style.boxShadow = '0 8px 24px rgba(139, 92, 246, 0.4)';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.transform = 'translateY(0)';\n                      e.currentTarget.style.boxShadow = '0 4px 16px rgba(139, 92, 246, 0.3)';\n                    }}\n                  >\n                    ë‹¤ìŒ ì¸µìœ¼ë¡œ ì§„í–‰\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}