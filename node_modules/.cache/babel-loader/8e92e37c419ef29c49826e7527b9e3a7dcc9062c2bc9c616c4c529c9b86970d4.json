{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import{useTheme}from\"../contexts/ThemeContext\";import{useLanguage}from\"../contexts/LanguageContext\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";export const AdvancedIdleRPG=_ref=>{let{onAction,isSimulating,currentAction,userStats,setUserStats,currentUser}=_ref;const{colors}=useTheme();const{t}=useLanguage();// ìŠ¤í‚¬ ë°ë¯¸ì§€ ê³„ì‚° í•¨ìˆ˜\nconst calculateSkillDamage=(skill,character)=>{if(skill.level===0||!skill.isLearned)return 0;let damage=skill.baseDamage;// ë ˆë²¨ì— ë”°ë¥¸ ë°ë¯¸ì§€ ì¦ê°€\ndamage+=skill.baseDamage*skill.damageMultiplier*(skill.level-1);// ìŠ¤íƒ¯ì— ë”°ë¥¸ ë°ë¯¸ì§€ ì¦ê°€\nif(skill.statMultiplier.attack){damage+=character.attack*skill.statMultiplier.attack*skill.level;}if(skill.statMultiplier.defense){damage+=character.defense*skill.statMultiplier.defense*skill.level;}if(skill.statMultiplier.hp){damage+=character.maxHp*skill.statMultiplier.hp*skill.level;}if(skill.statMultiplier.mp){damage+=character.maxMp*skill.statMultiplier.mp*skill.level;}return Math.floor(damage);};// CSS ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€\nReact.useEffect(()=>{const style=document.createElement(\"style\");style.textContent=`\n      @keyframes progress {\n        0% {\n          width: 0%;\n        }\n        100% {\n          width: 100%;\n        }\n      }\n      @keyframes pulse {\n        0%, 100% {\n          opacity: 1;\n        }\n        50% {\n          opacity: 0.7;\n        }\n      }\n    `;document.head.appendChild(style);return()=>{document.head.removeChild(style);};},[]);const[character,setCharacter]=useState({id:\"1\",name:\"ìš©ì‚¬\",level:1,exp:0,maxExp:100,hp:100,maxHp:100,mp:50,maxMp:50,attack:20,defense:10,speed:15,gold:100,class:t(\"rpg.class.warrior\"),skills:[// ê¸°ë³¸ ìŠ¤í‚¬ë“¤ì„ ë¯¸ë¦¬ ì •ì˜í•˜ì—¬ ì´ˆê¸°í™” ë¬¸ì œ ë°©ì§€\n{id:\"basic-attack\",name:\"ê¸°ë³¸ ê³µê²©\",level:1,maxLevel:10,baseDamage:15,damageMultiplier:0.2,statMultiplier:{attack:1.0},manaCost:0,cooldown:1000,currentCooldown:0,type:\"active\",category:\"combat\",description:\"ê¸°ë³¸ì ì¸ ë¬¼ë¦¬ ê³µê²©ì…ë‹ˆë‹¤.\",requiredLevel:1,isUnlocked:true,isLearned:true},{id:\"power-strike\",name:\"ê°•ë ¥í•œ ë² ê¸°\",level:0,maxLevel:10,baseDamage:25,damageMultiplier:0.3,statMultiplier:{attack:1.5},manaCost:15,cooldown:3000,currentCooldown:0,type:\"active\",category:\"combat\",description:\"ê°•ë ¥í•œ ì¼ê²©ì„ ê°€í•©ë‹ˆë‹¤.\",requiredLevel:3,isUnlocked:true,isLearned:false},{id:\"heal\",name:\"ì¹˜ìœ \",level:0,maxLevel:10,baseDamage:30,damageMultiplier:0.25,statMultiplier:{mp:0.5},manaCost:20,cooldown:5000,currentCooldown:0,type:\"active\",category:\"support\",description:\"HPë¥¼ íšŒë³µí•©ë‹ˆë‹¤.\",requiredLevel:2,isUnlocked:true,isLearned:false},{id:\"strength-boost\",name:t(\"rpg.skills.strengthBoost.name\"),level:0,maxLevel:5,baseDamage:0,damageMultiplier:0,statMultiplier:{attack:0.1},manaCost:0,cooldown:0,currentCooldown:0,type:\"passive\",category:\"passive\",description:t(\"rpg.skills.strengthBoost.description\"),requiredLevel:5,isUnlocked:true,isLearned:false}],equipment:{},stats:{strength:10,agility:8,intelligence:5,vitality:12,luck:7,availablePoints:0},prestige:0,rebirth:0,buffs:{attack:{amount:0,duration:0},defense:{amount:0,duration:0},speed:{amount:0,duration:0}}});const[currentTab,setCurrentTab]=useState(\"lobby\");const[gameMode,setGameMode]=useState(\"lobby\");const[isAutoFighting,setIsAutoFighting]=useState(false);const[currentMonster,setCurrentMonster]=useState(null);const[combatLog,setCombatLog]=useState([]);const[selectedDungeon,setSelectedDungeon]=useState(null);const[inventory,setInventory]=useState([]);const[availableDungeons,setAvailableDungeons]=useState([]);const[currentDungeon,setCurrentDungeon]=useState(null);const[inDungeon,setInDungeon]=useState(false);const[guild,setGuild]=useState(null);const[shop,setShop]=useState([]);const[achievements,setAchievements]=useState([]);const[monstersDefeated,setMonstersDefeated]=useState(0);const[totalGoldEarned,setTotalGoldEarned]=useState(0);const[showDungeonChoice,setShowDungeonChoice]=useState(false);const logRef=useRef(null);// ê²Œì„ ì´ˆê¸°í™” - ì–¸ì–´ ë³€ê²½ ì‹œì—ë„ ë‹¤ì‹œ ì´ˆê¸°í™”\nuseEffect(()=>{initializeGame();},[t]);// ìºë¦­í„° ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ userStats ì—…ë°ì´íŠ¸\nuseEffect(()=>{setUserStats({level:character.level,gold:character.gold,attack:character.attack,defense:character.defense,hp:character.hp,maxHp:character.maxHp,exp:character.exp,maxExp:character.maxExp,monsters_defeated:monstersDefeated,character_class:character.class,total_gold_earned:totalGoldEarned,inventory_items:inventory.map(item=>({id:item.id,name:item.name,type:item.type,rarity:item.rarity,quantity:item.quantity||1,stats:item.stats})),skills:character.skills.map(skill=>({id:skill.id,name:skill.name,level:skill.level,type:skill.type})),current_buffs:Object.entries(character.buffs).filter(_ref2=>{let[_,buff]=_ref2;return buff.duration>0;}).map(_ref3=>{let[type,buff]=_ref3;return{type,amount:buff.amount,duration:Math.ceil(buff.duration/1000)};})});},[character,inventory,monstersDefeated,totalGoldEarned,setUserStats]);const initializeGame=()=>{// LanguageContextì—ì„œ ë²ˆì—­ í•¨ìˆ˜ ì‚¬ìš©\nconst texts={character:{name:t(\"rpg.character.name\"),class:t(\"rpg.character.class\")},dungeon:{forest:{name:t(\"rpg.dungeon.forest.name\"),description:t(\"rpg.dungeon.forest.description\")},cave:{name:t(\"rpg.dungeon.cave.name\"),description:t(\"rpg.dungeon.cave.description\")},tower:{name:t(\"rpg.dungeon.tower.name\"),description:t(\"rpg.dungeon.tower.description\")}},monsters:{slime:t(\"rpg.monsters.slime\"),goblin:t(\"rpg.monsters.goblin\"),orc:t(\"rpg.monsters.orc\"),troll:t(\"rpg.monsters.troll\"),dragon:t(\"rpg.monsters.dragon\")},combat:{appeared:t(\"rpg.combat.appeared\"),attack:t(\"rpg.combat.attack\"),damage:t(\"rpg.combat.damage\"),critical:t(\"rpg.combat.critical\"),levelUp:t(\"rpg.combat.levelUp\"),defeated:t(\"rpg.combat.defeated\"),gold:t(\"rpg.combat.gold\"),itemObtained:t(\"rpg.combat.itemObtained\"),dungeonCleared:t(\"rpg.combat.dungeonCleared\"),nextFloor:t(\"rpg.combat.nextFloor\")}};// ëª¨ë“  ìŠ¤í‚¬ ì •ì˜ í•¨ìˆ˜ (ê³µí†µ ì‚¬ìš©)\nconst getAllSkills=(currentLevel,existingSkills)=>{var _existingSkills$find;const allSkills=[// ì „íˆ¬ ìŠ¤í‚¬ (ë ˆë²¨ 1)\n{id:\"slash\",name:t(\"rpg.skills.slash.name\"),level:(existingSkills===null||existingSkills===void 0?void 0:(_existingSkills$find=existingSkills.find(s=>s.id===\"slash\"))===null||_existingSkills$find===void 0?void 0:_existingSkills$find.level)||0,maxLevel:10,baseDamage:20,damageMultiplier:0.5,statMultiplier:{attack:2.0},manaCost:10,cooldown:3000,currentCooldown:0,type:\"active\",category:\"combat\",description:t(\"rpg.skills.slash.description\"),requiredLevel:1,isUnlocked:currentLevel>=1,isLearned:false},{id:\"heal\",name:t(\"rpg.skills.heal.name\"),level:0,maxLevel:10,baseDamage:30,damageMultiplier:0.3,statMultiplier:{mp:1.5},manaCost:15,cooldown:5000,currentCooldown:0,type:\"active\",category:\"support\",description:t(\"rpg.skills.heal.description\"),requiredLevel:1,isUnlocked:currentLevel>=1,isLearned:false},{id:\"critical\",name:t(\"rpg.skills.critical.name\"),level:0,maxLevel:10,baseDamage:0,damageMultiplier:0,statMultiplier:{},manaCost:0,cooldown:0,currentCooldown:0,type:\"passive\",category:\"passive\",description:t(\"rpg.skills.critical.description\"),requiredLevel:1,isUnlocked:currentLevel>=1,isLearned:false},// ë ˆë²¨ 5 ìŠ¤í‚¬\n{id:\"double_strike\",name:\"ì´ì¤‘ ê³µê²©\",level:0,maxLevel:10,baseDamage:25,damageMultiplier:0.4,statMultiplier:{attack:1.5},manaCost:20,cooldown:4000,currentCooldown:0,type:\"active\",category:\"combat\",description:\"ì—°ì†ìœ¼ë¡œ ë‘ ë²ˆ ê³µê²©í•©ë‹ˆë‹¤. (ê¸°ë³¸ ë°ë¯¸ì§€ x 2 + ê³µê²©ë ¥ x 1.5)\",requiredLevel:5,isUnlocked:currentLevel>=5,isLearned:false},{id:\"mana_shield\",name:\"ë§ˆë‚˜ ë°©íŒ¨\",level:0,maxLevel:10,baseDamage:20,damageMultiplier:0.2,statMultiplier:{mp:1.0,defense:0.5},manaCost:25,cooldown:8000,currentCooldown:0,type:\"active\",category:\"magic\",description:\"ë§ˆë‚˜ë¡œ í”¼í•´ë¥¼ í¡ìˆ˜í•©ë‹ˆë‹¤. (ë°©ì–´ë ¥ + ë§ˆë‚˜ x 1.0)\",requiredLevel:5,isUnlocked:currentLevel>=5,isLearned:false},{id:\"defense_mastery\",name:\"ë°©ì–´ ìˆ™ë ¨\",level:0,maxLevel:10,baseDamage:0,damageMultiplier:0,statMultiplier:{},manaCost:0,cooldown:0,currentCooldown:0,type:\"passive\",category:\"passive\",description:\"ë°©ì–´ë ¥ì„ ì˜êµ¬íˆ ì¦ê°€ì‹œí‚µë‹ˆë‹¤. (ë ˆë²¨ë‹¹ +3 ë°©ì–´ë ¥)\",requiredLevel:5,isUnlocked:currentLevel>=5,isLearned:false},// ë ˆë²¨ 10 ìŠ¤í‚¬\n{id:\"whirlwind\",name:\"íšŒì˜¤ë¦¬ ê³µê²©\",level:0,maxLevel:10,baseDamage:40,damageMultiplier:0.6,statMultiplier:{attack:1.8},manaCost:35,cooldown:6000,currentCooldown:0,type:\"active\",category:\"combat\",description:\"ì£¼ë³€ì˜ ëª¨ë“  ì ì„ ê³µê²©í•©ë‹ˆë‹¤. (ê¸°ë³¸ ë°ë¯¸ì§€ + ê³µê²©ë ¥ x 1.8)\",requiredLevel:10,isUnlocked:currentLevel>=10,isLearned:false},{id:\"regeneration\",name:\"ì¬ìƒ\",level:0,maxLevel:10,baseDamage:50,damageMultiplier:0.4,statMultiplier:{hp:0.1,mp:2.0},manaCost:40,cooldown:12000,currentCooldown:0,type:\"active\",category:\"support\",description:\"ì§€ì†ì ìœ¼ë¡œ HPë¥¼ íšŒë³µí•©ë‹ˆë‹¤. (ê¸°ë³¸ íšŒë³µëŸ‰ + ìµœëŒ€ì²´ë ¥ x 0.1 + ë§ˆë‚˜ x 2.0)\",requiredLevel:10,isUnlocked:currentLevel>=10,isLearned:false},{id:\"mp_efficiency\",name:\"ë§ˆë‚˜ íš¨ìœ¨\",level:0,maxLevel:10,baseDamage:0,damageMultiplier:0,statMultiplier:{},manaCost:0,cooldown:0,currentCooldown:0,type:\"passive\",category:\"passive\",description:\"ëª¨ë“  ìŠ¤í‚¬ì˜ ë§ˆë‚˜ ì†Œëª¨ëŸ‰ì„ ê°ì†Œì‹œí‚µë‹ˆë‹¤. (ë ˆë²¨ë‹¹ -5%)\",requiredLevel:10,isUnlocked:currentLevel>=10,isLearned:false},// ë ˆë²¨ 15 ìŠ¤í‚¬\n{id:\"meteor\",name:\"ë©”í…Œì˜¤\",level:0,maxLevel:10,baseDamage:80,damageMultiplier:1.0,statMultiplier:{mp:3.0,attack:1.0},manaCost:60,cooldown:10000,currentCooldown:0,type:\"active\",category:\"magic\",description:\"ê°•ë ¥í•œ ë§ˆë²• ê³µê²©ì„ ê°€í•©ë‹ˆë‹¤. (ê¸°ë³¸ ë°ë¯¸ì§€ + ë§ˆë‚˜ x 3.0 + ê³µê²©ë ¥ x 1.0)\",requiredLevel:15,isUnlocked:currentLevel>=15,isLearned:false},{id:\"time_stop\",name:\"ì‹œê°„ ì •ì§€\",level:0,maxLevel:10,baseDamage:0,damageMultiplier:0,statMultiplier:{mp:1.0},manaCost:80,cooldown:15000,currentCooldown:0,type:\"active\",category:\"magic\",description:\"ëª¨ë“  ì ì˜ ì›€ì§ì„ì„ ì ì‹œ ë©ˆì¶¥ë‹ˆë‹¤. (ì§€ì†ì‹œê°„: ë§ˆë‚˜ x 0.1ì´ˆ)\",requiredLevel:15,isUnlocked:currentLevel>=15,isLearned:false},{id:\"exp_boost\",name:t(\"rpg.skills.expAmplify.name\"),level:0,maxLevel:10,baseDamage:0,damageMultiplier:0,statMultiplier:{},manaCost:0,cooldown:0,currentCooldown:0,type:\"passive\",category:\"passive\",description:t(\"rpg.skills.expAmplify.description\"),requiredLevel:15,isUnlocked:currentLevel>=15,isLearned:false}];// í•´ê¸ˆëœ ìŠ¤í‚¬ë§Œ ë°˜í™˜\nreturn allSkills.filter(skill=>skill.isUnlocked);};const initialSkills=getAllSkills(1);// ë˜ì „ ì´ˆê¸°í™”\nconst initialDungeons=[{id:\"forest\",name:texts.dungeon.forest.name,level:1,description:texts.dungeon.forest.description,floors:10,currentFloor:1,clearedFloors:new Set(),monsters:[],rewards:{goldRange:[10,25],expRange:[15,30],itemDropChance:0.1},requiredLevel:1,isUnlocked:true},{id:\"cave\",name:texts.dungeon.cave.name,level:5,description:texts.dungeon.cave.description,floors:15,currentFloor:1,clearedFloors:new Set(),monsters:[],rewards:{goldRange:[25,50],expRange:[40,75],itemDropChance:0.15},requiredLevel:5,isUnlocked:false},{id:\"tower\",name:texts.dungeon.tower.name,level:10,description:texts.dungeon.tower.description,floors:20,currentFloor:1,clearedFloors:new Set(),monsters:[],rewards:{goldRange:[50,100],expRange:[80,150],itemDropChance:0.2},requiredLevel:10,isUnlocked:false},{id:\"abyss\",name:t(\"rpg.dungeon.abyss.name\"),level:20,description:t(\"rpg.dungeon.abyss.description\"),floors:50,currentFloor:1,clearedFloors:new Set(),monsters:[],rewards:{goldRange:[100,200],expRange:[200,300],itemDropChance:0.3},requiredLevel:20,isUnlocked:false,isComingSoon:true// ì—…ë°ì´íŠ¸ ì˜ˆì • í”Œë˜ê·¸\n}];// ìƒì  ì•„ì´í…œ ì´ˆê¸°í™” (ê¸°ë³¸ ì•„ì´í…œë“¤)\nconst getShopItems=()=>{var _availableDungeons$fi;const baseItems=[{id:\"sword1\",name:t(\"rpg.items.sword1\"),type:\"weapon\",rarity:\"common\",level:1,stats:{attack:15},price:200,enhancement:0},{id:\"armor1\",name:t(\"rpg.items.armor1\"),type:\"armor\",rarity:\"common\",level:1,stats:{defense:10,hp:20},price:150,enhancement:0},{id:\"helmet1\",name:t(\"rpg.items.helmet1\"),type:\"helmet\",rarity:\"common\",level:1,stats:{defense:5,hp:15},price:100,enhancement:0},// ê¸°ë³¸ ë¬¼ì•½ë“¤\n{id:\"health_potion\",name:t(\"rpg.items.health_potion\"),type:\"consumable\",rarity:\"common\",level:1,stats:{},price:50,enhancement:0,consumableEffect:{healHp:50},quantity:1},{id:\"mana_potion\",name:t(\"rpg.items.mana_potion\"),type:\"consumable\",rarity:\"common\",level:1,stats:{},price:40,enhancement:0,consumableEffect:{healMp:30},quantity:1}];// ê³ ë¸”ë¦° ë™êµ´ì´ í•´ê¸ˆë˜ë©´ ê³ ê¸‰ ì•„ì´í…œ ì¶”ê°€\nconst goblinCaveUnlocked=(_availableDungeons$fi=availableDungeons.find(d=>d.id===\"cave\"))===null||_availableDungeons$fi===void 0?void 0:_availableDungeons$fi.isUnlocked;if(goblinCaveUnlocked){baseItems.push(// ê³ ê¸‰ ì¥ë¹„\n{id:\"steel_sword\",name:t(\"rpg.items.enhanced_steel_sword\"),type:\"weapon\",rarity:\"rare\",level:3,stats:{attack:25},price:500,enhancement:0},{id:\"plate_armor\",name:\"íŒê¸ˆ ê°‘ì˜·\",type:\"armor\",rarity:\"rare\",level:3,stats:{defense:20,hp:40},price:400,enhancement:0},{id:\"steel_helmet\",name:t(\"rpg.items.steel_helmet\"),type:\"helmet\",rarity:\"rare\",level:3,stats:{defense:12,hp:25},price:300,enhancement:0},// ê³ ê¸‰ ë¬¼ì•½ë“¤\n{id:\"greater_health_potion\",name:t(\"rpg.items.greater_health_potion\"),type:\"consumable\",rarity:\"rare\",level:2,stats:{},price:120,enhancement:0,consumableEffect:{healHp:120},quantity:1},{id:\"greater_mana_potion\",name:\"ê³ ê¸‰ ë§ˆë‚˜ ë¬¼ì•½\",type:\"consumable\",rarity:\"rare\",level:2,stats:{},price:100,enhancement:0,consumableEffect:{healMp:80},quantity:1},{id:\"strength_potion\",name:t(\"rpg.items.strength_potion\"),type:\"consumable\",rarity:\"rare\",level:2,stats:{},price:150,enhancement:0,consumableEffect:{buffType:\"attack\",buffAmount:10,buffDuration:30000},quantity:1},{id:\"defense_potion\",name:t(\"rpg.items.defense_potion\"),type:\"consumable\",rarity:\"rare\",level:2,stats:{},price:150,enhancement:0,consumableEffect:{buffType:\"defense\",buffAmount:8,buffDuration:30000},quantity:1});}return baseItems;};const shopItems=getShopItems();setCharacter(prev=>{// ê¸°ì¡´ ìŠ¤í‚¬ì´ ìˆìœ¼ë©´ ë³´ì¡´í•˜ê³ , ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±\nconst existingSkills=prev.skills&&prev.skills.length>0?prev.skills:initialSkills;// ìƒˆë¡œìš´ ìŠ¤í‚¬ì´ ìˆìœ¼ë©´ ì¶”ê°€í•˜ë˜, ê¸°ì¡´ ìŠ¤í‚¬ì˜ ì§„í–‰ë„ëŠ” ë³´ì¡´\nconst mergedSkills=initialSkills.map(newSkill=>{const existingSkill=existingSkills.find(s=>s.id===newSkill.id);if(existingSkill){// ê¸°ì¡´ ìŠ¤í‚¬ì´ ìˆìœ¼ë©´ ë ˆë²¨ê³¼ í•™ìŠµ ìƒíƒœ ë³´ì¡´\nreturn{...newSkill,level:existingSkill.level,isLearned:existingSkill.isLearned,isUnlocked:prev.level>=(newSkill.requiredLevel||1)};}return newSkill;});return{...prev,name:texts.character.name,class:texts.character.class,skills:mergedSkills};});setAvailableDungeons(initialDungeons);setShop(shopItems);// Store texts globally for other functions to use\nwindow.gameTexts=texts;// ë˜ì „ì— ìˆì§€ ì•Šì„ ë•Œë§Œ ì¼ë°˜ ëª¬ìŠ¤í„° ìƒì„±\nif(!inDungeon){spawnMonster();}};// ë˜ì „ í•´ê¸ˆ ìƒíƒœì— ë”°ë¥¸ ìƒì  ì—…ë°ì´íŠ¸\nuseEffect(()=>{const updateShop=()=>{const getShopItems=()=>{var _availableDungeons$fi2,_availableDungeons$fi3;const baseItems=[{id:\"sword1\",name:t(\"rpg.items.steel_sword\"),type:\"weapon\",rarity:\"common\",level:1,stats:{attack:15},price:200,enhancement:0},{id:\"armor1\",name:t(\"rpg.items.leather_armor\"),type:\"armor\",rarity:\"common\",level:1,stats:{defense:10,hp:20},price:150,enhancement:0},{id:\"helmet1\",name:t(\"rpg.items.iron_helmet\"),type:\"helmet\",rarity:\"common\",level:1,stats:{defense:5,hp:15},price:100,enhancement:0},// ê¸°ë³¸ ë¬¼ì•½ë“¤\n{id:\"health_potion\",name:t(\"rpg.items.health_potion\"),type:\"consumable\",rarity:\"common\",level:1,stats:{},price:50,enhancement:0,consumableEffect:{healHp:50},quantity:1},{id:\"mana_potion\",name:t(\"rpg.items.mana_potion\"),type:\"consumable\",rarity:\"common\",level:1,stats:{},price:40,enhancement:0,consumableEffect:{healMp:30},quantity:1}];// ê³ ë¸”ë¦° ë™êµ´ì´ í•´ê¸ˆë˜ë©´ ê³ ê¸‰ ì•„ì´í…œ ì¶”ê°€\nconst goblinCaveUnlocked=(_availableDungeons$fi2=availableDungeons.find(d=>d.id===\"cave\"))===null||_availableDungeons$fi2===void 0?void 0:_availableDungeons$fi2.isUnlocked;if(goblinCaveUnlocked){// ì¤‘ë³µ ë°©ì§€: ì´ë¯¸ ìˆëŠ” ì•„ì´í…œì€ ì¶”ê°€í•˜ì§€ ì•ŠìŒ\nconst existingIds=baseItems.map(item=>item.id);const newItems=[{id:\"steel_sword\",name:t(\"rpg.items.enhanced_steel_sword\"),type:\"weapon\",rarity:\"rare\",level:3,stats:{attack:25},price:500,enhancement:0},{id:\"plate_armor\",name:t(\"rpg.items.plate_armor\"),type:\"armor\",rarity:\"rare\",level:3,stats:{defense:20,hp:40},price:400,enhancement:0},{id:\"steel_helmet\",name:t(\"rpg.items.steel_helmet\"),type:\"helmet\",rarity:\"rare\",level:3,stats:{defense:12,hp:25},price:300,enhancement:0},{id:\"greater_health_potion\",name:t(\"rpg.items.greater_health_potion\"),type:\"consumable\",rarity:\"rare\",level:2,stats:{},price:120,enhancement:0,consumableEffect:{healHp:120},quantity:1},{id:\"greater_mana_potion\",name:\"ê³ ê¸‰ ë§ˆë‚˜ ë¬¼ì•½\",type:\"consumable\",rarity:\"rare\",level:2,stats:{},price:100,enhancement:0,consumableEffect:{healMp:80},quantity:1},{id:\"strength_potion\",name:t(\"rpg.items.strength_potion\"),type:\"consumable\",rarity:\"rare\",level:2,stats:{},price:150,enhancement:0,consumableEffect:{buffType:\"attack\",buffAmount:10,buffDuration:30000},quantity:1},{id:\"defense_potion\",name:t(\"rpg.items.defense_potion\"),type:\"consumable\",rarity:\"rare\",level:2,stats:{},price:150,enhancement:0,consumableEffect:{buffType:\"defense\",buffAmount:8,buffDuration:30000},quantity:1}].filter(item=>!existingIds.includes(item.id));baseItems.push(...newItems);}// ë§ˆë²•ì‚¬ì˜ íƒ‘ì´ í•´ê¸ˆë˜ë©´ ìµœê³ ê¸‰ ì•„ì´í…œ ì¶”ê°€\nconst wizardTowerUnlocked=(_availableDungeons$fi3=availableDungeons.find(d=>d.id===\"tower\"))===null||_availableDungeons$fi3===void 0?void 0:_availableDungeons$fi3.isUnlocked;if(wizardTowerUnlocked){const existingIds=baseItems.map(item=>item.id);const wizardItems=[{id:\"enchanted_sword\",name:\"ë§ˆë²• ë¶€ì—¬ ê²€\",type:\"weapon\",rarity:\"epic\",level:5,stats:{attack:40,mp:20},price:1200,enhancement:0},{id:\"dragon_armor\",name:\"ë“œë˜ê³¤ ê°‘ì˜·\",type:\"armor\",rarity:\"epic\",level:5,stats:{defense:35,hp:80},price:1000,enhancement:0},{id:\"mystic_helmet\",name:\"ì‹ ë¹„ì˜ íˆ¬êµ¬\",type:\"helmet\",rarity:\"epic\",level:5,stats:{defense:20,hp:40,mp:30},price:800,enhancement:0},{id:\"supreme_health_potion\",name:\"ìµœê³ ê¸‰ ì²´ë ¥ ë¬¼ì•½\",type:\"consumable\",rarity:\"epic\",level:3,stats:{},price:300,enhancement:0,consumableEffect:{healHp:250},quantity:1},{id:\"supreme_mana_potion\",name:\"ìµœê³ ê¸‰ ë§ˆë‚˜ ë¬¼ì•½\",type:\"consumable\",rarity:\"epic\",level:3,stats:{},price:250,enhancement:0,consumableEffect:{healMp:200},quantity:1},{id:\"berserker_potion\",name:t(\"rpg.items.berserker_potion\"),type:\"consumable\",rarity:\"epic\",level:3,stats:{},price:400,enhancement:0,consumableEffect:{buffType:\"attack\",buffAmount:25,buffDuration:60000},quantity:1},{id:\"guardian_potion\",name:\"ìˆ˜í˜¸ìì˜ ë¬¼ì•½\",type:\"consumable\",rarity:\"epic\",level:3,stats:{},price:400,enhancement:0,consumableEffect:{buffType:\"defense\",buffAmount:20,buffDuration:60000},quantity:1}].filter(item=>!existingIds.includes(item.id));baseItems.push(...wizardItems);}return baseItems;};setShop(getShopItems());};updateShop();},[availableDungeons]);// ë ˆë²¨ì—… ì‹œ ìŠ¤í‚¬ ì—…ë°ì´íŠ¸\nuseEffect(()=>{const updateSkills=()=>{setCharacter(prev=>{// ê¸°ì¡´ ìŠ¤í‚¬ë“¤ì˜ í•´ê¸ˆ ìƒíƒœë§Œ ì—…ë°ì´íŠ¸\nconst updatedSkills=prev.skills.map(skill=>({...skill,isUnlocked:prev.level>=(skill.requiredLevel||1)}));return{...prev,skills:updatedSkills};});};updateSkills();},[character.level]);// ìŠ¤í‚¬ ì‚¬ìš© í•¨ìˆ˜ (ìˆ˜ì •ëœ ë°ë¯¸ì§€ ê³„ì‚° í¬í•¨)\nconst executeSkill=skill=>{if(!skill.isLearned||skill.level===0){addToCombatLog(t(\"rpg.combat.skillLearnFirst\"));return;}if(character.mp<skill.manaCost){addToCombatLog(t(\"rpg.combat.notEnoughMana\"));return;}if(skill.currentCooldown>0){addToCombatLog(t(\"rpg.combat.skillCooldown\"));return;}const damage=calculateSkillDamage(skill,character);// ìŠ¤í‚¬ ì‚¬ìš© ë¡œì§\nif(skill.id===\"heal\"||skill.id===\"regeneration\"){// íë§ ìŠ¤í‚¬\nconst healAmount=damage;setCharacter(prev=>({...prev,hp:Math.min(prev.maxHp,prev.hp+healAmount),mp:prev.mp-skill.manaCost}));addToCombatLog(`${skill.name} ì‚¬ìš©! ${healAmount} ì²´ë ¥ íšŒë³µ!`);}else if(currentMonster){// ê³µê²© ìŠ¤í‚¬\nconst newMonsterHp=Math.max(0,currentMonster.hp-damage);setCurrentMonster(prev=>prev?{...prev,hp:newMonsterHp}:null);setCharacter(prev=>({...prev,mp:prev.mp-skill.manaCost}));addToCombatLog(`${skill.name} ì‚¬ìš©! ${damage} ë°ë¯¸ì§€!`);if(newMonsterHp===0){setTimeout(defeatMonster,500);}}// ì¿¨ë‹¤ìš´ ì„¤ì •\nsetCharacter(prev=>({...prev,skills:prev.skills.map(s=>s.id===skill.id?{...s,currentCooldown:skill.cooldown}:s)}));};// ìŠ¤í‚¬ ë°°ìš°ê¸° (0ë ˆë²¨ì—ì„œ 1ë ˆë²¨ë¡œ ì—…ê·¸ë ˆì´ë“œ) í•¨ìˆ˜\nconst learnSkill=skill=>{if(skill.level>0){addToCombatLog(t(\"rpg.combat.alreadyLearned\"));return;}const cost=100;// ìŠ¤í‚¬ ë°°ìš°ê¸° ë¹„ìš©\nif(character.gold<cost){addToCombatLog(t(\"rpg.combat.notEnoughGold\"));return;}setCharacter(prev=>({...prev,gold:prev.gold-cost,skills:prev.skills.map(s=>s.id===skill.id?{...s,level:1,isLearned:true}:s)}));addToCombatLog(`${skill.name}ì„(ë¥¼) ë°°ì› ìŠµë‹ˆë‹¤!`);};// ìŠ¤í‚¬ ë Œë”ë§ í•¨ìˆ˜ (ë¶„ë¥˜ë³„)\n// ìŠ¤í‚¬ ì•„ì´ì½˜ ë§µí•‘\nconst getSkillIcon=skill=>{const iconMap={// ì „íˆ¬ ìŠ¤í‚¬\n\"basic-attack\":\"âš”ï¸\",\"power-strike\":\"ğŸ’¥\",\"fire-slash\":\"ğŸ”¥\",\"lightning-bolt\":\"âš¡\",\"ice-shard\":\"â„ï¸\",\"double-attack\":\"âš”ï¸âš”ï¸\",// ì§€ì› ìŠ¤í‚¬\nheal:\"ğŸ’š\",\"mana-recovery\":\"ğŸ’™\",shield:\"ğŸ›¡ï¸\",haste:\"ğŸ’¨\",blessing:\"âœ¨\",// íŒ¨ì‹œë¸Œ ìŠ¤í‚¬\n\"strength-boost\":\"ğŸ’ª\",\"defense-boost\":\"ğŸ›¡ï¸\",\"agility-boost\":\"ğŸƒ\",\"mana-boost\":\"ğŸ”®\",\"critical-chance\":\"ğŸ’\",vampire:\"ğŸ©¸\"};return iconMap[skill.id]||\"ğŸ“œ\";};// ì„ íƒëœ ìŠ¤í‚¬ ìƒíƒœ\nconst[selectedSkill,setSelectedSkill]=useState(null);// ìŠ¤í‚¬ íƒ­ ë‚´ë¶€ì˜ ì„œë¸Œ íƒ­ ìƒíƒœ\nconst[skillSubTab,setSkillSubTab]=React.useState(\"combat\");// ìŠ¤í‚¬ íƒ­ ì»¨í…ì¸  ë Œë”ë§ (ê²Œì„ ìŠ¤íƒ€ì¼ UI)\nconst renderSkillsTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\",background:\"#1f2937\",minHeight:\"600px\"},children:[renderCharacterHeader(),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:\"200px\"},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:\"white\",marginBottom:\"15px\",fontSize:\"16px\"},children:[\"\\uD83D\\uDCDA \",t(\"rpg.ui.skillInfo\")]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"5px\"},children:[{id:\"combat\",label:t(\"rpg.skills.category.all\"),count:character.skills.filter(s=>s.isUnlocked).length,color:\"#8b5cf6\"},{id:\"combat\",label:t(\"rpg.skills.category.combat\"),count:character.skills.filter(s=>s.isUnlocked&&(s.category===\"combat\"||s.category===\"magic\")).length,color:\"#dc2626\"},{id:\"support\",label:t(\"rpg.skills.category.support\"),count:character.skills.filter(s=>s.isUnlocked&&s.category===\"support\").length,color:\"#10b981\"},{id:\"passive\",label:t(\"rpg.skills.category.passive\"),count:character.skills.filter(s=>s.isUnlocked&&s.category===\"passive\").length,color:\"#f59e0b\"}].map((tab,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSkillSubTab(index===0?\"combat\":tab.id),style:{padding:\"12px 15px\",background:index===0&&skillSubTab||skillSubTab===tab.id?`linear-gradient(135deg, ${tab.color} 0%, ${tab.color}CC 100%)`:\"rgba(255, 255, 255, 0.1)\",color:index===0&&skillSubTab||skillSubTab===tab.id?\"white\":\"#9ca3af\",border:\"1px solid #4b5563\",borderRadius:\"8px\",cursor:\"pointer\",fontSize:\"14px\",fontWeight:\"normal\",transition:\"all 0.2s ease\",textAlign:\"left\",display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"span\",{children:tab.label}),/*#__PURE__*/_jsx(\"span\",{style:{background:\"rgba(0, 0, 0, 0.3)\",color:\"white\",fontSize:\"11px\",padding:\"2px 6px\",borderRadius:\"10px\",minWidth:\"20px\",textAlign:\"center\"},children:index===0?character.skills.filter(s=>s.isUnlocked).length:tab.count})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:\"white\",marginBottom:\"15px\",fontSize:\"16px\"},children:[\"\\uD83C\\uDFAF\",\" \",skillSubTab===\"combat\"?t(\"rpg.ui.combatSkills\"):skillSubTab===\"support\"?t(\"rpg.skills.supportSkills\"):t(\"rpg.skills.category.passive\")]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(8, 1fr)\",gap:\"6px\",background:\"rgba(0, 0, 0, 0.3)\",padding:\"15px\",borderRadius:\"10px\",border:\"2px solid #4b5563\",minHeight:\"400px\"},children:Array.from({length:32},(_,index)=>{const filteredSkills=character.skills.filter(skill=>{if(skillSubTab===\"combat\"){return skill.isUnlocked&&(skill.category===\"combat\"||skill.category===\"magic\");}return skill.isUnlocked&&skill.category===skillSubTab;});const skill=filteredSkills[index];const isEmpty=!skill;return/*#__PURE__*/_jsx(\"div\",{onClick:()=>skill&&setSelectedSkill(skill),style:{width:\"50px\",height:\"50px\",background:isEmpty?\"rgba(255, 255, 255, 0.05)\":skill.isLearned?\"rgba(16, 185, 129, 0.2)\":\"rgba(107, 114, 128, 0.2)\",border:isEmpty?\"1px solid #374151\":skill.isLearned?\"2px solid #10b981\":\"2px solid #6b7280\",borderRadius:\"8px\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",cursor:skill?\"pointer\":\"default\",position:\"relative\",transition:\"all 0.2s ease\"},onMouseEnter:e=>{if(skill){e.currentTarget.style.transform=\"scale(1.1)\";e.currentTarget.style.boxShadow=skill.isLearned?\"0 0 15px #10b98150\":\"0 0 15px #6b728050\";}},onMouseLeave:e=>{if(skill){e.currentTarget.style.transform=\"scale(1)\";e.currentTarget.style.boxShadow=\"none\";}},children:skill&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"20px\",filter:skill.isLearned?\"none\":\"grayscale(1)\",opacity:skill.isLearned?1:0.5},children:getSkillIcon(skill)}),skill.level>0&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",bottom:\"2px\",right:\"2px\",background:\"#10b981\",color:\"white\",fontSize:\"10px\",padding:\"1px 4px\",borderRadius:\"3px\",lineHeight:\"1\",fontWeight:\"bold\"},children:skill.level}),skill.level===0&&character.gold>=100&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",top:\"2px\",right:\"2px\",background:\"#fbbf24\",width:\"8px\",height:\"8px\",borderRadius:\"50%\",animation:\"pulse 2s infinite\"}})]})},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"300px\"},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:\"white\",marginBottom:\"15px\",fontSize:\"16px\"},children:[\"\\uD83D\\uDCCB \",t(\"rpg.ui.skillInfoPanel\")]}),selectedSkill?/*#__PURE__*/_jsxs(\"div\",{style:{background:\"rgba(255, 255, 255, 0.1)\",border:selectedSkill.isLearned?\"2px solid #10b981\":\"2px solid #6b7280\",borderRadius:\"10px\",padding:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"48px\",marginBottom:\"10px\",filter:selectedSkill.isLearned?\"none\":\"grayscale(1)\",opacity:selectedSkill.isLearned?1:0.7},children:getSkillIcon(selectedSkill)}),/*#__PURE__*/_jsx(\"h4\",{style:{color:selectedSkill.isLearned?\"#10b981\":\"#9ca3af\",margin:\"0 0 5px 0\",fontSize:\"18px\",fontWeight:\"bold\"},children:selectedSkill.name}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#9ca3af\",margin:\"0 0 15px 0\",fontSize:\"14px\"},children:[\"Lv.\",selectedSkill.level,\"/\",selectedSkill.maxLevel,\" \\u2022\",\" \",selectedSkill.type===\"active\"?t(\"rpg.skills.active\"):t(\"rpg.skills.passive\")]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"h5\",{style:{color:\"white\",margin:\"0 0 10px 0\",fontSize:\"14px\"},children:t(\"rpg.skills.effect\")}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#d1d5db\",fontSize:\"12px\",lineHeight:\"1.4\",margin:0},children:selectedSkill.description}),selectedSkill.level>0&&selectedSkill.type===\"active\"&&/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#fbbf24\",fontSize:\"12px\",fontWeight:\"bold\",marginTop:\"8px\"},children:[\"\\uB370\\uBBF8\\uC9C0: \",calculateSkillDamage(selectedSkill,character)]})]}),selectedSkill.type===\"active\"&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"h5\",{style:{color:\"white\",margin:\"0 0 10px 0\",fontSize:\"14px\"},children:t(\"rpg.skills.usageInfo\")}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"12px\",color:\"#9ca3af\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginBottom:\"5px\"},children:[/*#__PURE__*/_jsx(\"span\",{children:t(\"rpg.skills.manaCost\")}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"#60a5fa\"},children:selectedSkill.manaCost})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginBottom:\"5px\"},children:[/*#__PURE__*/_jsx(\"span\",{children:t(\"rpg.skills.cooldown\")}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"#f472b6\"},children:[selectedSkill.cooldown/1000,\"\\uCD08\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"h5\",{style:{color:\"white\",margin:\"0 0 10px 0\",fontSize:\"14px\"},children:selectedSkill.level===0?t(\"rpg.skills.learnCost\"):t(\"rpg.skills.upgradeCost\")}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#f59e0b\",fontSize:\"12px\",margin:0},children:[selectedSkill.level===0?\"100\":(selectedSkill.level*100).toLocaleString(),t(\"rpg.item.gold\")]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"10px\"},children:selectedSkill.level===0?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{learnSkill(selectedSkill);setSelectedSkill(null);},disabled:character.gold<100,style:{background:character.gold>=100?\"linear-gradient(135deg, #10b981 0%, #059669 100%)\":\"#6b7280\",color:\"white\",border:\"none\",borderRadius:\"6px\",padding:\"12px\",fontSize:\"14px\",cursor:character.gold>=100?\"pointer\":\"not-allowed\",fontWeight:\"bold\"},children:[t(\"rpg.skills.learn\"),\" (100G)\"]}):selectedSkill.level<selectedSkill.maxLevel?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{const cost=selectedSkill.level*100;if(character.gold>=cost){setCharacter(prev=>({...prev,gold:prev.gold-cost,skills:prev.skills.map(s=>s.id===selectedSkill.id?{...s,level:s.level+1}:s)}));addToCombatLog(`${selectedSkill.name}ì„(ë¥¼) ë ˆë²¨ì—…í–ˆë‹¤! (Lv.${selectedSkill.level+1})`);setSelectedSkill(prev=>prev?{...prev,level:prev.level+1}:null);}},disabled:character.gold<selectedSkill.level*100,style:{background:character.gold>=selectedSkill.level*100?\"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)\":\"#6b7280\",color:\"white\",border:\"none\",borderRadius:\"6px\",padding:\"12px\",fontSize:\"14px\",cursor:character.gold>=selectedSkill.level*100?\"pointer\":\"not-allowed\",fontWeight:\"bold\"},children:[\"\\uB808\\uBCA8\\uC5C5 (\",(selectedSkill.level*100).toLocaleString(),\"G)\"]}):/*#__PURE__*/_jsx(\"div\",{style:{background:\"#374151\",color:\"#9ca3af\",border:\"none\",borderRadius:\"6px\",padding:\"12px\",fontSize:\"14px\",textAlign:\"center\"},children:\"\\uCD5C\\uB300 \\uB808\\uBCA8 \\uB2EC\\uC131\"})})]}):/*#__PURE__*/_jsx(\"div\",{style:{background:\"rgba(255, 255, 255, 0.05)\",borderRadius:\"10px\",padding:\"40px\",textAlign:\"center\",color:\"#6b7280\"},children:/*#__PURE__*/_jsx(\"p\",{children:t(\"rpg.skills.info.description\")})})]})]})]});// ëª¬ìŠ¤í„° ìƒì„±\nconst spawnMonster=()=>{// ì´ë¯¸ ëª¬ìŠ¤í„°ê°€ ìˆê±°ë‚˜ ë˜ì „ì— ìˆìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•ŠìŒ\nif(currentMonster||inDungeon){return;}const gameTexts=window.gameTexts||{monsters:{slime:t(\"rpg.monsters.slime\"),goblin:t(\"rpg.monsters.goblin\"),orc:t(\"rpg.monsters.orc\"),troll:t(\"rpg.monsters.troll\"),dragon:t(\"rpg.monsters.dragon\")},combat:{appeared:t(\"rpg.combat.appeared\")}};const monsters=[{name:gameTexts.monsters.slime,baseHp:40,baseAttack:8,baseDefense:2,exp:15,gold:10,minLevel:1,maxLevel:3},{name:gameTexts.monsters.goblin,baseHp:60,baseAttack:12,baseDefense:4,exp:25,gold:18,minLevel:3,maxLevel:6},{name:gameTexts.monsters.orc,baseHp:100,baseAttack:18,baseDefense:8,exp:40,gold:30,minLevel:6,maxLevel:10},{name:gameTexts.monsters.troll,baseHp:150,baseAttack:25,baseDefense:12,exp:60,gold:45,minLevel:10,maxLevel:15},{name:gameTexts.monsters.dragon,baseHp:300,baseAttack:40,baseDefense:20,exp:120,gold:100,minLevel:15,maxLevel:999}];// ìºë¦­í„° ë ˆë²¨ì— ì í•©í•œ ëª¬ìŠ¤í„°ë§Œ í•„í„°ë§\nconst availableMonsters=monsters.filter(monster=>character.level>=monster.minLevel&&character.level<=monster.maxLevel);// ì í•©í•œ ëª¬ìŠ¤í„°ê°€ ì—†ìœ¼ë©´ ë ˆë²¨ ë²”ìœ„ë¥¼ í™•ì¥\nconst finalMonsters=availableMonsters.length>0?availableMonsters:monsters.filter(monster=>Math.abs(character.level-monster.minLevel)<=2);const randomMonster=finalMonsters[Math.floor(Math.random()*finalMonsters.length)];const levelMultiplier=1+(character.level-1)*0.3;const monster={id:`monster_${Date.now()}`,name:randomMonster.name,level:Math.max(1,character.level+Math.floor(Math.random()*3-1)),hp:Math.floor(randomMonster.baseHp*levelMultiplier),maxHp:Math.floor(randomMonster.baseHp*levelMultiplier),attack:Math.floor(randomMonster.baseAttack*levelMultiplier),defense:Math.floor(randomMonster.baseDefense*levelMultiplier),speed:10,exp:Math.floor(randomMonster.exp*levelMultiplier),gold:Math.floor(randomMonster.gold*levelMultiplier),dropItems:generateDropItems(),isBoss:Math.random()<0.1// 10% ë³´ìŠ¤ í™•ë¥ \n};if(monster.isBoss){monster.name=`ë³´ìŠ¤ ${monster.name}`;monster.hp*=3;monster.maxHp*=3;monster.attack*=2;monster.defense*=2;monster.exp*=5;monster.gold*=3;}setCurrentMonster(monster);addToCombatLog(`${monster.name} Lv.${monster.level}${gameTexts.combat.appeared}`);};// ë“œë¡­ ì•„ì´í…œ ìƒì„±\nconst generateDropItems=()=>{const dropChance=Math.random();if(dropChance<0.1){// 10% í™•ë¥ ë¡œ ì•„ì´í…œ ë“œë¡­\nconst rarities=[\"common\",\"rare\",\"epic\",\"legendary\",\"mythic\"];const rarity=rarities[Math.floor(Math.random()*rarities.length)];const itemTypes=[\"weapon\",\"armor\",\"helmet\",\"boots\",\"ring\",\"amulet\"];const itemType=itemTypes[Math.floor(Math.random()*itemTypes.length)];return[{id:`drop_${Date.now()}`,name:generateItemName(rarity,itemType),type:itemType,rarity,level:character.level,stats:generateItemStats(rarity),price:calculateItemPrice(rarity,character.level),enhancement:0}];}return[];};const generateItemName=(rarity,itemType)=>{const prefixes={common:[\"ë‚¡ì€\",\"ì¼ë°˜ì ì¸\",\"ê¸°ë³¸\"],rare:[\"ë‚ ì¹´ë¡œìš´\",\"íŠ¼íŠ¼í•œ\",\"ë§ˆë²•ì˜\"],epic:[\"ì „ì„¤ì ì¸\",\"ê³ ëŒ€ì˜\",\"ì‹ ì„±í•œ\"],legendary:[\"ì „ì„¤ì˜\",\"ì˜ì›…ì˜\",\"ë¶ˆë©¸ì˜\"],mythic:[\"ì‹ í™”ì˜\",\"ì°½ì¡°ì˜\",\"ì ˆëŒ€ì˜\"]};const itemNames={weapon:[\"ê²€\",\"ë„ë¼\",\"ì°½\",\"í™œ\",\"ì§€íŒ¡ì´\"],armor:[\"ê°‘ì˜·\",\"ë¡œë¸Œ\",\"ì‚¬ìŠ¬ê°‘ì˜·\",\"ê°€ì£½ê°‘ì˜·\"],helmet:[\"íˆ¬êµ¬\",\"ëª¨ì\",\"ê´€\",\"í—¬ë¦„\"],boots:[\"ì‹ ë°œ\",\"ë¶€ì¸ \",\"ì¥í™”\",\"ìƒŒë“¤\"],ring:[\"ë°˜ì§€\",\"ë§\",\"ë°´ë“œ\"],amulet:[\"ëª©ê±¸ì´\",\"ë¶€ì \",\"íœë˜íŠ¸\"]};const prefix=prefixes[rarity][Math.floor(Math.random()*3)];const itemTypeNames=itemNames[itemType]||[\"ì•„ì´í…œ\"];const item=itemTypeNames[Math.floor(Math.random()*itemTypeNames.length)];return`${prefix} ${item}`;};const generateItemStats=rarity=>{const multipliers={common:1,rare:1.5,epic:2.5,legendary:4,mythic:7};const base=multipliers[rarity];return{attack:Math.floor(Math.random()*20*base),defense:Math.floor(Math.random()*15*base),hp:Math.floor(Math.random()*50*base),mp:Math.floor(Math.random()*30*base),speed:Math.floor(Math.random()*10*base),critRate:Math.floor(Math.random()*10*base),critDamage:Math.floor(Math.random()*20*base)};};const calculateItemPrice=(rarity,level)=>{const basePrice={common:50,rare:150,epic:500,legendary:2000,mythic:10000};return Math.floor(basePrice[rarity]*(1+level*0.2));};// ì „íˆ¬ ì‹œìŠ¤í…œ\nconst attack=()=>{if(!currentMonster)return;const buffedAttack=character.attack+character.buffs.attack.amount;const damage=calculateDamage(buffedAttack,currentMonster.defense);const isCritical=Math.random()<0.1+character.stats.luck*0.01;const finalDamage=isCritical?Math.floor(damage*1.5):damage;const newMonsterHp=Math.max(0,currentMonster.hp-finalDamage);setCurrentMonster(prev=>prev?{...prev,hp:newMonsterHp}:null);const gameTexts=window.gameTexts||{combat:{attack:\"ì˜ ê³µê²©!\",damage:\"ë°ë¯¸ì§€!\",critical:\"ì¹˜ëª…íƒ€!\"}};addToCombatLog(`${character.name}${gameTexts.combat.attack} ${finalDamage}${isCritical?` (${gameTexts.combat.critical})`:\"\"} ${gameTexts.combat.damage}`);onAction(\"combat_attack\",{user_id:currentUser.user_id,damage:finalDamage,is_critical:isCritical,monster_name:currentMonster.name,monster_level:currentMonster.level,character_level:character.level,character_attack:character.attack,monster_hp_remaining:newMonsterHp,dungeon_name:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.name)||null,dungeon_floor:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.currentFloor)||null});if(newMonsterHp<=0){defeatMonster();}else{// ëª¬ìŠ¤í„° ë°˜ê²©\nsetTimeout(()=>monsterAttack(),1000);}};const monsterAttack=()=>{if(!currentMonster||currentMonster.hp<=0)return;const buffedDefense=character.defense+character.buffs.defense.amount;const damage=calculateDamage(currentMonster.attack,buffedDefense);const newHp=Math.max(0,character.hp-damage);setCharacter(prev=>({...prev,hp:newHp}));const gameTexts=window.gameTexts||{combat:{attack:\"ì˜ ê³µê²©!\",damage:\"ë°ë¯¸ì§€!\"}};addToCombatLog(`${currentMonster.name}${gameTexts.combat.attack} ${damage} ${gameTexts.combat.damage}`);if(newHp<=0){const gameTexts=window.gameTexts||{combat:{defeat:\"ì „íˆ¬ì—ì„œ íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤...\"}};addToCombatLog(gameTexts.combat.defeat);setIsAutoFighting(false);// ì „íˆ¬ ì‹¤íŒ¨ ì´ë²¤íŠ¸ ë¡œê¹…\nonAction(\"combat_defeat\",{monster_name:currentMonster.name,monster_level:currentMonster.level,character_level:character.level,dungeon_id:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.id)||\"field\",dungeon_name:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.name)||\"field\",damage_taken:currentMonster.attack,character_defense:character.defense});// ë˜ì „ì—ì„œ ë‚˜ê°€ê³  ì²´ë ¥/ë§ˆë‚˜ ì™„ì „ íšŒë³µ\nsetTimeout(()=>{setCharacter(prev=>({...prev,hp:prev.maxHp,mp:prev.maxMp}));if(inDungeon&&currentDungeon){// ë˜ì „ì—ì„œ ë‚˜ê°€ê¸° (ì£½ìŒìœ¼ë¡œ ì¸í•œ ìë™ í‡´ì¥)\nonAction(\"dungeon_exited\",{dungeon_id:currentDungeon.id,dungeon_name:currentDungeon.name,current_floor:currentDungeon.currentFloor,total_floors:currentDungeon.floors,character_level:character.level,exit_reason:\"death\",time_spent:new Date().getTime()});setInDungeon(false);setCurrentDungeon(null);setCurrentTab(\"lobby\");setGameMode(\"lobby\");addToCombatLog(\"ë˜ì „ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!\");}else{// ì¼ë°˜ í•„ë“œì—ì„œëŠ” ìƒˆ ëª¬ìŠ¤í„° ìŠ¤í°\naddToCombatLog(\"ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!\");spawnMonster();}},2000);}};const calculateDamage=(attack,defense)=>{const baseDamage=Math.max(1,attack-Math.floor(defense*0.5));return Math.floor(baseDamage*(0.8+Math.random()*0.4));};const defeatMonster=()=>{if(!currentMonster)return;const expGained=currentMonster.exp;const goldGained=currentMonster.gold;setCharacter(prev=>{let newExp=prev.exp+expGained;const newGold=prev.gold+goldGained;let newLevel=prev.level;let newMaxExp=prev.maxExp;let newHp=prev.hp;let newMp=prev.mp;let newMaxHp=prev.maxHp;let newMaxMp=prev.maxMp;let availablePoints=prev.stats.availablePoints;// ë ˆë²¨ì—… ì²´í¬\nwhile(newExp>=newMaxExp){newLevel+=1;newExp-=newMaxExp;newMaxExp=Math.floor(newMaxExp*1.5);newMaxHp+=20;newMaxMp+=10;newHp=newMaxHp;// ë ˆë²¨ì—… ì‹œ ì²´ë ¥ ì™„ì „ íšŒë³µ\nnewMp=newMaxMp;// ë ˆë²¨ì—… ì‹œ ë§ˆë‚˜ ì™„ì „ íšŒë³µ\navailablePoints+=5;addToCombatLog(`ğŸ‰ ë ˆë²¨ì—…! Lv.${newLevel}ì´ ë˜ì—ˆìŠµë‹ˆë‹¤!`);onAction(\"level_up\",{user_id:currentUser.user_id,new_level:newLevel,character_class:prev.class,stat_points_gained:5});// ë˜ì „ í•´ê¸ˆ ì²´í¬\nsetAvailableDungeons(prevDungeons=>prevDungeons.map(dungeon=>({...dungeon,isUnlocked:dungeon.isUnlocked||newLevel>=dungeon.requiredLevel})));}return{...prev,exp:newExp,gold:newGold,level:newLevel,maxExp:newMaxExp,hp:newHp,mp:newMp,maxHp:newMaxHp,maxMp:newMaxMp,stats:{...prev.stats,availablePoints}};});// ì•„ì´í…œ ë“œë¡­ ì²˜ë¦¬\nif(currentMonster.dropItems.length>0){setInventory(prev=>[...prev,...currentMonster.dropItems]);addToCombatLog(`âœ¨ ${currentMonster.dropItems[0].name}ì„ íšë“í–ˆìŠµë‹ˆë‹¤!`);}addToCombatLog(`${currentMonster.name}ë¥¼ ë¬¼ë¦¬ì³¤ë‹¤! EXP +${expGained}, ê³¨ë“œ +${goldGained}`);// ì¶”ì  ì¹´ìš´í„° ì—…ë°ì´íŠ¸\nsetMonstersDefeated(prev=>prev+1);setTotalGoldEarned(prev=>prev+goldGained);onAction(\"monster_defeated\",{user_id:currentUser.user_id,monster_name:currentMonster.name,monster_level:currentMonster.level,character_level:character.level,exp_gained:expGained,gold_gained:goldGained,items_dropped:currentMonster.dropItems.length,character_attack:character.attack,dungeon_name:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.name)||null,dungeon_floor:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.currentFloor)||null});// í˜„ì¬ ëª¬ìŠ¤í„° ì œê±°\nsetCurrentMonster(null);// ë˜ì „ì— ìˆëŠ” ê²½ìš° í˜„ì¬ ì¸µì—ì„œ ìƒˆë¡œìš´ ëª¬ìŠ¤í„° ìƒì„±, ì•„ë‹ˆë©´ ì¼ë°˜ ëª¬ìŠ¤í„° ìƒì„±\nif(inDungeon&&currentDungeon){// í˜„ì¬ ì¸µì„ í´ë¦¬ì–´í•œ ê²ƒìœ¼ë¡œ ë§ˆí‚¹\nconst updatedDungeon={...currentDungeon,clearedFloors:new Set([...Array.from(currentDungeon.clearedFloors),currentDungeon.currentFloor])};setCurrentDungeon(updatedDungeon);// ë˜ì „ ë¦¬ìŠ¤íŠ¸ì—ì„œë„ ì—…ë°ì´íŠ¸\nsetAvailableDungeons(prev=>prev.map(d=>d.id===updatedDungeon.id?updatedDungeon:d));// ë˜ì „ì—ì„œëŠ” í˜„ì¬ ì¸µì—ì„œ ê³„ì† ì‚¬ëƒ¥í•  ìˆ˜ ìˆë„ë¡ ìƒˆ ëª¬ìŠ¤í„° ìƒì„±\naddToCombatLog(t(\"rpg.messages.monsterDefeatedFloorCleared\").replace(\"{floor}\",currentDungeon.currentFloor.toString()));setTimeout(()=>{spawnDungeonMonster(updatedDungeon,true);},2000);}else{// ì¼ë°˜ ë°©ì¹˜í˜• ì „íˆ¬ì—ì„œ ìƒˆ ëª¬ìŠ¤í„° ìƒì„± (ë˜ì „ ìƒíƒœê°€ ì•„ë‹ ë•Œë§Œ)\nif(!inDungeon){setTimeout(()=>{spawnMonster();},2000);}}};// ë‹¤ìŒ ì¸µìœ¼ë¡œ ì§„í–‰\nconst proceedToNextFloor=()=>{if(!currentDungeon)return;const updatedDungeon={...currentDungeon,currentFloor:currentDungeon.currentFloor+1};setCurrentDungeon(updatedDungeon);setShowDungeonChoice(false);setTimeout(()=>{spawnDungeonMonster(updatedDungeon,true);// ê°•ì œ ìŠ¤í°\naddToCombatLog(t(\"rpg.messages.proceedToFloor\").replace(\"{floor}\",updatedDungeon.currentFloor.toString()));},500);};// ë˜ì „ ë‚˜ê°€ê¸°\nconst exitDungeonAfterVictory=()=>{if(!currentDungeon)return;// ë˜ì „ ë‚˜ê°€ê¸° ì´ë²¤íŠ¸ ë¡œê¹…\nonAction(\"dungeon_exited\",{dungeon_id:currentDungeon.id,dungeon_name:currentDungeon.name,current_floor:currentDungeon.currentFloor,total_floors:currentDungeon.floors,character_level:character.level,exit_reason:\"victory_choice\",time_spent:new Date().getTime()});// ë˜ì „ ë¦¬ì…‹ (í˜„ì¬ ì¸µì„ 1ì¸µìœ¼ë¡œ ë˜ëŒë¦¼)\nconst resetDungeon={...currentDungeon,currentFloor:1};setAvailableDungeons(prev=>prev.map(d=>d.id===resetDungeon.id?resetDungeon:d));setInDungeon(false);setCurrentDungeon(null);setCurrentTab(\"lobby\");setGameMode(\"lobby\");setShowDungeonChoice(false);// ì²´ë ¥ê³¼ ë§ˆë‚˜ ì™„ì „ íšŒë³µ\nsetCharacter(prev=>({...prev,hp:prev.maxHp,mp:prev.maxMp}));addToCombatLog(\"ë˜ì „ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!\");// ìƒˆë¡œìš´ ì¼ë°˜ ëª¬ìŠ¤í„° ìƒì„±\nsetTimeout(()=>{spawnMonster();},1000);};// ìë™ ì „íˆ¬\nuseEffect(()=>{if(isAutoFighting&&currentMonster&&currentMonster.hp>0&&character.hp>0){const autoAttackTimer=setTimeout(()=>{attack();},2000);return()=>clearTimeout(autoAttackTimer);}},[isAutoFighting,currentMonster,character.hp]);// ìŠ¤í‚¬ ì¿¨ë‹¤ìš´ ë° MP íšŒë³µ\nuseEffect(()=>{const interval=setInterval(()=>{setCharacter(prev=>({...prev,mp:Math.min(prev.maxMp,prev.mp+1),skills:prev.skills.map(skill=>({...skill,currentCooldown:Math.max(0,skill.currentCooldown-100)})),buffs:{attack:{amount:prev.buffs.attack.duration>0?prev.buffs.attack.amount:0,duration:Math.max(0,prev.buffs.attack.duration-100)},defense:{amount:prev.buffs.defense.duration>0?prev.buffs.defense.amount:0,duration:Math.max(0,prev.buffs.defense.duration-100)},speed:{amount:prev.buffs.speed.duration>0?prev.buffs.speed.amount:0,duration:Math.max(0,prev.buffs.speed.duration-100)}}}));},100);return()=>clearInterval(interval);},[]);const addToCombatLog=message=>{setCombatLog(prev=>{const newLog=[...prev,message];if(newLog.length>50)newLog.shift();return newLog;});// Auto-scroll to bottom immediately and with backup timing\nif(logRef.current){logRef.current.scrollTop=logRef.current.scrollHeight;}// Additional scroll with slight delay to ensure content is rendered\nsetTimeout(()=>{if(logRef.current){logRef.current.scrollTop=logRef.current.scrollHeight;}},10);// Final backup scroll\nsetTimeout(()=>{if(logRef.current){logRef.current.scrollTop=logRef.current.scrollHeight;}},100);};// ìŠ¤íƒ¯ ë¶„ë°°\nconst allocateStatPoint=stat=>{if(character.stats.availablePoints<=0)return;setCharacter(prev=>({...prev,stats:{...prev.stats,[stat]:prev.stats[stat]+1,availablePoints:prev.stats.availablePoints-1},// ìŠ¤íƒ¯ì— ë”°ë¥¸ ëŠ¥ë ¥ì¹˜ ì—…ë°ì´íŠ¸\nattack:stat===\"strength\"?prev.attack+2:prev.attack,defense:stat===\"vitality\"?prev.defense+1:prev.defense,maxHp:stat===\"vitality\"?prev.maxHp+10:prev.maxHp,maxMp:stat===\"intelligence\"?prev.maxMp+5:prev.maxMp,speed:stat===\"agility\"?prev.speed+1:prev.speed}));};// ì•„ì´í…œ ì¥ì°©\nconst equipItem=item=>{// ì†Œë¹„ ì•„ì´í…œì€ ì¥ì°©í•  ìˆ˜ ì—†ìŒ\nif(item.type===\"consumable\"){return;}// ê¸°ì¡´ì— ì¥ì°©ëœ ì•„ì´í…œì´ ìˆëŠ”ì§€ í™•ì¸\nconst slot=item.type;const currentEquippedItem=character.equipment[slot];setCharacter(prev=>{const newEquipment={...prev.equipment};newEquipment[slot]=item;// ê¸°ì¡´ ì•„ì´í…œì˜ ìŠ¤íƒ¯ ì œê±°\nlet newAttack=prev.attack;let newDefense=prev.defense;let newMaxHp=prev.maxHp;let newMaxMp=prev.maxMp;let newSpeed=prev.speed;if(currentEquippedItem){if(currentEquippedItem.stats.attack)newAttack-=currentEquippedItem.stats.attack;if(currentEquippedItem.stats.defense)newDefense-=currentEquippedItem.stats.defense;if(currentEquippedItem.stats.hp)newMaxHp-=currentEquippedItem.stats.hp;if(currentEquippedItem.stats.mp)newMaxMp-=currentEquippedItem.stats.mp;if(currentEquippedItem.stats.speed)newSpeed-=currentEquippedItem.stats.speed;}// ìƒˆ ì•„ì´í…œì˜ ìŠ¤íƒ¯ ì ìš©\nif(item.stats.attack)newAttack+=item.stats.attack;if(item.stats.defense)newDefense+=item.stats.defense;if(item.stats.hp)newMaxHp+=item.stats.hp;if(item.stats.mp)newMaxMp+=item.stats.mp;if(item.stats.speed)newSpeed+=item.stats.speed;// ìŠ¤íƒ¯ì´ ìµœì†Œê°’ ì´í•˜ë¡œ ë‚´ë ¤ê°€ì§€ ì•Šë„ë¡ ë³´ì •\nnewAttack=Math.max(1,newAttack);newDefense=Math.max(0,newDefense);newMaxHp=Math.max(100,newMaxHp);newMaxMp=Math.max(50,newMaxMp);newSpeed=Math.max(1,newSpeed);return{...prev,equipment:newEquipment,attack:newAttack,defense:newDefense,maxHp:newMaxHp,maxMp:newMaxMp,speed:newSpeed,hp:Math.min(prev.hp,newMaxHp),// ìµœëŒ€ ì²´ë ¥ì´ ì¤„ì–´ë“¤ ê²½ìš° í˜„ì¬ ì²´ë ¥ë„ ì¡°ì •\nmp:Math.min(prev.mp,newMaxMp)// ìµœëŒ€ ë§ˆë‚˜ê°€ ì¤„ì–´ë“¤ ê²½ìš° í˜„ì¬ ë§ˆë‚˜ë„ ì¡°ì •\n};});// ê¸°ì¡´ì— ì¥ì°©ëœ ì•„ì´í…œì´ ìˆì—ˆë‹¤ë©´ ì¸ë²¤í† ë¦¬ë¡œ ë³´ë‚´ê¸°\nif(currentEquippedItem){setInventory(prev=>[...prev,currentEquippedItem]);addToCombatLog(`ê¸°ì¡´ ${currentEquippedItem.name}ì„ í•´ì œí•˜ê³  ${item.name}ì„ ì¥ì°©í–ˆìŠµë‹ˆë‹¤!`);}else{addToCombatLog(`${item.name}ì„ ì¥ì°©í–ˆìŠµë‹ˆë‹¤!`);}// ì¸ë²¤í† ë¦¬ì—ì„œ ìƒˆ ì•„ì´í…œ ì œê±°\nsetInventory(prev=>prev.filter(invItem=>invItem.id!==item.id));};// ì¥ë¹„ í•´ì œ\nconst unequipItem=slot=>{const equippedItem=character.equipment[slot];if(!equippedItem)return;setCharacter(prev=>{const newEquipment={...prev.equipment};newEquipment[slot]=undefined;// ì¥ì°© í•´ì œí•œ ì•„ì´í…œì˜ ìŠ¤íƒ¯ ì œê±°\nlet newAttack=prev.attack;let newDefense=prev.defense;let newMaxHp=prev.maxHp;let newMaxMp=prev.maxMp;let newSpeed=prev.speed;if(equippedItem.stats.attack)newAttack-=equippedItem.stats.attack;if(equippedItem.stats.defense)newDefense-=equippedItem.stats.defense;if(equippedItem.stats.hp)newMaxHp-=equippedItem.stats.hp;if(equippedItem.stats.mp)newMaxMp-=equippedItem.stats.mp;if(equippedItem.stats.speed)newSpeed-=equippedItem.stats.speed;// HPê°€ maxHpë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šë„ë¡ ì¡°ì •\nconst adjustedHp=Math.min(prev.hp,newMaxHp);const adjustedMp=Math.min(prev.mp,newMaxMp);return{...prev,equipment:newEquipment,attack:Math.max(1,newAttack),// ìµœì†Œ ê³µê²©ë ¥ 1\ndefense:Math.max(0,newDefense),maxHp:Math.max(100,newMaxHp),// ìµœì†Œ ì²´ë ¥ 100\nmaxMp:Math.max(50,newMaxMp),// ìµœì†Œ ë§ˆë‚˜ 50\nspeed:Math.max(1,newSpeed),// ìµœì†Œ ì†ë„ 1\nhp:adjustedHp,mp:adjustedMp};});// ì¸ë²¤í† ë¦¬ì— ì•„ì´í…œ ì¶”ê°€\nsetInventory(prev=>[...prev,equippedItem]);addToCombatLog(`${equippedItem.name}ì„ í•´ì œí–ˆìŠµë‹ˆë‹¤!`);};// ì•„ì´í…œ íŒë§¤\nconst sellItem=item=>{const sellPrice=Math.floor(item.price*0.7);setCharacter(prev=>({...prev,gold:prev.gold+sellPrice}));setInventory(prev=>prev.filter(invItem=>invItem.id!==item.id));addToCombatLog(`${item.name}ì„ ${sellPrice} ê³¨ë“œì— íŒë§¤í–ˆìŠµë‹ˆë‹¤!`);};// ì•„ì´í…œ êµ¬ë§¤\nconst buyItem=item=>{if(character.gold<item.price)return;setCharacter(prev=>({...prev,gold:prev.gold-item.price}));setInventory(prev=>[...prev,{...item,id:`${item.id}_${Date.now()}`}]);addToCombatLog(`${item.name}${t(\"rpg.combat.itemPurchased\")}`);};const getRarityColor=rarity=>{const colors={common:\"#9ca3af\",rare:\"#3b82f6\",epic:\"#8b5cf6\",legendary:\"#f59e0b\",mythic:\"#ef4444\"};return colors[rarity]||\"#9ca3af\";};// ë˜ì „ ì…ì¥ í•¨ìˆ˜\nconst enterDungeon=dungeon=>{if(dungeon.isComingSoon){addToCombatLog(t(\"rpg.combat.comingSoonDungeon\"));return;}if(character.level<dungeon.requiredLevel){addToCombatLog(`ë ˆë²¨ ${dungeon.requiredLevel} ì´ìƒì´ì–´ì•¼ ì…ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.`);return;}setCurrentDungeon(dungeon);setInDungeon(true);setGameMode(\"dungeon\");setCurrentTab(\"dungeon\");spawnDungeonMonster(dungeon);// ì´ë²¤íŠ¸ ë¡œê¹…\nonAction(\"dungeon_entered\",{dungeon_id:dungeon.id,dungeon_name:dungeon.name,character_level:character.level,floor:dungeon.currentFloor,character_attack:character.attack,character_defense:character.defense,character_hp:character.hp,character_mp:character.mp,entry_time:new Date().getTime()});};// ë˜ì „ ëª¬ìŠ¤í„° ìŠ¤í°\nconst spawnDungeonMonster=function(dungeon){let forceSpawn=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;// ì´ë¯¸ ëª¬ìŠ¤í„°ê°€ ìˆìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•ŠìŒ (ê°•ì œ ìƒì„±ì´ ì•„ë‹Œ ê²½ìš°)\nif(currentMonster&&!forceSpawn)return;// ê°•ì œ ìƒì„±ì¸ ê²½ìš° ê¸°ì¡´ ëª¬ìŠ¤í„°ë¥¼ ë¨¼ì € ì œê±°\nif(forceSpawn&&currentMonster){setCurrentMonster(null);}// ë˜ì „ë³„ ê³ ìœ  ëª¬ìŠ¤í„° íƒ€ì… ì •ì˜\nconst getDungeonMonsters=dungeonId=>{switch(dungeonId){case\"forest\":// ì–´ë‘ ì˜ ìˆ²\nreturn[{name:t(\"rpg.monsters.wolf\"),baseHp:40,baseAttack:10,baseDefense:3},{name:t(\"rpg.monsters.bear\"),baseHp:80,baseAttack:16,baseDefense:6},{name:t(\"rpg.monsters.giantSpider\"),baseHp:120,baseAttack:22,baseDefense:10},{name:\"ìˆ²ì˜ ìˆ˜í˜¸ì\",baseHp:200,baseAttack:35,baseDefense:18},{name:\"ê³ ëŒ€ ì—”íŠ¸\",baseHp:350,baseAttack:45,baseDefense:25}];case\"cave\":// ê³ ë¸”ë¦° ë™êµ´\nreturn[{name:t(\"rpg.monsters.goblinWarrior\"),baseHp:60,baseAttack:14,baseDefense:5},{name:t(\"rpg.monsters.goblinArcher\"),baseHp:45,baseAttack:18,baseDefense:3},{name:t(\"rpg.monsters.goblinMage\"),baseHp:50,baseAttack:20,baseDefense:4},{name:t(\"rpg.monsters.goblinChief\"),baseHp:180,baseAttack:30,baseDefense:15},{name:t(\"rpg.monsters.goblinKing\"),baseHp:400,baseAttack:50,baseDefense:28}];case\"tower\":// ë§ˆë²•ì‚¬ì˜ íƒ‘\nreturn[{name:t(\"rpg.monsters.magicGolem\"),baseHp:100,baseAttack:20,baseDefense:12},{name:t(\"rpg.monsters.skeletonMage\"),baseHp:70,baseAttack:25,baseDefense:8},{name:t(\"rpg.monsters.flameElemental\"),baseHp:110,baseAttack:28,baseDefense:10},{name:t(\"rpg.monsters.lich\"),baseHp:250,baseAttack:40,baseDefense:20},{name:t(\"rpg.monsters.ancientMage\"),baseHp:500,baseAttack:60,baseDefense:35}];default:return[{name:t(\"rpg.monsters.slime\"),baseHp:30,baseAttack:8,baseDefense:2},{name:t(\"rpg.monsters.goblin\"),baseHp:50,baseAttack:12,baseDefense:4},{name:t(\"rpg.monsters.orc\"),baseHp:100,baseAttack:18,baseDefense:8},{name:t(\"rpg.monsters.troll\"),baseHp:150,baseAttack:25,baseDefense:12},{name:t(\"rpg.monsters.dragon\"),baseHp:300,baseAttack:40,baseDefense:20}];}};const baseMonsters=getDungeonMonsters(dungeon.id);// ì¸µìˆ˜ì— ë”°ë¥¸ ì ì§„ì  ëª¬ìŠ¤í„° ì„ íƒ ë¡œì§\nconst floorBasedMonsterIndex=()=>{const currentFloor=dungeon.currentFloor;if(currentFloor<=3)return 0;// ì²« ë²ˆì§¸ ëª¬ìŠ¤í„° (1~3ì¸µ)\nif(currentFloor<=7)return 1;// ë‘ ë²ˆì§¸ ëª¬ìŠ¤í„° (4~7ì¸µ)\nif(currentFloor<=12)return 2;// ì„¸ ë²ˆì§¸ ëª¬ìŠ¤í„° (8~12ì¸µ)\nif(currentFloor<=18)return 3;// ë„¤ ë²ˆì§¸ ëª¬ìŠ¤í„° (13~18ì¸µ)\nreturn 4;// ë‹¤ì„¯ ë²ˆì§¸ ëª¬ìŠ¤í„° (19ì¸µ ì´ìƒ)\n};// ì¸µìˆ˜ ê¸°ë°˜ ê¸°ë³¸ ëª¬ìŠ¤í„° + ì•½ê°„ì˜ ëœë¤ì„± ì¶”ê°€\nconst baseIndex=floorBasedMonsterIndex();const randomVariation=Math.random()<0.3&&baseIndex>0?-1:0;// 30% í™•ë¥ ë¡œ í•œ ë‹¨ê³„ ë‚®ì€ ëª¬ìŠ¤í„°\nconst selectedIndex=Math.max(0,baseIndex+randomVariation);const selectedMonster=baseMonsters[selectedIndex];const levelMultiplier=1+(dungeon.level+dungeon.currentFloor-1)*0.2;const monster={id:`dungeon_${dungeon.id}_${Date.now()}`,name:selectedMonster.name,level:dungeon.level+dungeon.currentFloor,hp:Math.floor(selectedMonster.baseHp*levelMultiplier),maxHp:Math.floor(selectedMonster.baseHp*levelMultiplier),attack:Math.floor(selectedMonster.baseAttack*levelMultiplier),defense:Math.floor(selectedMonster.baseDefense*levelMultiplier),speed:10,exp:Math.floor((20+dungeon.level*8+dungeon.currentFloor*3)*levelMultiplier),gold:Math.floor((10+dungeon.level*3)*levelMultiplier),dropItems:generateDropItems(),isBoss:dungeon.currentFloor%5===0};if(monster.isBoss){monster.name=`ë³´ìŠ¤ ${monster.name}`;monster.hp*=2;monster.maxHp*=2;monster.attack*=1.5;monster.exp*=3;monster.gold*=2;}setCurrentMonster(monster);addToCombatLog(`${monster.name} Lv.${monster.level}ì´ ë‚˜íƒ€ë‚¬ë‹¤!`);};// ë¬¼ì•½ ì‚¬ìš© í•¨ìˆ˜\nconst consumeItem=item=>{if(item.type!==\"consumable\"||!item.consumableEffect)return;const effect=item.consumableEffect;// ì²´ë ¥ íšŒë³µ\nif(effect.healHp){setCharacter(prev=>({...prev,hp:Math.min(prev.maxHp,prev.hp+effect.healHp)}));addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ HP ${effect.healHp} íšŒë³µ!`);}// ë§ˆë‚˜ íšŒë³µ\nif(effect.healMp){setCharacter(prev=>({...prev,mp:Math.min(prev.maxMp,prev.mp+effect.healMp)}));addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ MP ${effect.healMp} íšŒë³µ!`);}// ë²„í”„ íš¨ê³¼\nif(effect.buffType&&effect.buffAmount&&effect.buffDuration){setCharacter(prev=>({...prev,buffs:{...prev.buffs,[effect.buffType]:{amount:effect.buffAmount,duration:effect.buffDuration}}}));addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ ${effect.buffType===\"attack\"?\"ê³µê²©ë ¥\":effect.buffType===\"defense\"?\"ë°©ì–´ë ¥\":t(\"rpg.speed\")} ${effect.buffAmount} ì¦ê°€! (${effect.buffDuration/1000}ì´ˆ)`);}// ì¸ë²¤í† ë¦¬ì—ì„œ ë¬¼ì•½ ì œê±° ë˜ëŠ” ìˆ˜ëŸ‰ ê°ì†Œ\nsetInventory(prev=>{const itemIndex=prev.findIndex(invItem=>invItem.id===item.id);if(itemIndex!==-1){const newInventory=[...prev];const currentItem=newInventory[itemIndex];if(currentItem.quantity&&currentItem.quantity>1){newInventory[itemIndex]={...currentItem,quantity:currentItem.quantity-1};}else{newInventory.splice(itemIndex,1);}return newInventory;}return prev;});// ì´ë²¤íŠ¸ ë¡œê¹…\nonAction(\"consumable_used\",{item_name:item.name,item_type:item.type,character_level:character.level,heal_hp:effect.healHp||0,heal_mp:effect.healMp||0,buff_type:effect.buffType||\"none\",buff_amount:effect.buffAmount||0,character_hp_before:character.hp,character_mp_before:character.mp,dungeon_name:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.name)||null});};// ìŠ¤í‚¬ ì‚¬ìš© í•¨ìˆ˜\nconst castSkill=skill=>{if(!skill.isLearned||skill.level===0){addToCombatLog(t(\"rpg.combat.skillLearnFirst\"));return;}if(skill.currentCooldown>0||character.mp<skill.manaCost)return;// ìŠ¤í‚¬ ì‚¬ìš© ë¡œì§\nif(skill.id===\"heal\"){const healAmount=30+skill.level*5;setCharacter(prev=>({...prev,hp:Math.min(prev.maxHp,prev.hp+healAmount),mp:prev.mp-skill.manaCost}));addToCombatLog(`${healAmount}ë§Œí¼ íšŒë³µí–ˆë‹¤!`);}else{// ê³µê²© ìŠ¤í‚¬\nif(currentMonster){const damage=calculateSkillDamage(skill,character);const newMonsterHp=Math.max(0,currentMonster.hp-damage);setCurrentMonster(prev=>prev?{...prev,hp:newMonsterHp}:null);setCharacter(prev=>({...prev,mp:prev.mp-skill.manaCost}));addToCombatLog(`${skill.name}ë¡œ ${damage} ë°ë¯¸ì§€!`);// ëª¬ìŠ¤í„°ê°€ ì£½ì§€ ì•Šì•˜ìœ¼ë©´ ë°˜ê²©\nif(newMonsterHp>0){setTimeout(()=>{monsterAttack();},1000);}else{// ëª¬ìŠ¤í„°ê°€ ì£½ì—ˆìœ¼ë©´ ì²˜ì¹˜ ì²˜ë¦¬\nsetTimeout(()=>{defeatMonster();},1500);}}}// ì¿¨ë‹¤ìš´ ì ìš©\nsetCharacter(prev=>({...prev,skills:prev.skills.map(s=>s.id===skill.id?{...s,currentCooldown:s.cooldown}:s)}));// ì´ë²¤íŠ¸ ë¡œê¹…\nonAction(\"skill_used\",{skill_name:skill.name,skill_level:skill.level,mana_cost:skill.manaCost,character_level:character.level,character_mp_before:character.mp,character_mp_after:character.mp-skill.manaCost,dungeon_name:(currentDungeon===null||currentDungeon===void 0?void 0:currentDungeon.name)||null});};// ìŠ¤íƒ¯ í¬ì¸íŠ¸ í• ë‹¹\nconst allocateStat=statName=>{if(character.stats.availablePoints<=0)return;setCharacter(prev=>({...prev,stats:{...prev.stats,[statName]:prev.stats[statName]+1,availablePoints:prev.stats.availablePoints-1}}));// ìŠ¤íƒ¯ì— ë”°ë¥¸ ëŠ¥ë ¥ì¹˜ ì—…ë°ì´íŠ¸\nlet hpBonus=0,mpBonus=0,attackBonus=0,defenseBonus=0;if(statName===\"vitality\")hpBonus=5;if(statName===\"intelligence\")mpBonus=3;if(statName===\"strength\")attackBonus=2;if(statName===\"agility\"){attackBonus=1;defenseBonus=1;}setCharacter(prev=>({...prev,maxHp:prev.maxHp+hpBonus,hp:prev.hp+hpBonus,maxMp:prev.maxMp+mpBonus,mp:prev.mp+mpBonus,attack:prev.attack+attackBonus,defense:prev.defense+defenseBonus}));// ì´ë²¤íŠ¸ ë¡œê¹…\nonAction(\"stat_allocated\",{stat_name:statName,stat_value:character.stats[statName]+1,character_level:character.level,available_points:character.stats.availablePoints-1});};// ê³µí†µ ìºë¦­í„° ì •ë³´ í—¤ë” ì»´í¬ë„ŒíŠ¸\nconst renderCharacterHeader=()=>{const expPercentage=character.exp/character.maxExp*100;return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)\",borderRadius:\"15px\",padding:\"15px 20px\",marginBottom:\"20px\",color:\"white\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(120px, 1fr))\",gap:\"15px\",marginBottom:\"15px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"20px\",fontWeight:\"bold\",color:\"#ffffff\"},children:[\"Lv.\",character.level]}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"#e0e7ff\",fontSize:\"12px\"},children:t(\"rpg.ui.level\")})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"20px\",fontWeight:\"bold\",color:\"#fbbf24\"},children:[character.gold,\"G\"]}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"#e0e7ff\",fontSize:\"12px\"},children:t(\"rpg.ui.gold\")})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"16px\",fontWeight:\"bold\",color:\"#f87171\"},children:character.attack}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"#e0e7ff\",fontSize:\"12px\"},children:t(\"rpg.ui.attack\")})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"16px\",fontWeight:\"bold\",color:\"#60a5fa\"},children:character.defense}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"#e0e7ff\",fontSize:\"12px\"},children:t(\"rpg.ui.defense\")})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"16px\",fontWeight:\"bold\",color:\"#34d399\"},children:[character.hp,\"/\",character.maxHp]}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"#e0e7ff\",fontSize:\"12px\"},children:t(\"rpg.ui.health\")})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"16px\",fontWeight:\"bold\",color:\"#a78bfa\"},children:[character.mp,\"/\",character.maxMp]}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"#e0e7ff\",fontSize:\"12px\"},children:t(\"rpg.ui.mana\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"15px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:\"5px\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"14px\",color:\"#e0e7ff\"},children:t(\"rpg.ui.exp\")}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:\"14px\",color:\"#ffffff\",fontWeight:\"bold\"},children:[character.exp,\" / \",character.maxExp,\" (\",Math.floor(expPercentage),\"%)\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",height:\"8px\",backgroundColor:\"rgba(255, 255, 255, 0.2)\",borderRadius:\"10px\",overflow:\"hidden\"},children:/*#__PURE__*/_jsx(\"div\",{style:{width:`${expPercentage}%`,height:\"100%\",background:\"linear-gradient(90deg, #fbbf24 0%, #f59e0b 100%)\",borderRadius:\"10px\",transition:\"width 0.3s ease\"}})})]})]});};// ë¡œë¹„ ë Œë”ë§\nconst renderLobbyTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\",background:\"#1f2937\",minHeight:\"600px\"},children:[renderCharacterHeader(),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:\"white\",marginBottom:\"15px\",fontSize:\"20px\"},children:[\"\\uD83C\\uDFF0 \",t(\"rpg.ui.dungeonList\")]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gap:\"15px\"},children:availableDungeons.map(dungeon=>/*#__PURE__*/_jsx(\"div\",{style:{background:dungeon.isUnlocked?\"#374151\":\"#1f2937\",borderRadius:\"10px\",padding:\"20px\",border:dungeon.isUnlocked?\"2px solid #10b981\":\"2px solid #4b5563\",opacity:dungeon.isUnlocked?1:0.6},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:\"white\",margin:\"0 0 5px 0\",fontSize:\"18px\"},children:[dungeon.name,\" (Lv.\",dungeon.level,\")\"]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#9ca3af\",margin:\"0 0 10px 0\",fontSize:\"14px\"},children:dungeon.description}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"12px\",color:\"#6b7280\"},children:[t(\"rpg.ui.requiredLevel\"),\": \",dungeon.requiredLevel,\" | \",t(\"rpg.ui.floors\"),\": \",dungeon.floors,t(\"rpg.floor\"),\" | \",t(\"rpg.ui.currentFloor\"),\": \",t(\"rpg.floorDisplay\").replace(\"{floor}\",dungeon.currentFloor.toString())]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>enterDungeon(dungeon),disabled:!dungeon.isUnlocked||character.level<dungeon.requiredLevel||dungeon.isComingSoon,style:{background:dungeon.isComingSoon?\"linear-gradient(135deg, #7c2d12 0%, #dc2626 100%)\":dungeon.isUnlocked&&character.level>=dungeon.requiredLevel?\"linear-gradient(135deg, #10b981 0%, #059669 100%)\":\"#4b5563\",color:\"white\",border:\"none\",borderRadius:\"8px\",padding:\"12px 20px\",fontSize:\"14px\",fontWeight:\"bold\",cursor:dungeon.isUnlocked&&character.level>=dungeon.requiredLevel&&!dungeon.isComingSoon?\"pointer\":\"not-allowed\",transition:\"all 0.3s ease\"},children:dungeon.isComingSoon?t(\"rpg.ui.comingSoon\"):dungeon.isUnlocked&&character.level>=dungeon.requiredLevel?t(\"rpg.ui.enter\"):t(\"rpg.ui.locked\")})]})},dungeon.id))})]})]});// ë˜ì „ íƒ­ ë Œë”ë§\nconst renderDungeonTab=()=>{if(!inDungeon||!currentDungeon){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"100px 20px\",textAlign:\"center\",background:\"#1f2937\",color:\"#9ca3af\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:t(\"rpg.dungeon.notEntered\")}),/*#__PURE__*/_jsx(\"p\",{children:t(\"rpg.dungeon.selectFromLobby\")})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\",background:\"#1f2937\",minHeight:\"600px\"},children:[renderCharacterHeader(),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, #7c2d12 0%, #dc2626 100%)\",borderRadius:\"15px\",padding:\"20px\",marginBottom:\"20px\",color:\"white\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:\"15px\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{style:{margin:\"0 0 5px 0\",fontSize:\"24px\"},children:[\"\\uD83C\\uDFF0 \",currentDungeon.name]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,opacity:0.9,fontSize:\"14px\"},children:[t(\"rpg.floorDisplay\").replace(\"{floor}\",currentDungeon.currentFloor.toString()),\" / \",t(\"rpg.floorDisplay\").replace(\"{floor}\",currentDungeon.floors.toString())]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// ë˜ì „ ë‚˜ê°€ê¸° ì´ë²¤íŠ¸ ë¡œê¹…\nonAction(\"dungeon_exited\",{dungeon_id:currentDungeon.id,dungeon_name:currentDungeon.name,current_floor:currentDungeon.currentFloor,total_floors:currentDungeon.floors,character_level:character.level,exit_reason:\"manual\",time_spent:new Date().getTime()});setInDungeon(false);setCurrentDungeon(null);setCurrentTab(\"lobby\");setGameMode(\"lobby\");},style:{background:\"#374151\",color:\"white\",border:\"none\",borderRadius:\"8px\",padding:\"10px 15px\",cursor:\"pointer\"},children:t(\"rpg.ui.exitDungeon\")})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"10px\",alignItems:\"center\",justifyContent:\"center\",padding:\"15px\",background:\"rgba(0, 0, 0, 0.2)\",borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(currentDungeon.currentFloor>1){const updatedDungeon={...currentDungeon,currentFloor:currentDungeon.currentFloor-1};setCurrentDungeon(updatedDungeon);setCurrentMonster(null);addToCombatLog(t(\"rpg.messages.movedToFloor\").replace(\"{floor}\",updatedDungeon.currentFloor.toString()));setTimeout(()=>{spawnDungeonMonster(updatedDungeon,true);},1000);}},disabled:currentDungeon.currentFloor<=1,style:{background:currentDungeon.currentFloor<=1?\"#6b7280\":\"#3b82f6\",color:\"white\",border:\"none\",borderRadius:\"6px\",padding:\"8px 12px\",cursor:currentDungeon.currentFloor<=1?\"not-allowed\":\"pointer\",fontSize:\"14px\"},children:\"\\u2B06\\uFE0F \\uC774\\uC804 \\uCE35\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:currentDungeon.floors,value:currentDungeon.currentFloor,placeholder:\"\\uCE35\",onChange:e=>{const targetFloor=parseInt(e.target.value);if(targetFloor>=1&&targetFloor<=currentDungeon.floors){// Check if all previous floors are cleared\nlet canMoveTo=true;for(let i=1;i<targetFloor;i++){if(!currentDungeon.clearedFloors.has(i)){canMoveTo=false;addToCombatLog(t(\"rpg.messages.clearRequiredForFloor\").replace(\"{requiredFloor}\",i.toString()).replace(\"{targetFloor}\",targetFloor.toString()));break;}}if(canMoveTo){const updatedDungeon={...currentDungeon,currentFloor:targetFloor};setCurrentDungeon(updatedDungeon);setCurrentMonster(null);addToCombatLog(t(\"rpg.messages.movedToFloor\").replace(\"{floor}\",targetFloor.toString()));setTimeout(()=>{spawnDungeonMonster(updatedDungeon,true);},1000);}}},style:{background:\"rgba(255, 255, 255, 0.1)\",color:\"white\",border:\"1px solid rgba(255, 255, 255, 0.3)\",borderRadius:\"6px\",padding:\"8px 12px\",fontSize:\"16px\",fontWeight:\"bold\",textAlign:\"center\",width:\"80px\"}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const nextFloor=currentDungeon.currentFloor+1;const currentFloorCleared=currentDungeon.clearedFloors.has(currentDungeon.currentFloor);if(currentDungeon.currentFloor<currentDungeon.floors&&currentFloorCleared){const updatedDungeon={...currentDungeon,currentFloor:nextFloor};setCurrentDungeon(updatedDungeon);setCurrentMonster(null);addToCombatLog(t(\"rpg.messages.movedToFloor\").replace(\"{floor}\",updatedDungeon.currentFloor.toString()));setTimeout(()=>{spawnDungeonMonster(updatedDungeon,true);},1000);}else if(!currentFloorCleared){addToCombatLog(t(\"rpg.messages.killRequiredForNext\"));}},disabled:currentDungeon.currentFloor>=currentDungeon.floors||!currentDungeon.clearedFloors.has(currentDungeon.currentFloor),style:{background:currentDungeon.currentFloor>=currentDungeon.floors||!currentDungeon.clearedFloors.has(currentDungeon.currentFloor)?\"#6b7280\":\"#10b981\",color:\"white\",border:\"none\",borderRadius:\"6px\",padding:\"8px 12px\",cursor:currentDungeon.currentFloor>=currentDungeon.floors||!currentDungeon.clearedFloors.has(currentDungeon.currentFloor)?\"not-allowed\":\"pointer\",fontSize:\"14px\"},children:\"\\u2B07\\uFE0F \\uB2E4\\uC74C \\uCE35\"})]})]}),showDungeonChoice&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)\",borderRadius:\"15px\",padding:\"20px\",marginBottom:\"20px\",color:\"white\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"18px\",fontWeight:\"bold\",marginBottom:\"10px\"},children:t(\"rpg.messages.movingToNext\")}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"rgba(255, 255, 255, 0.2)\",borderRadius:\"10px\",height:\"8px\",overflow:\"hidden\",marginBottom:\"10px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{background:\"linear-gradient(90deg, #10b981, #059669)\",height:\"100%\",width:\"100%\",borderRadius:\"10px\",animation:\"progress 3s linear\"}})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"14px\",opacity:0.9},children:\"\\uC7A0\\uC2DC\\uB9CC \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694...\"})]}),currentMonster&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#374151\",borderRadius:\"15px\",padding:\"20px\",marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:\"20px\",marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"80px\",height:\"80px\",background:\"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)\",borderRadius:\"50%\",margin:\"0 auto 10px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:\"30px\"},children:\"\\u2694\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:\"white\",marginBottom:\"10px\"},children:[character.name,\" Lv.\",character.level]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#1f2937\",borderRadius:\"10px\",padding:\"5px\",marginBottom:\"5px\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:\"linear-gradient(90deg, #ef4444 0%, #dc2626 100%)\",height:\"8px\",borderRadius:\"4px\",width:`${character.hp/character.maxHp*100}%`}}),/*#__PURE__*/_jsxs(\"div\",{style:{color:\"white\",fontSize:\"12px\",marginTop:\"5px\"},children:[\"HP: \",character.hp,\"/\",character.maxHp]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"80px\",height:\"80px\",background:\"linear-gradient(135deg, #dc2626 0%, #991b1b 100%)\",borderRadius:\"50%\",margin:\"0 auto 10px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:\"30px\"},children:\"\\uD83D\\uDC79\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:\"white\",marginBottom:\"10px\"},children:[currentMonster.name,\" Lv.\",currentMonster.level,currentMonster.isBoss&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"#fbbf24\"},children:\" \\uD83D\\uDC51\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#1f2937\",borderRadius:\"10px\",padding:\"5px\",marginBottom:\"5px\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:\"linear-gradient(90deg, #ef4444 0%, #dc2626 100%)\",height:\"8px\",borderRadius:\"4px\",width:`${currentMonster.hp/currentMonster.maxHp*100}%`}}),/*#__PURE__*/_jsxs(\"div\",{style:{color:\"white\",fontSize:\"12px\",marginTop:\"5px\"},children:[\"HP: \",currentMonster.hp,\"/\",currentMonster.maxHp]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"10px\",justifyContent:\"center\",marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:attack,disabled:character.hp<=0,style:{background:\"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)\",color:\"white\",border:\"none\",borderRadius:\"10px\",padding:\"12px 24px\",fontSize:\"16px\",fontWeight:\"bold\",cursor:character.hp>0?\"pointer\":\"not-allowed\",opacity:character.hp>0?1:0.5},children:[\"\\u2694\\uFE0F \",t(\"rpg.ui.attackButton\")]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsAutoFighting(!isAutoFighting),style:{background:isAutoFighting?\"linear-gradient(135deg, #dc2626 0%, #991b1b 100%)\":\"linear-gradient(135deg, #10b981 0%, #059669 100%)\",color:\"white\",border:\"none\",borderRadius:\"10px\",padding:\"12px 24px\",fontSize:\"16px\",fontWeight:\"bold\",cursor:\"pointer\"},children:isAutoFighting?\"â¸ï¸ ìë™ ì¤‘ì§€\":`â–¶ï¸ ${t(\"rpg.ui.autoFight\")}`})]}),character.skills.filter(skill=>skill.type===\"active\"&&skill.isLearned&&skill.level>0).length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:\"white\",marginBottom:\"10px\",textAlign:\"center\",fontSize:\"16px\"},children:[\"\\u2728 \\uC2A4\\uD0AC \\uC0AC\\uC6A9 (MP: \",character.mp,\"/\",character.maxMp,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:\"8px\",justifyContent:\"center\",flexWrap:\"wrap\"},children:character.skills.filter(skill=>skill.type===\"active\"&&skill.isLearned&&skill.level>0).map(skill=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>castSkill(skill),disabled:character.hp<=0||skill.currentCooldown>0||character.mp<skill.manaCost,style:{background:character.hp>0&&skill.currentCooldown===0&&character.mp>=skill.manaCost?\"linear-gradient(135deg, #7c3aed 0%, #a855f7 100%)\":\"#4b5563\",color:\"white\",border:\"none\",borderRadius:\"8px\",padding:\"10px 16px\",fontSize:\"14px\",fontWeight:\"bold\",cursor:character.hp>0&&skill.currentCooldown===0&&character.mp>=skill.manaCost?\"pointer\":\"not-allowed\",opacity:character.hp>0&&skill.currentCooldown===0&&character.mp>=skill.manaCost?1:0.6,position:\"relative\"},title:`${skill.description}\\nëŒ€ë¯¸ì§€: ${calculateSkillDamage(skill,character)} | ë§ˆë‚˜: ${skill.manaCost}`,children:[/*#__PURE__*/_jsx(\"div\",{children:skill.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"10px\",opacity:0.8},children:[\"MP: \",skill.manaCost,skill.currentCooldown>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" | \",(skill.currentCooldown/1000).toFixed(1),\"s\"]})]})]},skill.id))})]}),inventory.filter(item=>item.type===\"consumable\").length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:\"white\",marginBottom:\"10px\",textAlign:\"center\",fontSize:\"16px\"},children:\"\\uD83E\\uDDEA \\uBB3C\\uC57D \\uC0AC\\uC6A9\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:\"8px\",justifyContent:\"center\",flexWrap:\"wrap\"},children:inventory.filter(item=>item.type===\"consumable\").map(item=>{var _item$consumableEffec,_item$consumableEffec2,_item$consumableEffec3,_item$consumableEffec4,_item$consumableEffec5;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>consumeItem(item),disabled:character.hp<=0,style:{background:character.hp>0?`linear-gradient(135deg, ${getRarityColor(item.rarity)} 0%, #374151 100%)`:\"#4b5563\",color:\"white\",border:\"none\",borderRadius:\"8px\",padding:\"8px 12px\",fontSize:\"12px\",fontWeight:\"bold\",cursor:character.hp>0?\"pointer\":\"not-allowed\",opacity:character.hp>0?1:0.6,position:\"relative\"},title:`${item.name}\\n${(_item$consumableEffec=item.consumableEffect)!==null&&_item$consumableEffec!==void 0&&_item$consumableEffec.healHp?`HP +${item.consumableEffect.healHp}`:\"\"}${(_item$consumableEffec2=item.consumableEffect)!==null&&_item$consumableEffec2!==void 0&&_item$consumableEffec2.healMp?`MP +${item.consumableEffect.healMp}`:\"\"}${(_item$consumableEffec3=item.consumableEffect)!==null&&_item$consumableEffec3!==void 0&&_item$consumableEffec3.buffType?`${item.consumableEffect.buffType} +${item.consumableEffect.buffAmount}`:\"\"}`,children:[/*#__PURE__*/_jsx(\"div\",{children:item.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"10px\",opacity:0.8},children:[item.quantity&&item.quantity>1?`x${item.quantity}`:\"\",((_item$consumableEffec4=item.consumableEffect)===null||_item$consumableEffec4===void 0?void 0:_item$consumableEffec4.healHp)&&` HP+${item.consumableEffect.healHp}`,((_item$consumableEffec5=item.consumableEffect)===null||_item$consumableEffec5===void 0?void 0:_item$consumableEffec5.healMp)&&` MP+${item.consumableEffect.healMp}`]})]},item.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#1f2937\",borderRadius:\"10px\",padding:\"15px\",height:\"200px\",overflowY:\"auto\",fontSize:\"14px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:\"#9ca3af\",marginBottom:\"10px\",fontWeight:\"bold\"},children:[t(\"rpg.ui.combatLog\"),\":\"]}),combatLog.slice(-10).map((log,index)=>/*#__PURE__*/_jsx(\"div\",{style:{color:\"#e5e7eb\",marginBottom:\"5px\",lineHeight:\"1.4\"},children:log},index))]})]})]});};// ìºë¦­í„° íƒ­ ë Œë”ë§ (RPG ìŠ¤íƒ€ì¼ UI)\nconst renderCharacterTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\",background:\"#1f2937\",minHeight:\"600px\"},children:[renderCharacterHeader(),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, #1e293b 0%, #334155 100%)\",border:\"2px solid #475569\",borderRadius:\"12px\",padding:\"20px\",display:\"flex\",gap:\"30px\",minHeight:\"500px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:\"0 0 300px\"},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:\"#f1f5f9\",margin:\"0 0 20px 0\",fontSize:\"18px\",fontWeight:\"bold\",textAlign:\"center\"},children:[\"\\u2694\\uFE0F \",t(\"rpg.stats.equipment\")]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(3, 1fr)\",gap:\"10px\",marginBottom:\"20px\"},children:[renderEquipmentSlot(\"helmet\",\"â›‘ï¸\"),/*#__PURE__*/_jsx(\"div\",{}),\" \",/*#__PURE__*/_jsx(\"div\",{}),\" \",renderEquipmentSlot(\"ring\",\"ğŸ’\"),renderEquipmentSlot(\"armor\",\"ğŸ›¡ï¸\"),renderEquipmentSlot(\"weapon\",\"âš”ï¸\"),renderEquipmentSlot(\"boots\",\"ğŸ‘¢\"),renderEquipmentSlot(\"amulet\",\"ğŸ“¿\"),/*#__PURE__*/_jsx(\"div\",{}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:\"1\"},children:[character.stats.availablePoints>0&&/*#__PURE__*/_jsx(\"div\",{style:{background:\"rgba(16, 185, 129, 0.2)\",border:\"1px solid #10b981\",borderRadius:\"8px\",padding:\"12px\",marginBottom:\"20px\",textAlign:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{color:\"#10b981\",fontSize:\"16px\",fontWeight:\"bold\"},children:[\"\\uC0AC\\uC6A9 \\uAC00\\uB2A5\\uD55C \\uD3EC\\uC778\\uD2B8: \",character.stats.availablePoints]})}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"rgba(15, 23, 42, 0.8)\",border:\"1px solid #475569\",borderRadius:\"8px\",padding:\"15px\",marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:\"#f1f5f9\",margin:\"0 0 15px 0\",fontSize:\"16px\",fontWeight:\"bold\"},children:[\"\\uD83D\\uDCCA \",t(\"rpg.stats.baseStats\")]}),[{key:\"strength\",name:t(\"rpg.stats.strength\"),icon:\"ğŸ’ª\",color:\"#dc2626\",bonus:character.stats.strength*2,bonusType:t(\"rpg.character.attack\")},{key:\"agility\",name:t(\"rpg.stats.agility\"),icon:\"âš¡\",color:\"#10b981\",bonus:character.stats.agility,bonusType:t(\"rpg.speed\")},{key:\"vitality\",name:t(\"rpg.stats.vitality\"),icon:\"ğŸ›¡ï¸\",color:\"#3b82f6\",bonus:character.stats.vitality*10,bonusType:\"HP\"},{key:\"intelligence\",name:t(\"rpg.stats.intelligence\"),icon:\"ğŸ§ \",color:\"#7c3aed\",bonus:character.stats.intelligence*5,bonusType:\"MP\"}].map(stat=>/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",padding:\"8px 0\",borderBottom:\"1px solid rgba(71, 85, 105, 0.3)\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"10px\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"16px\"},children:stat.icon}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"#f1f5f9\",fontSize:\"14px\"},children:stat.name}),/*#__PURE__*/_jsx(\"span\",{style:{color:stat.color,fontSize:\"16px\",fontWeight:\"bold\"},children:character.stats[stat.key]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"10px\"},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:stat.color,fontSize:\"12px\"},children:[\"+\",stat.bonus,\" \",stat.bonusType]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>allocateStat(stat.key),disabled:character.stats.availablePoints<=0,style:{background:character.stats.availablePoints>0?stat.color:\"#4b5563\",color:\"white\",border:\"none\",borderRadius:\"4px\",padding:\"4px 8px\",fontSize:\"12px\",cursor:character.stats.availablePoints>0?\"pointer\":\"not-allowed\",minWidth:\"24px\"},children:\"+\"})]})]},stat.key))]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"rgba(15, 23, 42, 0.8)\",border:\"1px solid #475569\",borderRadius:\"8px\",padding:\"15px\"},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:\"#f1f5f9\",margin:\"0 0 15px 0\",fontSize:\"16px\",fontWeight:\"bold\"},children:[\"\\u2694\\uFE0F \",t(\"rpg.stats.combatStats\")]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:\"15px\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:\"#dc2626\",fontSize:\"14px\",fontWeight:\"bold\"},children:t(\"rpg.character.attack\")}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"#f1f5f9\",fontSize:\"18px\",fontWeight:\"bold\"},children:character.attack})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:\"#3b82f6\",fontSize:\"14px\",fontWeight:\"bold\"},children:t(\"rpg.stats.defense\")}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"#f1f5f9\",fontSize:\"18px\",fontWeight:\"bold\"},children:character.defense})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:\"#ef4444\",fontSize:\"14px\",fontWeight:\"bold\"},children:t(\"rpg.stats.vitality\")}),/*#__PURE__*/_jsxs(\"div\",{style:{color:\"#f1f5f9\",fontSize:\"16px\"},children:[character.hp,\" / \",character.maxHp]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:\"#8b5cf6\",fontSize:\"14px\",fontWeight:\"bold\"},children:\"\\uB9C8\\uB098\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:\"#f1f5f9\",fontSize:\"16px\"},children:[character.mp,\" / \",character.maxMp]})]})]})]})]})]})]});// ì¥ë¹„ ìŠ¬ë¡¯ ë Œë”ë§ í•¨ìˆ˜\nconst renderEquipmentSlot=(slot,icon)=>{const item=character.equipment[slot];const rarityColor=(item===null||item===void 0?void 0:item.rarity)===\"legendary\"?\"#f59e0b\":(item===null||item===void 0?void 0:item.rarity)===\"epic\"?\"#a855f7\":(item===null||item===void 0?void 0:item.rarity)===\"rare\"?\"#3b82f6\":(item===null||item===void 0?void 0:item.rarity)===\"mythic\"?\"#ef4444\":\"#9ca3af\";return/*#__PURE__*/_jsx(\"div\",{style:{width:\"70px\",height:\"70px\",background:item?\"rgba(16, 185, 129, 0.2)\":\"rgba(71, 85, 105, 0.3)\",border:item?`2px solid ${rarityColor}`:\"2px solid #475569\",borderRadius:\"8px\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",position:\"relative\",cursor:item?\"pointer\":\"default\"},children:item?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"24px\"},children:icon}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"8px\",color:rarityColor,fontWeight:\"bold\",textAlign:\"center\",lineHeight:\"1\"},children:item.name.length>6?item.name.substring(0,6)+\"...\":item.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>unequipItem(slot),style:{position:\"absolute\",top:\"-5px\",right:\"-5px\",background:\"#dc2626\",color:\"white\",border:\"none\",borderRadius:\"50%\",width:\"16px\",height:\"16px\",fontSize:\"10px\",cursor:\"pointer\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},children:\"\\xD7\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"24px\",opacity:0.3},children:icon})});};// ì¸ë²¤í† ë¦¬ íƒ­ ë Œë”ë§\n// ì•„ì´í…œ ì•„ì´ì½˜ ë§µí•‘\nconst getItemIcon=item=>{const iconMap={// ë¬´ê¸°ë“¤\n\"sword1\":\"âš”ï¸\",\"steel_sword\":\"ğŸ—¡ï¸\",\"enchanted_sword\":\"âœ¨\",\"dragon_sword\":\"ğŸ‰\",\"iron-sword\":\"âš”ï¸\",\"steel-sword\":\"ğŸ—¡ï¸\",\"magic-sword\":\"âš¡\",\"legendary-sword\":\"ğŸ”¥\",\"dragon-slayer\":\"ğŸ‰\",// ë°©ì–´êµ¬ë“¤\n\"armor1\":\"ğŸ¦º\",\"plate_armor\":\"ğŸ›¡ï¸\",\"dragon_armor\":\"ğŸ²\",\"leather-armor\":\"ğŸ›¡ï¸\",\"iron-armor\":\"â›¨\",\"steel-armor\":\"ğŸ›¡ï¸\",\"magic-armor\":\"âœ¨\",// íˆ¬êµ¬ë“¤\n\"helmet1\":\"â›‘ï¸\",\"steel_helmet\":\"ğŸª–\",\"mystic_helmet\":\"ğŸ‘‘\",\"iron-helmet\":\"â›‘ï¸\",\"steel-helmet\":\"ğŸ‘‘\",\"magic-helmet\":\"ğŸ’\",// ë¶€ì¸ ë“¤\n\"boots1\":\"ğŸ‘¢\",\"steel_boots\":\"ğŸ¥¾\",\"mystic_boots\":\"âœ¨\",\"leather-boots\":\"ğŸ‘¢\",\"iron-boots\":\"ğŸ¥¾\",\"magic-boots\":\"âš¡\",// ë°˜ì§€ë“¤\n\"ring1\":\"ğŸ’\",\"power_ring\":\"ğŸ’\",\"mystic_ring\":\"ğŸ”®\",\"power-ring\":\"ğŸ’\",\"magic-ring\":\"ğŸ’«\",\"health-ring\":\"â¤ï¸\",\"defense-ring\":\"ğŸ›¡ï¸\",// ì†Œëª¨í’ˆë“¤\n\"health_potion\":\"â¤ï¸\",\"mana_potion\":\"ğŸ’™\",\"greater_health_potion\":\"ğŸ’–\",\"greater_mana_potion\":\"ğŸ’\",\"strength_potion\":\"ğŸ’ª\",\"defense_potion\":\"ğŸ›¡ï¸\",\"speed_potion\":\"ğŸ’¨\",\"health-potion\":\"ğŸ§ª\",\"mana-potion\":\"ğŸ’™\",\"strength-potion\":\"ğŸ’ª\",// íƒ€ì…ë³„ ê¸°ë³¸ ì•„ì´ì½˜\nweapon:\"âš”ï¸\",armor:\"ğŸ›¡ï¸\",helmet:\"â›‘ï¸\",boots:\"ğŸ‘¢\",ring:\"ğŸ’\",consumable:\"ğŸ§ª\"};// IDë¡œ ë¨¼ì € ì°¾ê³ , ì—†ìœ¼ë©´ íƒ€ì…ìœ¼ë¡œ ì°¾ê¸°\nreturn iconMap[item.id]||iconMap[item.type]||\"ğŸ“¦\";};// ì„ íƒëœ ì•„ì´í…œ ìƒì„¸ ì •ë³´\nconst[selectedItem,setSelectedItem]=useState(null);const renderInventoryTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\",background:\"#1f2937\",minHeight:\"600px\"},children:[renderCharacterHeader(),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:\"white\",marginBottom:\"15px\"},children:[\"\\uD83D\\uDCE6 \",t(\"rpg.inventory.items\"),\" (\",inventory.length,\"/50)\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(10, 1fr)\",gap:\"4px\",background:\"rgba(0, 0, 0, 0.3)\",padding:\"15px\",borderRadius:\"10px\",border:\"2px solid #4b5563\"},children:Array.from({length:50},(_,index)=>{const item=inventory[index];const isEmpty=!item;return/*#__PURE__*/_jsx(\"div\",{onClick:()=>item&&setSelectedItem(item),style:{width:\"50px\",height:\"50px\",background:isEmpty?\"rgba(255, 255, 255, 0.05)\":\"rgba(255, 255, 255, 0.1)\",border:isEmpty?\"1px solid #374151\":`2px solid ${getRarityColor(item.rarity)}`,borderRadius:\"8px\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",cursor:item?\"pointer\":\"default\",position:\"relative\",transition:\"all 0.2s ease\"},onMouseEnter:e=>{if(item){e.currentTarget.style.transform=\"scale(1.05)\";e.currentTarget.style.boxShadow=`0 0 15px ${getRarityColor(item.rarity)}50`;}},onMouseLeave:e=>{if(item){e.currentTarget.style.transform=\"scale(1)\";e.currentTarget.style.boxShadow=\"none\";}},children:item&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"24px\"},children:getItemIcon(item)}),inventory.filter(inv=>inv.name===item.name).length>1&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",bottom:\"2px\",right:\"2px\",background:\"#000\",color:\"white\",fontSize:\"10px\",padding:\"1px 3px\",borderRadius:\"3px\",lineHeight:\"1\"},children:inventory.filter(inv=>inv.name===item.name).length})]})},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"300px\"},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:\"white\",marginBottom:\"15px\"},children:[\"\\uD83D\\uDCCB \",t(\"rpg.inventory.itemInfo\")]}),selectedItem?/*#__PURE__*/_jsxs(\"div\",{style:{background:\"rgba(255, 255, 255, 0.1)\",border:`2px solid ${getRarityColor(selectedItem.rarity)}`,borderRadius:\"10px\",padding:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"48px\",marginBottom:\"10px\"},children:getItemIcon(selectedItem)}),/*#__PURE__*/_jsx(\"h4\",{style:{color:getRarityColor(selectedItem.rarity),margin:\"0 0 5px 0\",fontSize:\"18px\",fontWeight:\"bold\"},children:selectedItem.name}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#9ca3af\",margin:\"0 0 15px 0\",fontSize:\"14px\",textTransform:\"capitalize\"},children:[selectedItem.type,\" \\u2022 \",selectedItem.rarity]})]}),selectedItem.stats&&Object.keys(selectedItem.stats).length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"h5\",{style:{color:\"white\",margin:\"0 0 10px 0\",fontSize:\"14px\"},children:t(\"rpg.item.stats\")}),Object.entries(selectedItem.stats).map(_ref4=>{let[stat,value]=_ref4;return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",color:\"#10b981\",fontSize:\"12px\",marginBottom:\"5px\"},children:[/*#__PURE__*/_jsx(\"span\",{children:stat===\"attack\"?\"ê³µê²©ë ¥\":stat===\"defense\"?\"ë°©ì–´ë ¥\":stat===\"hp\"?\"ì²´ë ¥\":stat===\"mp\"?t(\"rpg.ui.mana\"):stat}),/*#__PURE__*/_jsxs(\"span\",{children:[\"+\",value]})]},stat);})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"h5\",{style:{color:\"white\",margin:\"0 0 10px 0\",fontSize:\"14px\"},children:t(\"rpg.shop.price\")}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#f59e0b\",fontSize:\"12px\",margin:0},children:[selectedItem.price.toLocaleString(),\"G\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"10px\"},children:[selectedItem.type!==\"consumable\"&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{equipItem(selectedItem);setSelectedItem(null);},style:{background:\"linear-gradient(135deg, #10b981 0%, #059669 100%)\",color:\"white\",border:\"none\",borderRadius:\"6px\",padding:\"10px\",fontSize:\"14px\",cursor:\"pointer\",fontWeight:\"bold\"},children:\"\\uC7A5\\uCC29\"}),selectedItem.type===\"consumable\"&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// ì‚¬ìš© ë¡œì§ (ì„ì‹œ)\nconsole.log(\"Use item:\",selectedItem.name);setSelectedItem(null);},style:{background:\"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)\",color:\"white\",border:\"none\",borderRadius:\"6px\",padding:\"10px\",fontSize:\"14px\",cursor:\"pointer\",fontWeight:\"bold\"},children:\"\\uC0AC\\uC6A9\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{const sellPrice=Math.floor(selectedItem.price*0.7);setCharacter(prev=>({...prev,gold:prev.gold+sellPrice}));setInventory(prev=>prev.filter(invItem=>invItem.id!==selectedItem.id));addToCombatLog(`${selectedItem.name}ì„ ${sellPrice} ê³¨ë“œì— íŒë§¤í–ˆìŠµë‹ˆë‹¤!`);setSelectedItem(null);},style:{background:\"#dc2626\",color:\"white\",border:\"none\",borderRadius:\"6px\",padding:\"10px\",fontSize:\"14px\",cursor:\"pointer\"},children:[\"\\uD310\\uB9E4 (\",Math.floor(selectedItem.price*0.7),\"G)\"]})]})]}):/*#__PURE__*/_jsx(\"div\",{style:{background:\"rgba(255, 255, 255, 0.05)\",borderRadius:\"10px\",padding:\"40px\",textAlign:\"center\",color:\"#6b7280\"},children:/*#__PURE__*/_jsx(\"p\",{children:t(\"rpg.inventory.clickForInfo\")})})]})]})]});// ìƒì  ì¹´í…Œê³ ë¦¬ ìƒíƒœ\nconst[shopCategory,setShopCategory]=useState(\"equipment\");const[selectedShopItem,setSelectedShopItem]=useState(null);const renderShopTab=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\",background:\"#1f2937\",minHeight:\"600px\"},children:[renderCharacterHeader(),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",background:\"rgba(255, 255, 255, 0.1)\",borderRadius:\"10px\",marginBottom:\"20px\",overflow:\"hidden\"},children:[{id:\"equipment\",label:t(\"rpg.shop.equipment\"),icon:\"âš”ï¸\",color:\"#10b981\"},{id:\"consumable\",label:t(\"rpg.shop.consumable\"),icon:\"ğŸ§ª\",color:\"#f59e0b\"}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShopCategory(tab.id),style:{flex:1,padding:\"15px 20px\",background:shopCategory===tab.id?`linear-gradient(135deg, ${tab.color} 0%, ${tab.color}AA 100%)`:\"transparent\",color:shopCategory===tab.id?\"white\":\"#9ca3af\",border:\"none\",cursor:\"pointer\",fontSize:\"14px\",fontWeight:shopCategory===tab.id?\"bold\":\"normal\",transition:\"all 0.3s ease\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",gap:\"8px\"},children:[/*#__PURE__*/_jsx(\"span\",{children:tab.icon}),/*#__PURE__*/_jsx(\"span\",{children:tab.label})]},tab.id))}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:\"white\",marginBottom:\"15px\",fontSize:\"16px\"},children:shopCategory===\"equipment\"?`âš”ï¸ ${t(\"rpg.shop.equipment\")} ${t(\"rpg.shop\")}`:`ğŸ§ª ${t(\"rpg.shop.consumable\")} ${t(\"rpg.shop\")}`}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(8, 1fr)\",gap:\"6px\",background:\"rgba(0, 0, 0, 0.3)\",padding:\"15px\",borderRadius:\"10px\",border:\"2px solid #4b5563\",minHeight:\"400px\"},children:Array.from({length:32},(_,index)=>{let items=[];if(shopCategory===\"equipment\"){// ì¥ë¹„ ì•„ì´í…œ (ë¬´ê¸°, ë°©ì–´êµ¬, íˆ¬êµ¬, ë¶€ì¸ , ë°˜ì§€)\nitems=shop.filter(item=>item.type!==\"consumable\");}else{// ì†Œëª¨í’ˆ ì•„ì´í…œ\nitems=shop.filter(item=>item.type===\"consumable\");}const item=items[index];const isEmpty=!item;const canAfford=character.gold>=((item===null||item===void 0?void 0:item.price)||0);return/*#__PURE__*/_jsx(\"div\",{onClick:()=>item&&setSelectedShopItem(item),style:{width:\"50px\",height:\"50px\",background:isEmpty?\"rgba(255, 255, 255, 0.05)\":canAfford?\"rgba(16, 185, 129, 0.1)\":\"rgba(107, 114, 128, 0.1)\",border:isEmpty?\"1px solid #374151\":`2px solid ${getRarityColor(item.rarity)}`,borderRadius:\"8px\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",cursor:item?\"pointer\":\"default\",position:\"relative\",transition:\"all 0.2s ease\"},onMouseEnter:e=>{if(item){e.currentTarget.style.transform=\"scale(1.1)\";e.currentTarget.style.boxShadow=`0 0 15px ${getRarityColor(item.rarity)}50`;}},onMouseLeave:e=>{if(item){e.currentTarget.style.transform=\"scale(1)\";e.currentTarget.style.boxShadow=\"none\";}},children:item&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"20px\",opacity:canAfford?1:0.5},children:getItemIcon(item)}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",bottom:\"2px\",right:\"2px\",background:canAfford?\"#10b981\":\"#dc2626\",color:\"white\",fontSize:\"8px\",padding:\"1px 3px\",borderRadius:\"3px\",lineHeight:\"1\"},children:[item.price>=1000?`${Math.floor(item.price/1000)}K`:item.price,\"G\"]})]})},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"300px\"},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:\"white\",marginBottom:\"15px\",fontSize:\"16px\"},children:[\"\\uD83D\\uDCCB \",t(\"rpg.shop.itemInfo\")]}),selectedShopItem?/*#__PURE__*/_jsxs(\"div\",{style:{background:\"rgba(255, 255, 255, 0.1)\",border:`2px solid ${getRarityColor(selectedShopItem.rarity)}`,borderRadius:\"10px\",padding:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"48px\",marginBottom:\"10px\"},children:getItemIcon(selectedShopItem)}),/*#__PURE__*/_jsx(\"h4\",{style:{color:getRarityColor(selectedShopItem.rarity),margin:\"0 0 5px 0\",fontSize:\"18px\",fontWeight:\"bold\"},children:selectedShopItem.name}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#9ca3af\",margin:\"0 0 15px 0\",fontSize:\"14px\",textTransform:\"capitalize\"},children:[selectedShopItem.type,\" \\u2022 Lv.\",selectedShopItem.level,\" \\u2022\",\" \",selectedShopItem.rarity]})]}),selectedShopItem.stats&&Object.keys(selectedShopItem.stats).length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"h5\",{style:{color:\"white\",margin:\"0 0 10px 0\",fontSize:\"14px\"},children:t(\"rpg.item.stats\")}),Object.entries(selectedShopItem.stats).map(_ref5=>{let[stat,value]=_ref5;return value>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",color:\"#10b981\",fontSize:\"12px\",marginBottom:\"5px\"},children:[/*#__PURE__*/_jsx(\"span\",{children:stat===\"attack\"?t(\"rpg.attackWithIcon\"):stat===\"defense\"?t(\"rpg.defenseWithIcon\"):stat===\"hp\"?t(\"rpg.healthWithIcon\"):stat===\"mp\"?\"ğŸ’™ ë§ˆë‚˜\":stat===\"speed\"?`ğŸ’¨ ${t(\"rpg.speed\")}`:stat===\"critRate\"?\"ğŸ’¥ í¬ë¦¬í‹°ì»¬\":stat}),/*#__PURE__*/_jsxs(\"span\",{children:[\"+\",value]})]},stat);})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"h5\",{style:{color:\"white\",margin:\"0 0 10px 0\",fontSize:\"14px\"},children:t(\"rpg.shop.price\")}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#f59e0b\",fontSize:\"14px\",margin:0,fontWeight:\"bold\"},children:[selectedShopItem.price.toLocaleString(),t(\"rpg.item.gold\")]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"10px\"},children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{buyItem(selectedShopItem);setSelectedShopItem(null);},disabled:character.gold<selectedShopItem.price,style:{background:character.gold>=selectedShopItem.price?\"linear-gradient(135deg, #10b981 0%, #059669 100%)\":\"#6b7280\",color:\"white\",border:\"none\",borderRadius:\"6px\",padding:\"12px\",fontSize:\"14px\",cursor:character.gold>=selectedShopItem.price?\"pointer\":\"not-allowed\",fontWeight:\"bold\"},children:[t(\"rpg.shop.buy\"),\" (\",selectedShopItem.price.toLocaleString(),\"G)\"]})})]}):/*#__PURE__*/_jsx(\"div\",{style:{background:\"rgba(255, 255, 255, 0.05)\",borderRadius:\"10px\",padding:\"40px\",textAlign:\"center\",color:\"#6b7280\"},children:/*#__PURE__*/_jsx(\"p\",{children:t(\"rpg.item.clickForInfo\")})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",padding:\"15px 20px\",background:\"rgba(255, 255, 255, 0.1)\",borderRadius:\"10px\",marginTop:\"20px\",border:\"2px solid #4b5563\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"14px\",opacity:0.9,color:\"white\"},children:t(\"rpg.item.ownedGold\")}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"20px\",fontWeight:\"bold\",color:\"#f59e0b\"},children:[character.gold.toLocaleString(),\"G\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"right\"},children:/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"12px\",opacity:0.8,color:\"#9ca3af\"},children:shopCategory===\"equipment\"?t(\"rpg.shop.equipment.description\"):t(\"rpg.shop.consumables.description\")})})]})]});const renderTabs=()=>/*#__PURE__*/_jsx(\"div\",{style:{background:\"#374151\",display:\"flex\",borderRadius:\"15px 15px 0 0\",overflow:\"hidden\"},children:[{id:\"lobby\",name:t(\"rpg.tabs.lobby\"),icon:\"ğŸ \"},{id:\"character\",name:t(\"rpg.tabs.character\"),icon:\"ğŸ‘¤\"},{id:\"inventory\",name:t(\"rpg.tabs.inventory\"),icon:\"ğŸ’\"},{id:\"skills\",name:t(\"rpg.tabs.skills\"),icon:\"âœ¨\"},{id:\"dungeon\",name:t(\"rpg.tabs.dungeon\"),icon:\"ğŸ°\"},{id:\"shop\",name:t(\"rpg.tabs.shop\"),icon:\"ğŸ›’\"}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentTab(tab.id),style:{background:currentTab===tab.id?colors.accent:\"transparent\",color:colors.text,border:\"none\",padding:\"15px 20px\",fontSize:\"14px\",cursor:\"pointer\",flex:1,transition:\"all 0.3s ease\"},children:[/*#__PURE__*/_jsx(\"div\",{children:tab.icon}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"12px\",marginTop:\"5px\"},children:tab.name})]},tab.id))});return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\",maxWidth:\"1200px\",margin:\"0 auto\",background:colors.cardBg,borderRadius:\"20px\",overflow:\"hidden\",boxShadow:\"0 20px 60px rgba(0, 0, 0, 0.3)\",fontFamily:'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',border:`1px solid ${colors.cardBorder}`},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:colors.backgroundSecondary,padding:\"20px\",textAlign:\"center\",position:\"relative\",overflow:\"hidden\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",top:0,left:0,right:0,bottom:0,background:\"radial-gradient(circle at 50% 50%, rgba(147, 51, 234, 0.3) 0%, transparent 70%)\"}}),/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,fontSize:\"32px\",fontWeight:\"bold\",color:colors.text,textShadow:\"0 4px 20px rgba(147, 51, 234, 0.5)\",position:\"relative\",zIndex:1},children:t(\"rpg.title\")}),/*#__PURE__*/_jsx(\"p\",{style:{margin:\"10px 0 0 0\",color:colors.textSecondary,fontSize:\"16px\",position:\"relative\",zIndex:1},children:t(\"rpg.subtitle\")})]}),renderTabs(),currentTab===\"lobby\"&&renderLobbyTab(),currentTab===\"dungeon\"&&renderDungeonTab(),currentTab===\"character\"&&renderCharacterTab(),currentTab===\"inventory\"&&renderInventoryTab(),currentTab===\"skills\"&&renderSkillsTab(),currentTab===\"shop\"&&renderShopTab()]});};","map":{"version":3,"names":["React","useState","useEffect","useRef","useTheme","useLanguage","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","AdvancedIdleRPG","_ref","onAction","isSimulating","currentAction","userStats","setUserStats","currentUser","colors","t","calculateSkillDamage","skill","character","level","isLearned","damage","baseDamage","damageMultiplier","statMultiplier","attack","defense","hp","maxHp","mp","maxMp","Math","floor","style","document","createElement","textContent","head","appendChild","removeChild","setCharacter","id","name","exp","maxExp","speed","gold","class","skills","maxLevel","manaCost","cooldown","currentCooldown","type","category","description","requiredLevel","isUnlocked","equipment","stats","strength","agility","intelligence","vitality","luck","availablePoints","prestige","rebirth","buffs","amount","duration","currentTab","setCurrentTab","gameMode","setGameMode","isAutoFighting","setIsAutoFighting","currentMonster","setCurrentMonster","combatLog","setCombatLog","selectedDungeon","setSelectedDungeon","inventory","setInventory","availableDungeons","setAvailableDungeons","currentDungeon","setCurrentDungeon","inDungeon","setInDungeon","guild","setGuild","shop","setShop","achievements","setAchievements","monstersDefeated","setMonstersDefeated","totalGoldEarned","setTotalGoldEarned","showDungeonChoice","setShowDungeonChoice","logRef","initializeGame","monsters_defeated","character_class","total_gold_earned","inventory_items","map","item","rarity","quantity","current_buffs","Object","entries","filter","_ref2","_","buff","_ref3","ceil","texts","dungeon","forest","cave","tower","monsters","slime","goblin","orc","troll","dragon","combat","appeared","critical","levelUp","defeated","itemObtained","dungeonCleared","nextFloor","getAllSkills","currentLevel","existingSkills","_existingSkills$find","allSkills","find","s","initialSkills","initialDungeons","floors","currentFloor","clearedFloors","Set","rewards","goldRange","expRange","itemDropChance","isComingSoon","getShopItems","_availableDungeons$fi","baseItems","price","enhancement","consumableEffect","healHp","healMp","goblinCaveUnlocked","d","push","buffType","buffAmount","buffDuration","shopItems","prev","length","mergedSkills","newSkill","existingSkill","window","gameTexts","spawnMonster","updateShop","_availableDungeons$fi2","_availableDungeons$fi3","existingIds","newItems","includes","wizardTowerUnlocked","wizardItems","updateSkills","updatedSkills","executeSkill","addToCombatLog","healAmount","min","newMonsterHp","max","setTimeout","defeatMonster","learnSkill","cost","getSkillIcon","iconMap","heal","shield","haste","blessing","vampire","selectedSkill","setSelectedSkill","skillSubTab","setSkillSubTab","renderSkillsTab","padding","background","minHeight","children","renderCharacterHeader","display","gap","width","color","marginBottom","fontSize","flexDirection","label","count","tab","index","onClick","border","borderRadius","cursor","fontWeight","transition","textAlign","justifyContent","alignItems","minWidth","flex","gridTemplateColumns","Array","from","filteredSkills","isEmpty","height","position","onMouseEnter","e","currentTarget","transform","boxShadow","onMouseLeave","opacity","bottom","right","lineHeight","top","animation","margin","marginTop","toLocaleString","disabled","baseHp","baseAttack","baseDefense","minLevel","availableMonsters","monster","finalMonsters","abs","randomMonster","random","levelMultiplier","Date","now","dropItems","generateDropItems","isBoss","dropChance","rarities","itemTypes","itemType","generateItemName","generateItemStats","calculateItemPrice","prefixes","common","rare","epic","legendary","mythic","itemNames","weapon","armor","helmet","boots","ring","amulet","prefix","itemTypeNames","multipliers","base","critRate","critDamage","basePrice","buffedAttack","calculateDamage","isCritical","finalDamage","user_id","is_critical","monster_name","monster_level","character_level","character_attack","monster_hp_remaining","dungeon_name","dungeon_floor","monsterAttack","buffedDefense","newHp","defeat","dungeon_id","damage_taken","character_defense","current_floor","total_floors","exit_reason","time_spent","getTime","expGained","goldGained","newExp","newGold","newLevel","newMaxExp","newMp","newMaxHp","newMaxMp","new_level","stat_points_gained","prevDungeons","exp_gained","gold_gained","items_dropped","updatedDungeon","replace","toString","spawnDungeonMonster","proceedToNextFloor","exitDungeonAfterVictory","resetDungeon","autoAttackTimer","clearTimeout","interval","setInterval","clearInterval","message","newLog","shift","current","scrollTop","scrollHeight","allocateStatPoint","stat","equipItem","slot","currentEquippedItem","newEquipment","newAttack","newDefense","newSpeed","invItem","unequipItem","equippedItem","undefined","adjustedHp","adjustedMp","sellItem","sellPrice","buyItem","getRarityColor","enterDungeon","character_hp","character_mp","entry_time","forceSpawn","arguments","getDungeonMonsters","dungeonId","baseMonsters","floorBasedMonsterIndex","baseIndex","randomVariation","selectedIndex","selectedMonster","consumeItem","effect","itemIndex","findIndex","newInventory","currentItem","splice","item_name","item_type","heal_hp","heal_mp","buff_type","buff_amount","character_hp_before","character_mp_before","castSkill","skill_name","skill_level","mana_cost","character_mp_after","allocateStat","statName","hpBonus","mpBonus","attackBonus","defenseBonus","stat_name","stat_value","available_points","expPercentage","backgroundColor","overflow","renderLobbyTab","renderDungeonTab","value","placeholder","onChange","targetFloor","parseInt","target","canMoveTo","i","has","currentFloorCleared","flexWrap","title","toFixed","_item$consumableEffec","_item$consumableEffec2","_item$consumableEffec3","_item$consumableEffec4","_item$consumableEffec5","overflowY","slice","log","renderCharacterTab","renderEquipmentSlot","key","icon","bonus","bonusType","borderBottom","rarityColor","substring","getItemIcon","consumable","selectedItem","setSelectedItem","renderInventoryTab","inv","textTransform","keys","_ref4","console","shopCategory","setShopCategory","selectedShopItem","setSelectedShopItem","renderShopTab","items","canAfford","_ref5","renderTabs","accent","text","maxWidth","cardBg","fontFamily","cardBorder","backgroundSecondary","left","textShadow","zIndex","textSecondary"],"sources":["/Users/jegaljin-u/workspace/thinking-guide/src/components/AdvancedIdleRPG.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"../contexts/ThemeContext\";\nimport { useLanguage } from \"../contexts/LanguageContext\";\n\ninterface Dungeon {\n  id: string;\n  name: string;\n  level: number;\n  description: string;\n  floors: number;\n  currentFloor: number;\n  clearedFloors: Set<number>; // Track which floors have been cleared\n  monsters: Monster[];\n  rewards: {\n    goldRange: [number, number];\n    expRange: [number, number];\n    itemDropChance: number;\n  };\n  requiredLevel: number;\n  isUnlocked: boolean;\n  isComingSoon?: boolean; // ì—…ë°ì´íŠ¸ ì˜ˆì • ë˜ì „ì¸ì§€\n}\n\ninterface Monster {\n  id: string;\n  name: string;\n  level: number;\n  hp: number;\n  maxHp: number;\n  attack: number;\n  defense: number;\n  speed: number;\n  exp: number;\n  gold: number;\n  dropItems: Item[];\n  isBoss?: boolean;\n}\n\ninterface Character {\n  id: string;\n  name: string;\n  level: number;\n  exp: number;\n  maxExp: number;\n  hp: number;\n  maxHp: number;\n  mp: number;\n  maxMp: number;\n  attack: number;\n  defense: number;\n  speed: number;\n  gold: number;\n  class: string;\n  skills: Skill[];\n  equipment: Equipment;\n  stats: CharacterStats;\n  prestige: number;\n  rebirth: number;\n  buffs: {\n    attack: { amount: number; duration: number };\n    defense: { amount: number; duration: number };\n    speed: { amount: number; duration: number };\n  };\n}\n\ninterface CharacterStats {\n  strength: number;\n  agility: number;\n  intelligence: number;\n  vitality: number;\n  luck: number;\n  availablePoints: number;\n}\n\ninterface Skill {\n  id: string;\n  name: string;\n  level: number;\n  maxLevel: number;\n  baseDamage: number;\n  damageMultiplier: number; // ë ˆë²¨ë‹¹ ì¦ê°€ìœ¨\n  statMultiplier: {\n    attack?: number;\n    defense?: number;\n    hp?: number;\n    mp?: number;\n  }; // ìŠ¤íƒ¯ ê¸°ë°˜ ë°ë¯¸ì§€ ë°°ìœ¨\n  manaCost: number;\n  cooldown: number;\n  currentCooldown: number;\n  type: \"active\" | \"passive\";\n  category: \"combat\" | \"magic\" | \"support\" | \"passive\"; // ìŠ¤í‚¬ ë¶„ë¥˜\n  description: string;\n  requiredLevel?: number;\n  isUnlocked?: boolean;\n  isLearned?: boolean; // ë°°ìš´ ìŠ¤í‚¬ì¸ì§€ (0ë ˆë²¨ì—ì„œ 1ë ˆë²¨ë¡œ ì—…ê·¸ë ˆì´ë“œí–ˆëŠ”ì§€)\n}\n\ninterface Equipment {\n  weapon?: Item;\n  armor?: Item;\n  helmet?: Item;\n  boots?: Item;\n  ring?: Item;\n  amulet?: Item;\n}\n\ninterface Item {\n  id: string;\n  name: string;\n  type:\n    | \"weapon\"\n    | \"armor\"\n    | \"helmet\"\n    | \"boots\"\n    | \"ring\"\n    | \"amulet\"\n    | \"consumable\";\n  rarity: \"common\" | \"rare\" | \"epic\" | \"legendary\" | \"mythic\";\n  level: number;\n  stats: {\n    attack?: number;\n    defense?: number;\n    hp?: number;\n    mp?: number;\n    speed?: number;\n    critRate?: number;\n    critDamage?: number;\n  };\n  price: number;\n  enhancement: number;\n  // ë¬¼ì•½ìš© ì†ì„±ë“¤\n  consumableEffect?: {\n    healHp?: number;\n    healMp?: number;\n    buffDuration?: number; // ë²„í”„ ì§€ì†ì‹œê°„ (ë°€ë¦¬ì´ˆ)\n    buffType?: \"attack\" | \"defense\" | \"speed\"; // ë²„í”„ íƒ€ì…\n    buffAmount?: number; // ë²„í”„ ìˆ˜ì¹˜\n  };\n  quantity?: number; // ì†Œë¹„ ì•„ì´í…œ ìˆ˜ëŸ‰\n}\n\ninterface Guild {\n  id: string;\n  name: string;\n  level: number;\n  members: number;\n  maxMembers: number;\n  benefits: {\n    expBonus: number;\n    goldBonus: number;\n    dropBonus: number;\n  };\n}\n\ninterface AppProps {\n  onAction: (eventType: string, data: any) => void;\n  isSimulating: boolean;\n  currentAction: string | null;\n  userStats: any;\n  setUserStats: (stats: any) => void;\n  currentUser: any;\n}\n\nexport const AdvancedIdleRPG: React.FC<AppProps> = ({\n  onAction,\n  isSimulating,\n  currentAction,\n  userStats,\n  setUserStats,\n  currentUser,\n}) => {\n  const { colors } = useTheme();\n  const { t } = useLanguage();\n\n  // ìŠ¤í‚¬ ë°ë¯¸ì§€ ê³„ì‚° í•¨ìˆ˜\n  const calculateSkillDamage = (skill: Skill, character: Character): number => {\n    if (skill.level === 0 || !skill.isLearned) return 0;\n\n    let damage = skill.baseDamage;\n\n    // ë ˆë²¨ì— ë”°ë¥¸ ë°ë¯¸ì§€ ì¦ê°€\n    damage += skill.baseDamage * skill.damageMultiplier * (skill.level - 1);\n\n    // ìŠ¤íƒ¯ì— ë”°ë¥¸ ë°ë¯¸ì§€ ì¦ê°€\n    if (skill.statMultiplier.attack) {\n      damage += character.attack * skill.statMultiplier.attack * skill.level;\n    }\n    if (skill.statMultiplier.defense) {\n      damage += character.defense * skill.statMultiplier.defense * skill.level;\n    }\n    if (skill.statMultiplier.hp) {\n      damage += character.maxHp * skill.statMultiplier.hp * skill.level;\n    }\n    if (skill.statMultiplier.mp) {\n      damage += character.maxMp * skill.statMultiplier.mp * skill.level;\n    }\n\n    return Math.floor(damage);\n  };\n\n  // CSS ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€\n  React.useEffect(() => {\n    const style = document.createElement(\"style\");\n    style.textContent = `\n      @keyframes progress {\n        0% {\n          width: 0%;\n        }\n        100% {\n          width: 100%;\n        }\n      }\n      @keyframes pulse {\n        0%, 100% {\n          opacity: 1;\n        }\n        50% {\n          opacity: 0.7;\n        }\n      }\n    `;\n    document.head.appendChild(style);\n\n    return () => {\n      document.head.removeChild(style);\n    };\n  }, []);\n  const [character, setCharacter] = useState<Character>({\n    id: \"1\",\n    name: \"ìš©ì‚¬\",\n    level: 1,\n    exp: 0,\n    maxExp: 100,\n    hp: 100,\n    maxHp: 100,\n    mp: 50,\n    maxMp: 50,\n    attack: 20,\n    defense: 10,\n    speed: 15,\n    gold: 100,\n    class: t(\"rpg.class.warrior\"),\n    skills: [\n      // ê¸°ë³¸ ìŠ¤í‚¬ë“¤ì„ ë¯¸ë¦¬ ì •ì˜í•˜ì—¬ ì´ˆê¸°í™” ë¬¸ì œ ë°©ì§€\n      {\n        id: \"basic-attack\",\n        name: \"ê¸°ë³¸ ê³µê²©\",\n        level: 1,\n        maxLevel: 10,\n        baseDamage: 15,\n        damageMultiplier: 0.2,\n        statMultiplier: { attack: 1.0 },\n        manaCost: 0,\n        cooldown: 1000,\n        currentCooldown: 0,\n        type: \"active\",\n        category: \"combat\",\n        description: \"ê¸°ë³¸ì ì¸ ë¬¼ë¦¬ ê³µê²©ì…ë‹ˆë‹¤.\",\n        requiredLevel: 1,\n        isUnlocked: true,\n        isLearned: true,\n      },\n      {\n        id: \"power-strike\",\n        name: \"ê°•ë ¥í•œ ë² ê¸°\",\n        level: 0,\n        maxLevel: 10,\n        baseDamage: 25,\n        damageMultiplier: 0.3,\n        statMultiplier: { attack: 1.5 },\n        manaCost: 15,\n        cooldown: 3000,\n        currentCooldown: 0,\n        type: \"active\",\n        category: \"combat\",\n        description: \"ê°•ë ¥í•œ ì¼ê²©ì„ ê°€í•©ë‹ˆë‹¤.\",\n        requiredLevel: 3,\n        isUnlocked: true,\n        isLearned: false,\n      },\n      {\n        id: \"heal\",\n        name: \"ì¹˜ìœ \",\n        level: 0,\n        maxLevel: 10,\n        baseDamage: 30,\n        damageMultiplier: 0.25,\n        statMultiplier: { mp: 0.5 },\n        manaCost: 20,\n        cooldown: 5000,\n        currentCooldown: 0,\n        type: \"active\",\n        category: \"support\",\n        description: \"HPë¥¼ íšŒë³µí•©ë‹ˆë‹¤.\",\n        requiredLevel: 2,\n        isUnlocked: true,\n        isLearned: false,\n      },\n      {\n        id: \"strength-boost\",\n        name: t(\"rpg.skills.strengthBoost.name\"),\n        level: 0,\n        maxLevel: 5,\n        baseDamage: 0,\n        damageMultiplier: 0,\n        statMultiplier: { attack: 0.1 },\n        manaCost: 0,\n        cooldown: 0,\n        currentCooldown: 0,\n        type: \"passive\",\n        category: \"passive\",\n        description: t(\"rpg.skills.strengthBoost.description\"),\n        requiredLevel: 5,\n        isUnlocked: true,\n        isLearned: false,\n      },\n    ],\n    equipment: {},\n    stats: {\n      strength: 10,\n      agility: 8,\n      intelligence: 5,\n      vitality: 12,\n      luck: 7,\n      availablePoints: 0,\n    },\n    prestige: 0,\n    rebirth: 0,\n    buffs: {\n      attack: { amount: 0, duration: 0 },\n      defense: { amount: 0, duration: 0 },\n      speed: { amount: 0, duration: 0 },\n    },\n  });\n\n  const [currentTab, setCurrentTab] = useState<\n    \"lobby\" | \"dungeon\" | \"character\" | \"inventory\" | \"skills\" | \"shop\"\n  >(\"lobby\");\n  const [gameMode, setGameMode] = useState<\"lobby\" | \"dungeon\" | \"combat\">(\n    \"lobby\"\n  );\n  const [isAutoFighting, setIsAutoFighting] = useState(false);\n  const [currentMonster, setCurrentMonster] = useState<Monster | null>(null);\n  const [combatLog, setCombatLog] = useState<string[]>([]);\n  const [selectedDungeon, setSelectedDungeon] = useState<Dungeon | null>(null);\n  const [inventory, setInventory] = useState<Item[]>([]);\n  const [availableDungeons, setAvailableDungeons] = useState<Dungeon[]>([]);\n  const [currentDungeon, setCurrentDungeon] = useState<Dungeon | null>(null);\n  const [inDungeon, setInDungeon] = useState(false);\n  const [guild, setGuild] = useState<Guild | null>(null);\n  const [shop, setShop] = useState<Item[]>([]);\n  const [achievements, setAchievements] = useState<string[]>([]);\n  const [monstersDefeated, setMonstersDefeated] = useState(0);\n  const [totalGoldEarned, setTotalGoldEarned] = useState(0);\n  const [showDungeonChoice, setShowDungeonChoice] = useState(false);\n\n  const logRef = useRef<HTMLDivElement>(null);\n\n  // ê²Œì„ ì´ˆê¸°í™” - ì–¸ì–´ ë³€ê²½ ì‹œì—ë„ ë‹¤ì‹œ ì´ˆê¸°í™”\n  useEffect(() => {\n    initializeGame();\n  }, [t]);\n\n  // ìºë¦­í„° ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ userStats ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    setUserStats({\n      level: character.level,\n      gold: character.gold,\n      attack: character.attack,\n      defense: character.defense,\n      hp: character.hp,\n      maxHp: character.maxHp,\n      exp: character.exp,\n      maxExp: character.maxExp,\n      monsters_defeated: monstersDefeated,\n      character_class: character.class,\n      total_gold_earned: totalGoldEarned,\n      inventory_items: inventory.map((item) => ({\n        id: item.id,\n        name: item.name,\n        type: item.type,\n        rarity: item.rarity,\n        quantity: item.quantity || 1,\n        stats: item.stats,\n      })),\n      skills: character.skills.map((skill) => ({\n        id: skill.id,\n        name: skill.name,\n        level: skill.level,\n        type: skill.type,\n      })),\n      current_buffs: Object.entries(character.buffs)\n        .filter(([_, buff]) => buff.duration > 0)\n        .map(([type, buff]) => ({\n          type,\n          amount: buff.amount,\n          duration: Math.ceil(buff.duration / 1000),\n        })),\n    });\n  }, [character, inventory, monstersDefeated, totalGoldEarned, setUserStats]);\n\n  const initializeGame = () => {\n    // LanguageContextì—ì„œ ë²ˆì—­ í•¨ìˆ˜ ì‚¬ìš©\n    const texts = {\n      character: {\n        name: t(\"rpg.character.name\"),\n        class: t(\"rpg.character.class\"),\n      },\n      dungeon: {\n        forest: {\n          name: t(\"rpg.dungeon.forest.name\"),\n          description: t(\"rpg.dungeon.forest.description\"),\n        },\n        cave: {\n          name: t(\"rpg.dungeon.cave.name\"),\n          description: t(\"rpg.dungeon.cave.description\"),\n        },\n        tower: {\n          name: t(\"rpg.dungeon.tower.name\"),\n          description: t(\"rpg.dungeon.tower.description\"),\n        },\n      },\n      monsters: {\n        slime: t(\"rpg.monsters.slime\"),\n        goblin: t(\"rpg.monsters.goblin\"),\n        orc: t(\"rpg.monsters.orc\"),\n        troll: t(\"rpg.monsters.troll\"),\n        dragon: t(\"rpg.monsters.dragon\"),\n      },\n      combat: {\n        appeared: t(\"rpg.combat.appeared\"),\n        attack: t(\"rpg.combat.attack\"),\n        damage: t(\"rpg.combat.damage\"),\n        critical: t(\"rpg.combat.critical\"),\n        levelUp: t(\"rpg.combat.levelUp\"),\n        defeated: t(\"rpg.combat.defeated\"),\n        gold: t(\"rpg.combat.gold\"),\n        itemObtained: t(\"rpg.combat.itemObtained\"),\n        dungeonCleared: t(\"rpg.combat.dungeonCleared\"),\n        nextFloor: t(\"rpg.combat.nextFloor\"),\n      },\n    };\n    // ëª¨ë“  ìŠ¤í‚¬ ì •ì˜ í•¨ìˆ˜ (ê³µí†µ ì‚¬ìš©)\n    const getAllSkills = (\n      currentLevel: number,\n      existingSkills?: Skill[]\n    ): Skill[] => {\n      const allSkills = [\n        // ì „íˆ¬ ìŠ¤í‚¬ (ë ˆë²¨ 1)\n        {\n          id: \"slash\",\n          name: t(\"rpg.skills.slash.name\"),\n          level: existingSkills?.find((s) => s.id === \"slash\")?.level || 0,\n          maxLevel: 10,\n          baseDamage: 20,\n          damageMultiplier: 0.5,\n          statMultiplier: { attack: 2.0 },\n          manaCost: 10,\n          cooldown: 3000,\n          currentCooldown: 0,\n          type: \"active\" as const,\n          category: \"combat\" as const,\n          description: t(\"rpg.skills.slash.description\"),\n          requiredLevel: 1,\n          isUnlocked: currentLevel >= 1,\n          isLearned: false,\n        },\n        {\n          id: \"heal\",\n          name: t(\"rpg.skills.heal.name\"),\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 30,\n          damageMultiplier: 0.3,\n          statMultiplier: { mp: 1.5 },\n          manaCost: 15,\n          cooldown: 5000,\n          currentCooldown: 0,\n          type: \"active\" as const,\n          category: \"support\" as const,\n          description: t(\"rpg.skills.heal.description\"),\n          requiredLevel: 1,\n          isUnlocked: currentLevel >= 1,\n          isLearned: false,\n        },\n        {\n          id: \"critical\",\n          name: t(\"rpg.skills.critical.name\"),\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 0,\n          damageMultiplier: 0,\n          statMultiplier: {},\n          manaCost: 0,\n          cooldown: 0,\n          currentCooldown: 0,\n          type: \"passive\" as const,\n          category: \"passive\" as const,\n          description: t(\"rpg.skills.critical.description\"),\n          requiredLevel: 1,\n          isUnlocked: currentLevel >= 1,\n          isLearned: false,\n        },\n        // ë ˆë²¨ 5 ìŠ¤í‚¬\n        {\n          id: \"double_strike\",\n          name: \"ì´ì¤‘ ê³µê²©\",\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 25,\n          damageMultiplier: 0.4,\n          statMultiplier: { attack: 1.5 },\n          manaCost: 20,\n          cooldown: 4000,\n          currentCooldown: 0,\n          type: \"active\" as const,\n          category: \"combat\" as const,\n          description:\n            \"ì—°ì†ìœ¼ë¡œ ë‘ ë²ˆ ê³µê²©í•©ë‹ˆë‹¤. (ê¸°ë³¸ ë°ë¯¸ì§€ x 2 + ê³µê²©ë ¥ x 1.5)\",\n          requiredLevel: 5,\n          isUnlocked: currentLevel >= 5,\n          isLearned: false,\n        },\n        {\n          id: \"mana_shield\",\n          name: \"ë§ˆë‚˜ ë°©íŒ¨\",\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 20,\n          damageMultiplier: 0.2,\n          statMultiplier: { mp: 1.0, defense: 0.5 },\n          manaCost: 25,\n          cooldown: 8000,\n          currentCooldown: 0,\n          type: \"active\" as const,\n          category: \"magic\" as const,\n          description: \"ë§ˆë‚˜ë¡œ í”¼í•´ë¥¼ í¡ìˆ˜í•©ë‹ˆë‹¤. (ë°©ì–´ë ¥ + ë§ˆë‚˜ x 1.0)\",\n          requiredLevel: 5,\n          isUnlocked: currentLevel >= 5,\n          isLearned: false,\n        },\n        {\n          id: \"defense_mastery\",\n          name: \"ë°©ì–´ ìˆ™ë ¨\",\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 0,\n          damageMultiplier: 0,\n          statMultiplier: {},\n          manaCost: 0,\n          cooldown: 0,\n          currentCooldown: 0,\n          type: \"passive\" as const,\n          category: \"passive\" as const,\n          description: \"ë°©ì–´ë ¥ì„ ì˜êµ¬íˆ ì¦ê°€ì‹œí‚µë‹ˆë‹¤. (ë ˆë²¨ë‹¹ +3 ë°©ì–´ë ¥)\",\n          requiredLevel: 5,\n          isUnlocked: currentLevel >= 5,\n          isLearned: false,\n        },\n        // ë ˆë²¨ 10 ìŠ¤í‚¬\n        {\n          id: \"whirlwind\",\n          name: \"íšŒì˜¤ë¦¬ ê³µê²©\",\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 40,\n          damageMultiplier: 0.6,\n          statMultiplier: { attack: 1.8 },\n          manaCost: 35,\n          cooldown: 6000,\n          currentCooldown: 0,\n          type: \"active\" as const,\n          category: \"combat\" as const,\n          description:\n            \"ì£¼ë³€ì˜ ëª¨ë“  ì ì„ ê³µê²©í•©ë‹ˆë‹¤. (ê¸°ë³¸ ë°ë¯¸ì§€ + ê³µê²©ë ¥ x 1.8)\",\n          requiredLevel: 10,\n          isUnlocked: currentLevel >= 10,\n          isLearned: false,\n        },\n        {\n          id: \"regeneration\",\n          name: \"ì¬ìƒ\",\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 50,\n          damageMultiplier: 0.4,\n          statMultiplier: { hp: 0.1, mp: 2.0 },\n          manaCost: 40,\n          cooldown: 12000,\n          currentCooldown: 0,\n          type: \"active\" as const,\n          category: \"support\" as const,\n          description:\n            \"ì§€ì†ì ìœ¼ë¡œ HPë¥¼ íšŒë³µí•©ë‹ˆë‹¤. (ê¸°ë³¸ íšŒë³µëŸ‰ + ìµœëŒ€ì²´ë ¥ x 0.1 + ë§ˆë‚˜ x 2.0)\",\n          requiredLevel: 10,\n          isUnlocked: currentLevel >= 10,\n          isLearned: false,\n        },\n        {\n          id: \"mp_efficiency\",\n          name: \"ë§ˆë‚˜ íš¨ìœ¨\",\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 0,\n          damageMultiplier: 0,\n          statMultiplier: {},\n          manaCost: 0,\n          cooldown: 0,\n          currentCooldown: 0,\n          type: \"passive\" as const,\n          category: \"passive\" as const,\n          description: \"ëª¨ë“  ìŠ¤í‚¬ì˜ ë§ˆë‚˜ ì†Œëª¨ëŸ‰ì„ ê°ì†Œì‹œí‚µë‹ˆë‹¤. (ë ˆë²¨ë‹¹ -5%)\",\n          requiredLevel: 10,\n          isUnlocked: currentLevel >= 10,\n          isLearned: false,\n        },\n        // ë ˆë²¨ 15 ìŠ¤í‚¬\n        {\n          id: \"meteor\",\n          name: \"ë©”í…Œì˜¤\",\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 80,\n          damageMultiplier: 1.0,\n          statMultiplier: { mp: 3.0, attack: 1.0 },\n          manaCost: 60,\n          cooldown: 10000,\n          currentCooldown: 0,\n          type: \"active\" as const,\n          category: \"magic\" as const,\n          description:\n            \"ê°•ë ¥í•œ ë§ˆë²• ê³µê²©ì„ ê°€í•©ë‹ˆë‹¤. (ê¸°ë³¸ ë°ë¯¸ì§€ + ë§ˆë‚˜ x 3.0 + ê³µê²©ë ¥ x 1.0)\",\n          requiredLevel: 15,\n          isUnlocked: currentLevel >= 15,\n          isLearned: false,\n        },\n        {\n          id: \"time_stop\",\n          name: \"ì‹œê°„ ì •ì§€\",\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 0,\n          damageMultiplier: 0,\n          statMultiplier: { mp: 1.0 },\n          manaCost: 80,\n          cooldown: 15000,\n          currentCooldown: 0,\n          type: \"active\" as const,\n          category: \"magic\" as const,\n          description:\n            \"ëª¨ë“  ì ì˜ ì›€ì§ì„ì„ ì ì‹œ ë©ˆì¶¥ë‹ˆë‹¤. (ì§€ì†ì‹œê°„: ë§ˆë‚˜ x 0.1ì´ˆ)\",\n          requiredLevel: 15,\n          isUnlocked: currentLevel >= 15,\n          isLearned: false,\n        },\n        {\n          id: \"exp_boost\",\n          name: t(\"rpg.skills.expAmplify.name\"),\n          level: 0,\n          maxLevel: 10,\n          baseDamage: 0,\n          damageMultiplier: 0,\n          statMultiplier: {},\n          manaCost: 0,\n          cooldown: 0,\n          currentCooldown: 0,\n          type: \"passive\" as const,\n          category: \"passive\" as const,\n          description: t(\"rpg.skills.expAmplify.description\"),\n          requiredLevel: 15,\n          isUnlocked: currentLevel >= 15,\n          isLearned: false,\n        },\n      ];\n\n      // í•´ê¸ˆëœ ìŠ¤í‚¬ë§Œ ë°˜í™˜\n      return allSkills.filter((skill) => skill.isUnlocked);\n    };\n\n    const initialSkills = getAllSkills(1);\n\n    // ë˜ì „ ì´ˆê¸°í™”\n    const initialDungeons: Dungeon[] = [\n      {\n        id: \"forest\",\n        name: texts.dungeon.forest.name,\n        level: 1,\n        description: texts.dungeon.forest.description,\n        floors: 10,\n        currentFloor: 1,\n        clearedFloors: new Set<number>(),\n        monsters: [],\n        rewards: {\n          goldRange: [10, 25],\n          expRange: [15, 30],\n          itemDropChance: 0.1,\n        },\n        requiredLevel: 1,\n        isUnlocked: true,\n      },\n      {\n        id: \"cave\",\n        name: texts.dungeon.cave.name,\n        level: 5,\n        description: texts.dungeon.cave.description,\n        floors: 15,\n        currentFloor: 1,\n        clearedFloors: new Set<number>(),\n        monsters: [],\n        rewards: {\n          goldRange: [25, 50],\n          expRange: [40, 75],\n          itemDropChance: 0.15,\n        },\n        requiredLevel: 5,\n        isUnlocked: false,\n      },\n      {\n        id: \"tower\",\n        name: texts.dungeon.tower.name,\n        level: 10,\n        description: texts.dungeon.tower.description,\n        floors: 20,\n        currentFloor: 1,\n        clearedFloors: new Set<number>(),\n        monsters: [],\n        rewards: {\n          goldRange: [50, 100],\n          expRange: [80, 150],\n          itemDropChance: 0.2,\n        },\n        requiredLevel: 10,\n        isUnlocked: false,\n      },\n      {\n        id: \"abyss\",\n        name: t(\"rpg.dungeon.abyss.name\"),\n        level: 20,\n        description: t(\"rpg.dungeon.abyss.description\"),\n        floors: 50,\n        currentFloor: 1,\n        clearedFloors: new Set<number>(),\n        monsters: [],\n        rewards: {\n          goldRange: [100, 200],\n          expRange: [200, 300],\n          itemDropChance: 0.3,\n        },\n        requiredLevel: 20,\n        isUnlocked: false,\n        isComingSoon: true, // ì—…ë°ì´íŠ¸ ì˜ˆì • í”Œë˜ê·¸\n      },\n    ];\n\n    // ìƒì  ì•„ì´í…œ ì´ˆê¸°í™” (ê¸°ë³¸ ì•„ì´í…œë“¤)\n    const getShopItems = () => {\n      const baseItems: Item[] = [\n        {\n          id: \"sword1\",\n          name: t(\"rpg.items.sword1\"),\n          type: \"weapon\",\n          rarity: \"common\",\n          level: 1,\n          stats: { attack: 15 },\n          price: 200,\n          enhancement: 0,\n        },\n        {\n          id: \"armor1\",\n          name: t(\"rpg.items.armor1\"),\n          type: \"armor\",\n          rarity: \"common\",\n          level: 1,\n          stats: { defense: 10, hp: 20 },\n          price: 150,\n          enhancement: 0,\n        },\n        {\n          id: \"helmet1\",\n          name: t(\"rpg.items.helmet1\"),\n          type: \"helmet\",\n          rarity: \"common\",\n          level: 1,\n          stats: { defense: 5, hp: 15 },\n          price: 100,\n          enhancement: 0,\n        },\n        // ê¸°ë³¸ ë¬¼ì•½ë“¤\n        {\n          id: \"health_potion\",\n          name: t(\"rpg.items.health_potion\"),\n          type: \"consumable\",\n          rarity: \"common\",\n          level: 1,\n          stats: {},\n          price: 50,\n          enhancement: 0,\n          consumableEffect: {\n            healHp: 50,\n          },\n          quantity: 1,\n        },\n        {\n          id: \"mana_potion\",\n          name: t(\"rpg.items.mana_potion\"),\n          type: \"consumable\",\n          rarity: \"common\",\n          level: 1,\n          stats: {},\n          price: 40,\n          enhancement: 0,\n          consumableEffect: {\n            healMp: 30,\n          },\n          quantity: 1,\n        },\n      ];\n\n      // ê³ ë¸”ë¦° ë™êµ´ì´ í•´ê¸ˆë˜ë©´ ê³ ê¸‰ ì•„ì´í…œ ì¶”ê°€\n      const goblinCaveUnlocked = availableDungeons.find(\n        (d) => d.id === \"cave\"\n      )?.isUnlocked;\n      if (goblinCaveUnlocked) {\n        baseItems.push(\n          // ê³ ê¸‰ ì¥ë¹„\n          {\n            id: \"steel_sword\",\n            name: t(\"rpg.items.enhanced_steel_sword\"),\n            type: \"weapon\",\n            rarity: \"rare\",\n            level: 3,\n            stats: { attack: 25 },\n            price: 500,\n            enhancement: 0,\n          },\n          {\n            id: \"plate_armor\",\n            name: \"íŒê¸ˆ ê°‘ì˜·\",\n            type: \"armor\",\n            rarity: \"rare\",\n            level: 3,\n            stats: { defense: 20, hp: 40 },\n            price: 400,\n            enhancement: 0,\n          },\n          {\n            id: \"steel_helmet\",\n            name: t(\"rpg.items.steel_helmet\"),\n            type: \"helmet\",\n            rarity: \"rare\",\n            level: 3,\n            stats: { defense: 12, hp: 25 },\n            price: 300,\n            enhancement: 0,\n          },\n          // ê³ ê¸‰ ë¬¼ì•½ë“¤\n          {\n            id: \"greater_health_potion\",\n            name: t(\"rpg.items.greater_health_potion\"),\n            type: \"consumable\",\n            rarity: \"rare\",\n            level: 2,\n            stats: {},\n            price: 120,\n            enhancement: 0,\n            consumableEffect: {\n              healHp: 120,\n            },\n            quantity: 1,\n          },\n          {\n            id: \"greater_mana_potion\",\n            name: \"ê³ ê¸‰ ë§ˆë‚˜ ë¬¼ì•½\",\n            type: \"consumable\",\n            rarity: \"rare\",\n            level: 2,\n            stats: {},\n            price: 100,\n            enhancement: 0,\n            consumableEffect: {\n              healMp: 80,\n            },\n            quantity: 1,\n          },\n          {\n            id: \"strength_potion\",\n            name: t(\"rpg.items.strength_potion\"),\n            type: \"consumable\",\n            rarity: \"rare\",\n            level: 2,\n            stats: {},\n            price: 150,\n            enhancement: 0,\n            consumableEffect: {\n              buffType: \"attack\",\n              buffAmount: 10,\n              buffDuration: 30000,\n            },\n            quantity: 1,\n          },\n          {\n            id: \"defense_potion\",\n            name: t(\"rpg.items.defense_potion\"),\n            type: \"consumable\",\n            rarity: \"rare\",\n            level: 2,\n            stats: {},\n            price: 150,\n            enhancement: 0,\n            consumableEffect: {\n              buffType: \"defense\",\n              buffAmount: 8,\n              buffDuration: 30000,\n            },\n            quantity: 1,\n          }\n        );\n      }\n\n      return baseItems;\n    };\n\n    const shopItems = getShopItems();\n\n    setCharacter((prev) => {\n      // ê¸°ì¡´ ìŠ¤í‚¬ì´ ìˆìœ¼ë©´ ë³´ì¡´í•˜ê³ , ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±\n      const existingSkills =\n        prev.skills && prev.skills.length > 0 ? prev.skills : initialSkills;\n\n      // ìƒˆë¡œìš´ ìŠ¤í‚¬ì´ ìˆìœ¼ë©´ ì¶”ê°€í•˜ë˜, ê¸°ì¡´ ìŠ¤í‚¬ì˜ ì§„í–‰ë„ëŠ” ë³´ì¡´\n      const mergedSkills = initialSkills.map((newSkill) => {\n        const existingSkill = existingSkills.find((s) => s.id === newSkill.id);\n        if (existingSkill) {\n          // ê¸°ì¡´ ìŠ¤í‚¬ì´ ìˆìœ¼ë©´ ë ˆë²¨ê³¼ í•™ìŠµ ìƒíƒœ ë³´ì¡´\n          return {\n            ...newSkill,\n            level: existingSkill.level,\n            isLearned: existingSkill.isLearned,\n            isUnlocked: prev.level >= (newSkill.requiredLevel || 1),\n          };\n        }\n        return newSkill;\n      });\n\n      return {\n        ...prev,\n        name: texts.character.name,\n        class: texts.character.class,\n        skills: mergedSkills,\n      };\n    });\n    setAvailableDungeons(initialDungeons);\n    setShop(shopItems);\n    // Store texts globally for other functions to use\n    (window as any).gameTexts = texts;\n\n    // ë˜ì „ì— ìˆì§€ ì•Šì„ ë•Œë§Œ ì¼ë°˜ ëª¬ìŠ¤í„° ìƒì„±\n    if (!inDungeon) {\n      spawnMonster();\n    }\n  };\n\n  // ë˜ì „ í•´ê¸ˆ ìƒíƒœì— ë”°ë¥¸ ìƒì  ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    const updateShop = () => {\n      const getShopItems = () => {\n        const baseItems: Item[] = [\n          {\n            id: \"sword1\",\n            name: t(\"rpg.items.steel_sword\"),\n            type: \"weapon\",\n            rarity: \"common\",\n            level: 1,\n            stats: { attack: 15 },\n            price: 200,\n            enhancement: 0,\n          },\n          {\n            id: \"armor1\",\n            name: t(\"rpg.items.leather_armor\"),\n            type: \"armor\",\n            rarity: \"common\",\n            level: 1,\n            stats: { defense: 10, hp: 20 },\n            price: 150,\n            enhancement: 0,\n          },\n          {\n            id: \"helmet1\",\n            name: t(\"rpg.items.iron_helmet\"),\n            type: \"helmet\",\n            rarity: \"common\",\n            level: 1,\n            stats: { defense: 5, hp: 15 },\n            price: 100,\n            enhancement: 0,\n          },\n          // ê¸°ë³¸ ë¬¼ì•½ë“¤\n          {\n            id: \"health_potion\",\n            name: t(\"rpg.items.health_potion\"),\n            type: \"consumable\",\n            rarity: \"common\",\n            level: 1,\n            stats: {},\n            price: 50,\n            enhancement: 0,\n            consumableEffect: {\n              healHp: 50,\n            },\n            quantity: 1,\n          },\n          {\n            id: \"mana_potion\",\n            name: t(\"rpg.items.mana_potion\"),\n            type: \"consumable\",\n            rarity: \"common\",\n            level: 1,\n            stats: {},\n            price: 40,\n            enhancement: 0,\n            consumableEffect: {\n              healMp: 30,\n            },\n            quantity: 1,\n          },\n        ];\n\n        // ê³ ë¸”ë¦° ë™êµ´ì´ í•´ê¸ˆë˜ë©´ ê³ ê¸‰ ì•„ì´í…œ ì¶”ê°€\n        const goblinCaveUnlocked = availableDungeons.find(\n          (d) => d.id === \"cave\"\n        )?.isUnlocked;\n        if (goblinCaveUnlocked) {\n          // ì¤‘ë³µ ë°©ì§€: ì´ë¯¸ ìˆëŠ” ì•„ì´í…œì€ ì¶”ê°€í•˜ì§€ ì•ŠìŒ\n          const existingIds = baseItems.map((item) => item.id);\n          const newItems = [\n            {\n              id: \"steel_sword\",\n              name: t(\"rpg.items.enhanced_steel_sword\"),\n              type: \"weapon\" as const,\n              rarity: \"rare\" as const,\n              level: 3,\n              stats: { attack: 25 },\n              price: 500,\n              enhancement: 0,\n            },\n            {\n              id: \"plate_armor\",\n              name: t(\"rpg.items.plate_armor\"),\n              type: \"armor\" as const,\n              rarity: \"rare\" as const,\n              level: 3,\n              stats: { defense: 20, hp: 40 },\n              price: 400,\n              enhancement: 0,\n            },\n            {\n              id: \"steel_helmet\",\n              name: t(\"rpg.items.steel_helmet\"),\n              type: \"helmet\" as const,\n              rarity: \"rare\" as const,\n              level: 3,\n              stats: { defense: 12, hp: 25 },\n              price: 300,\n              enhancement: 0,\n            },\n            {\n              id: \"greater_health_potion\",\n              name: t(\"rpg.items.greater_health_potion\"),\n              type: \"consumable\" as const,\n              rarity: \"rare\" as const,\n              level: 2,\n              stats: {},\n              price: 120,\n              enhancement: 0,\n              consumableEffect: {\n                healHp: 120,\n              },\n              quantity: 1,\n            },\n            {\n              id: \"greater_mana_potion\",\n              name: \"ê³ ê¸‰ ë§ˆë‚˜ ë¬¼ì•½\",\n              type: \"consumable\" as const,\n              rarity: \"rare\" as const,\n              level: 2,\n              stats: {},\n              price: 100,\n              enhancement: 0,\n              consumableEffect: {\n                healMp: 80,\n              },\n              quantity: 1,\n            },\n            {\n              id: \"strength_potion\",\n              name: t(\"rpg.items.strength_potion\"),\n              type: \"consumable\" as const,\n              rarity: \"rare\" as const,\n              level: 2,\n              stats: {},\n              price: 150,\n              enhancement: 0,\n              consumableEffect: {\n                buffType: \"attack\" as const,\n                buffAmount: 10,\n                buffDuration: 30000,\n              },\n              quantity: 1,\n            },\n            {\n              id: \"defense_potion\",\n              name: t(\"rpg.items.defense_potion\"),\n              type: \"consumable\" as const,\n              rarity: \"rare\" as const,\n              level: 2,\n              stats: {},\n              price: 150,\n              enhancement: 0,\n              consumableEffect: {\n                buffType: \"defense\" as const,\n                buffAmount: 8,\n                buffDuration: 30000,\n              },\n              quantity: 1,\n            },\n          ].filter((item) => !existingIds.includes(item.id));\n\n          baseItems.push(...newItems);\n        }\n\n        // ë§ˆë²•ì‚¬ì˜ íƒ‘ì´ í•´ê¸ˆë˜ë©´ ìµœê³ ê¸‰ ì•„ì´í…œ ì¶”ê°€\n        const wizardTowerUnlocked = availableDungeons.find(\n          (d) => d.id === \"tower\"\n        )?.isUnlocked;\n        if (wizardTowerUnlocked) {\n          const existingIds = baseItems.map((item) => item.id);\n          const wizardItems = [\n            {\n              id: \"enchanted_sword\",\n              name: \"ë§ˆë²• ë¶€ì—¬ ê²€\",\n              type: \"weapon\" as const,\n              rarity: \"epic\" as const,\n              level: 5,\n              stats: { attack: 40, mp: 20 },\n              price: 1200,\n              enhancement: 0,\n            },\n            {\n              id: \"dragon_armor\",\n              name: \"ë“œë˜ê³¤ ê°‘ì˜·\",\n              type: \"armor\" as const,\n              rarity: \"epic\" as const,\n              level: 5,\n              stats: { defense: 35, hp: 80 },\n              price: 1000,\n              enhancement: 0,\n            },\n            {\n              id: \"mystic_helmet\",\n              name: \"ì‹ ë¹„ì˜ íˆ¬êµ¬\",\n              type: \"helmet\" as const,\n              rarity: \"epic\" as const,\n              level: 5,\n              stats: { defense: 20, hp: 40, mp: 30 },\n              price: 800,\n              enhancement: 0,\n            },\n            {\n              id: \"supreme_health_potion\",\n              name: \"ìµœê³ ê¸‰ ì²´ë ¥ ë¬¼ì•½\",\n              type: \"consumable\" as const,\n              rarity: \"epic\" as const,\n              level: 3,\n              stats: {},\n              price: 300,\n              enhancement: 0,\n              consumableEffect: {\n                healHp: 250,\n              },\n              quantity: 1,\n            },\n            {\n              id: \"supreme_mana_potion\",\n              name: \"ìµœê³ ê¸‰ ë§ˆë‚˜ ë¬¼ì•½\",\n              type: \"consumable\" as const,\n              rarity: \"epic\" as const,\n              level: 3,\n              stats: {},\n              price: 250,\n              enhancement: 0,\n              consumableEffect: {\n                healMp: 200,\n              },\n              quantity: 1,\n            },\n            {\n              id: \"berserker_potion\",\n              name: t(\"rpg.items.berserker_potion\"),\n              type: \"consumable\" as const,\n              rarity: \"epic\" as const,\n              level: 3,\n              stats: {},\n              price: 400,\n              enhancement: 0,\n              consumableEffect: {\n                buffType: \"attack\" as const,\n                buffAmount: 25,\n                buffDuration: 60000,\n              },\n              quantity: 1,\n            },\n            {\n              id: \"guardian_potion\",\n              name: \"ìˆ˜í˜¸ìì˜ ë¬¼ì•½\",\n              type: \"consumable\" as const,\n              rarity: \"epic\" as const,\n              level: 3,\n              stats: {},\n              price: 400,\n              enhancement: 0,\n              consumableEffect: {\n                buffType: \"defense\" as const,\n                buffAmount: 20,\n                buffDuration: 60000,\n              },\n              quantity: 1,\n            },\n          ].filter((item) => !existingIds.includes(item.id));\n\n          baseItems.push(...wizardItems);\n        }\n\n        return baseItems;\n      };\n\n      setShop(getShopItems());\n    };\n\n    updateShop();\n  }, [availableDungeons]);\n\n  // ë ˆë²¨ì—… ì‹œ ìŠ¤í‚¬ ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    const updateSkills = () => {\n      setCharacter((prev) => {\n        // ê¸°ì¡´ ìŠ¤í‚¬ë“¤ì˜ í•´ê¸ˆ ìƒíƒœë§Œ ì—…ë°ì´íŠ¸\n        const updatedSkills = prev.skills.map((skill) => ({\n          ...skill,\n          isUnlocked: prev.level >= (skill.requiredLevel || 1),\n        }));\n        return { ...prev, skills: updatedSkills };\n      });\n    };\n\n    updateSkills();\n  }, [character.level]);\n\n  // ìŠ¤í‚¬ ì‚¬ìš© í•¨ìˆ˜ (ìˆ˜ì •ëœ ë°ë¯¸ì§€ ê³„ì‚° í¬í•¨)\n  const executeSkill = (skill: Skill) => {\n    if (!skill.isLearned || skill.level === 0) {\n      addToCombatLog(t(\"rpg.combat.skillLearnFirst\"));\n      return;\n    }\n\n    if (character.mp < skill.manaCost) {\n      addToCombatLog(t(\"rpg.combat.notEnoughMana\"));\n      return;\n    }\n\n    if (skill.currentCooldown > 0) {\n      addToCombatLog(t(\"rpg.combat.skillCooldown\"));\n      return;\n    }\n\n    const damage = calculateSkillDamage(skill, character);\n\n    // ìŠ¤í‚¬ ì‚¬ìš© ë¡œì§\n    if (skill.id === \"heal\" || skill.id === \"regeneration\") {\n      // íë§ ìŠ¤í‚¬\n      const healAmount = damage;\n      setCharacter((prev) => ({\n        ...prev,\n        hp: Math.min(prev.maxHp, prev.hp + healAmount),\n        mp: prev.mp - skill.manaCost,\n      }));\n      addToCombatLog(`${skill.name} ì‚¬ìš©! ${healAmount} ì²´ë ¥ íšŒë³µ!`);\n    } else if (currentMonster) {\n      // ê³µê²© ìŠ¤í‚¬\n      const newMonsterHp = Math.max(0, currentMonster.hp - damage);\n      setCurrentMonster((prev) =>\n        prev ? { ...prev, hp: newMonsterHp } : null\n      );\n      setCharacter((prev) => ({ ...prev, mp: prev.mp - skill.manaCost }));\n      addToCombatLog(`${skill.name} ì‚¬ìš©! ${damage} ë°ë¯¸ì§€!`);\n\n      if (newMonsterHp === 0) {\n        setTimeout(defeatMonster, 500);\n      }\n    }\n\n    // ì¿¨ë‹¤ìš´ ì„¤ì •\n    setCharacter((prev) => ({\n      ...prev,\n      skills: prev.skills.map((s) =>\n        s.id === skill.id ? { ...s, currentCooldown: skill.cooldown } : s\n      ),\n    }));\n  };\n\n  // ìŠ¤í‚¬ ë°°ìš°ê¸° (0ë ˆë²¨ì—ì„œ 1ë ˆë²¨ë¡œ ì—…ê·¸ë ˆì´ë“œ) í•¨ìˆ˜\n  const learnSkill = (skill: Skill) => {\n    if (skill.level > 0) {\n      addToCombatLog(t(\"rpg.combat.alreadyLearned\"));\n      return;\n    }\n\n    const cost = 100; // ìŠ¤í‚¬ ë°°ìš°ê¸° ë¹„ìš©\n    if (character.gold < cost) {\n      addToCombatLog(t(\"rpg.combat.notEnoughGold\"));\n      return;\n    }\n\n    setCharacter((prev) => ({\n      ...prev,\n      gold: prev.gold - cost,\n      skills: prev.skills.map((s) =>\n        s.id === skill.id ? { ...s, level: 1, isLearned: true } : s\n      ),\n    }));\n    addToCombatLog(`${skill.name}ì„(ë¥¼) ë°°ì› ìŠµë‹ˆë‹¤!`);\n  };\n\n  // ìŠ¤í‚¬ ë Œë”ë§ í•¨ìˆ˜ (ë¶„ë¥˜ë³„)\n  // ìŠ¤í‚¬ ì•„ì´ì½˜ ë§µí•‘\n  const getSkillIcon = (skill: Skill) => {\n    const iconMap: { [key: string]: string } = {\n      // ì „íˆ¬ ìŠ¤í‚¬\n      \"basic-attack\": \"âš”ï¸\",\n      \"power-strike\": \"ğŸ’¥\",\n      \"fire-slash\": \"ğŸ”¥\",\n      \"lightning-bolt\": \"âš¡\",\n      \"ice-shard\": \"â„ï¸\",\n      \"double-attack\": \"âš”ï¸âš”ï¸\",\n      // ì§€ì› ìŠ¤í‚¬\n      heal: \"ğŸ’š\",\n      \"mana-recovery\": \"ğŸ’™\",\n      shield: \"ğŸ›¡ï¸\",\n      haste: \"ğŸ’¨\",\n      blessing: \"âœ¨\",\n      // íŒ¨ì‹œë¸Œ ìŠ¤í‚¬\n      \"strength-boost\": \"ğŸ’ª\",\n      \"defense-boost\": \"ğŸ›¡ï¸\",\n      \"agility-boost\": \"ğŸƒ\",\n      \"mana-boost\": \"ğŸ”®\",\n      \"critical-chance\": \"ğŸ’\",\n      vampire: \"ğŸ©¸\",\n    };\n    return iconMap[skill.id] || \"ğŸ“œ\";\n  };\n\n  // ì„ íƒëœ ìŠ¤í‚¬ ìƒíƒœ\n  const [selectedSkill, setSelectedSkill] = useState<Skill | null>(null);\n\n  // ìŠ¤í‚¬ íƒ­ ë‚´ë¶€ì˜ ì„œë¸Œ íƒ­ ìƒíƒœ\n  const [skillSubTab, setSkillSubTab] = React.useState<\n    \"combat\" | \"support\" | \"passive\"\n  >(\"combat\");\n\n  // ìŠ¤í‚¬ íƒ­ ì»¨í…ì¸  ë Œë”ë§ (ê²Œì„ ìŠ¤íƒ€ì¼ UI)\n  const renderSkillsTab = () => (\n    <div style={{ padding: \"20px\", background: \"#1f2937\", minHeight: \"600px\" }}>\n      {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n      {renderCharacterHeader()}\n\n      <div style={{ display: \"flex\", gap: \"20px\" }}>\n        {/* ì™¼ìª½ ì¹´í…Œê³ ë¦¬ ì‚¬ì´ë“œë°” */}\n        <div style={{ width: \"200px\" }}>\n          <h3\n            style={{ color: \"white\", marginBottom: \"15px\", fontSize: \"16px\" }}\n          >\n            ğŸ“š {t(\"rpg.ui.skillInfo\")}\n          </h3>\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"5px\" }}>\n            {[\n              {\n                id: \"combat\",\n                label: t(\"rpg.skills.category.all\"),\n                count: character.skills.filter((s) => s.isUnlocked).length,\n                color: \"#8b5cf6\",\n              },\n              {\n                id: \"combat\",\n                label: t(\"rpg.skills.category.combat\"),\n                count: character.skills.filter(\n                  (s) =>\n                    s.isUnlocked &&\n                    (s.category === \"combat\" || s.category === \"magic\")\n                ).length,\n                color: \"#dc2626\",\n              },\n              {\n                id: \"support\",\n                label: t(\"rpg.skills.category.support\"),\n                count: character.skills.filter(\n                  (s) => s.isUnlocked && s.category === \"support\"\n                ).length,\n                color: \"#10b981\",\n              },\n              {\n                id: \"passive\",\n                label: t(\"rpg.skills.category.passive\"),\n                count: character.skills.filter(\n                  (s) => s.isUnlocked && s.category === \"passive\"\n                ).length,\n                color: \"#f59e0b\",\n              },\n            ].map((tab, index) => (\n              <button\n                key={index}\n                onClick={() =>\n                  setSkillSubTab(index === 0 ? \"combat\" : (tab.id as any))\n                }\n                style={{\n                  padding: \"12px 15px\",\n                  background:\n                    (index === 0 && skillSubTab) || skillSubTab === tab.id\n                      ? `linear-gradient(135deg, ${tab.color} 0%, ${tab.color}CC 100%)`\n                      : \"rgba(255, 255, 255, 0.1)\",\n                  color:\n                    (index === 0 && skillSubTab) || skillSubTab === tab.id\n                      ? \"white\"\n                      : \"#9ca3af\",\n                  border: \"1px solid #4b5563\",\n                  borderRadius: \"8px\",\n                  cursor: \"pointer\",\n                  fontSize: \"14px\",\n                  fontWeight: \"normal\",\n                  transition: \"all 0.2s ease\",\n                  textAlign: \"left\",\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                }}\n              >\n                <span>{tab.label}</span>\n                <span\n                  style={{\n                    background: \"rgba(0, 0, 0, 0.3)\",\n                    color: \"white\",\n                    fontSize: \"11px\",\n                    padding: \"2px 6px\",\n                    borderRadius: \"10px\",\n                    minWidth: \"20px\",\n                    textAlign: \"center\",\n                  }}\n                >\n                  {index === 0\n                    ? character.skills.filter((s) => s.isUnlocked).length\n                    : tab.count}\n                </span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* ì¤‘ì•™ ìŠ¤í‚¬ ê·¸ë¦¬ë“œ */}\n        <div style={{ flex: 1 }}>\n          <h3\n            style={{ color: \"white\", marginBottom: \"15px\", fontSize: \"16px\" }}\n          >\n            ğŸ¯{\" \"}\n            {skillSubTab === \"combat\"\n              ? t(\"rpg.ui.combatSkills\")\n              : skillSubTab === \"support\"\n              ? t(\"rpg.skills.supportSkills\")\n              : t(\"rpg.skills.category.passive\")}\n          </h3>\n          <div\n            style={{\n              display: \"grid\",\n              gridTemplateColumns: \"repeat(8, 1fr)\",\n              gap: \"6px\",\n              background: \"rgba(0, 0, 0, 0.3)\",\n              padding: \"15px\",\n              borderRadius: \"10px\",\n              border: \"2px solid #4b5563\",\n              minHeight: \"400px\",\n            }}\n          >\n            {/* ìŠ¤í‚¬ ìŠ¬ë¡¯ ë Œë”ë§ */}\n            {Array.from({ length: 32 }, (_, index) => {\n              const filteredSkills = character.skills.filter((skill) => {\n                if (skillSubTab === \"combat\") {\n                  return (\n                    skill.isUnlocked &&\n                    (skill.category === \"combat\" || skill.category === \"magic\")\n                  );\n                }\n                return skill.isUnlocked && skill.category === skillSubTab;\n              });\n\n              const skill = filteredSkills[index];\n              const isEmpty = !skill;\n\n              return (\n                <div\n                  key={index}\n                  onClick={() => skill && setSelectedSkill(skill)}\n                  style={{\n                    width: \"50px\",\n                    height: \"50px\",\n                    background: isEmpty\n                      ? \"rgba(255, 255, 255, 0.05)\"\n                      : skill.isLearned\n                      ? \"rgba(16, 185, 129, 0.2)\"\n                      : \"rgba(107, 114, 128, 0.2)\",\n                    border: isEmpty\n                      ? \"1px solid #374151\"\n                      : skill.isLearned\n                      ? \"2px solid #10b981\"\n                      : \"2px solid #6b7280\",\n                    borderRadius: \"8px\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    cursor: skill ? \"pointer\" : \"default\",\n                    position: \"relative\",\n                    transition: \"all 0.2s ease\",\n                  }}\n                  onMouseEnter={(e) => {\n                    if (skill) {\n                      e.currentTarget.style.transform = \"scale(1.1)\";\n                      e.currentTarget.style.boxShadow = skill.isLearned\n                        ? \"0 0 15px #10b98150\"\n                        : \"0 0 15px #6b728050\";\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (skill) {\n                      e.currentTarget.style.transform = \"scale(1)\";\n                      e.currentTarget.style.boxShadow = \"none\";\n                    }\n                  }}\n                >\n                  {skill && (\n                    <>\n                      <div\n                        style={{\n                          fontSize: \"20px\",\n                          filter: skill.isLearned ? \"none\" : \"grayscale(1)\",\n                          opacity: skill.isLearned ? 1 : 0.5,\n                        }}\n                      >\n                        {getSkillIcon(skill)}\n                      </div>\n                      {/* ë ˆë²¨ í‘œì‹œ */}\n                      {skill.level > 0 && (\n                        <div\n                          style={{\n                            position: \"absolute\",\n                            bottom: \"2px\",\n                            right: \"2px\",\n                            background: \"#10b981\",\n                            color: \"white\",\n                            fontSize: \"10px\",\n                            padding: \"1px 4px\",\n                            borderRadius: \"3px\",\n                            lineHeight: \"1\",\n                            fontWeight: \"bold\",\n                          }}\n                        >\n                          {skill.level}\n                        </div>\n                      )}\n                      {/* ë°°ìš¸ ìˆ˜ ìˆìŒ í‘œì‹œ */}\n                      {skill.level === 0 && character.gold >= 100 && (\n                        <div\n                          style={{\n                            position: \"absolute\",\n                            top: \"2px\",\n                            right: \"2px\",\n                            background: \"#fbbf24\",\n                            width: \"8px\",\n                            height: \"8px\",\n                            borderRadius: \"50%\",\n                            animation: \"pulse 2s infinite\",\n                          }}\n                        />\n                      )}\n                    </>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* ì˜¤ë¥¸ìª½ ìŠ¤í‚¬ ìƒì„¸ ì •ë³´ */}\n        <div style={{ width: \"300px\" }}>\n          <h3\n            style={{ color: \"white\", marginBottom: \"15px\", fontSize: \"16px\" }}\n          >\n            ğŸ“‹ {t(\"rpg.ui.skillInfoPanel\")}\n          </h3>\n          {selectedSkill ? (\n            <div\n              style={{\n                background: \"rgba(255, 255, 255, 0.1)\",\n                border: selectedSkill.isLearned\n                  ? \"2px solid #10b981\"\n                  : \"2px solid #6b7280\",\n                borderRadius: \"10px\",\n                padding: \"20px\",\n              }}\n            >\n              <div style={{ textAlign: \"center\", marginBottom: \"15px\" }}>\n                <div\n                  style={{\n                    fontSize: \"48px\",\n                    marginBottom: \"10px\",\n                    filter: selectedSkill.isLearned ? \"none\" : \"grayscale(1)\",\n                    opacity: selectedSkill.isLearned ? 1 : 0.7,\n                  }}\n                >\n                  {getSkillIcon(selectedSkill)}\n                </div>\n                <h4\n                  style={{\n                    color: selectedSkill.isLearned ? \"#10b981\" : \"#9ca3af\",\n                    margin: \"0 0 5px 0\",\n                    fontSize: \"18px\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {selectedSkill.name}\n                </h4>\n                <p\n                  style={{\n                    color: \"#9ca3af\",\n                    margin: \"0 0 15px 0\",\n                    fontSize: \"14px\",\n                  }}\n                >\n                  Lv.{selectedSkill.level}/{selectedSkill.maxLevel} â€¢{\" \"}\n                  {selectedSkill.type === \"active\" ? t(\"rpg.skills.active\") : t(\"rpg.skills.passive\")}\n                </p>\n              </div>\n\n              {/* ìŠ¤í‚¬ íš¨ê³¼ */}\n              <div style={{ marginBottom: \"15px\" }}>\n                <h5\n                  style={{\n                    color: \"white\",\n                    margin: \"0 0 10px 0\",\n                    fontSize: \"14px\",\n                  }}\n                >\n                  {t(\"rpg.skills.effect\")}\n                </h5>\n                <p\n                  style={{\n                    color: \"#d1d5db\",\n                    fontSize: \"12px\",\n                    lineHeight: \"1.4\",\n                    margin: 0,\n                  }}\n                >\n                  {selectedSkill.description}\n                </p>\n                {selectedSkill.level > 0 && selectedSkill.type === \"active\" && (\n                  <p\n                    style={{\n                      color: \"#fbbf24\",\n                      fontSize: \"12px\",\n                      fontWeight: \"bold\",\n                      marginTop: \"8px\",\n                    }}\n                  >\n                    ë°ë¯¸ì§€: {calculateSkillDamage(selectedSkill, character)}\n                  </p>\n                )}\n              </div>\n\n              {/* ìŠ¤í‚¬ ì •ë³´ */}\n              {selectedSkill.type === \"active\" && (\n                <div style={{ marginBottom: \"15px\" }}>\n                  <h5\n                    style={{\n                      color: \"white\",\n                      margin: \"0 0 10px 0\",\n                      fontSize: \"14px\",\n                    }}\n                  >\n                    {t(\"rpg.skills.usageInfo\")}\n                  </h5>\n                  <div style={{ fontSize: \"12px\", color: \"#9ca3af\" }}>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"5px\",\n                      }}\n                    >\n                      <span>{t(\"rpg.skills.manaCost\")}</span>\n                      <span style={{ color: \"#60a5fa\" }}>\n                        {selectedSkill.manaCost}\n                      </span>\n                    </div>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"5px\",\n                      }}\n                    >\n                      <span>{t(\"rpg.skills.cooldown\")}</span>\n                      <span style={{ color: \"#f472b6\" }}>\n                        {selectedSkill.cooldown / 1000}ì´ˆ\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* ì—…ê·¸ë ˆì´ë“œ ë¹„ìš© */}\n              <div style={{ marginBottom: \"15px\" }}>\n                <h5\n                  style={{\n                    color: \"white\",\n                    margin: \"0 0 10px 0\",\n                    fontSize: \"14px\",\n                  }}\n                >\n                  {selectedSkill.level === 0 ? t(\"rpg.skills.learnCost\") : t(\"rpg.skills.upgradeCost\")}\n                </h5>\n                <p style={{ color: \"#f59e0b\", fontSize: \"12px\", margin: 0 }}>\n                  {selectedSkill.level === 0\n                    ? \"100\"\n                    : (selectedSkill.level * 100).toLocaleString()}\n{t(\"rpg.item.gold\")}\n                </p>\n              </div>\n\n              {/* ì•¡ì…˜ ë²„íŠ¼ */}\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  gap: \"10px\",\n                }}\n              >\n                {selectedSkill.level === 0 ? (\n                  <button\n                    onClick={() => {\n                      learnSkill(selectedSkill);\n                      setSelectedSkill(null);\n                    }}\n                    disabled={character.gold < 100}\n                    style={{\n                      background:\n                        character.gold >= 100\n                          ? \"linear-gradient(135deg, #10b981 0%, #059669 100%)\"\n                          : \"#6b7280\",\n                      color: \"white\",\n                      border: \"none\",\n                      borderRadius: \"6px\",\n                      padding: \"12px\",\n                      fontSize: \"14px\",\n                      cursor: character.gold >= 100 ? \"pointer\" : \"not-allowed\",\n                      fontWeight: \"bold\",\n                    }}\n                  >\n                    {t(\"rpg.skills.learn\")} (100G)\n                  </button>\n                ) : selectedSkill.level < selectedSkill.maxLevel ? (\n                  <button\n                    onClick={() => {\n                      const cost = selectedSkill.level * 100;\n                      if (character.gold >= cost) {\n                        setCharacter((prev) => ({\n                          ...prev,\n                          gold: prev.gold - cost,\n                          skills: prev.skills.map((s) =>\n                            s.id === selectedSkill.id\n                              ? { ...s, level: s.level + 1 }\n                              : s\n                          ),\n                        }));\n                        addToCombatLog(\n                          `${selectedSkill.name}ì„(ë¥¼) ë ˆë²¨ì—…í–ˆë‹¤! (Lv.${\n                            selectedSkill.level + 1\n                          })`\n                        );\n                        setSelectedSkill((prev) =>\n                          prev ? { ...prev, level: prev.level + 1 } : null\n                        );\n                      }\n                    }}\n                    disabled={character.gold < selectedSkill.level * 100}\n                    style={{\n                      background:\n                        character.gold >= selectedSkill.level * 100\n                          ? \"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)\"\n                          : \"#6b7280\",\n                      color: \"white\",\n                      border: \"none\",\n                      borderRadius: \"6px\",\n                      padding: \"12px\",\n                      fontSize: \"14px\",\n                      cursor:\n                        character.gold >= selectedSkill.level * 100\n                          ? \"pointer\"\n                          : \"not-allowed\",\n                      fontWeight: \"bold\",\n                    }}\n                  >\n                    ë ˆë²¨ì—… ({(selectedSkill.level * 100).toLocaleString()}G)\n                  </button>\n                ) : (\n                  <div\n                    style={{\n                      background: \"#374151\",\n                      color: \"#9ca3af\",\n                      border: \"none\",\n                      borderRadius: \"6px\",\n                      padding: \"12px\",\n                      fontSize: \"14px\",\n                      textAlign: \"center\",\n                    }}\n                  >\n                    ìµœëŒ€ ë ˆë²¨ ë‹¬ì„±\n                  </div>\n                )}\n              </div>\n            </div>\n          ) : (\n            <div\n              style={{\n                background: \"rgba(255, 255, 255, 0.05)\",\n                borderRadius: \"10px\",\n                padding: \"40px\",\n                textAlign: \"center\",\n                color: \"#6b7280\",\n              }}\n            >\n              <p>{t(\"rpg.skills.info.description\")}</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  // ëª¬ìŠ¤í„° ìƒì„±\n  const spawnMonster = () => {\n    // ì´ë¯¸ ëª¬ìŠ¤í„°ê°€ ìˆê±°ë‚˜ ë˜ì „ì— ìˆìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•ŠìŒ\n    if (currentMonster || inDungeon) {\n      return;\n    }\n\n    const gameTexts = (window as any).gameTexts || {\n      monsters: {\n        slime: t(\"rpg.monsters.slime\"),\n        goblin: t(\"rpg.monsters.goblin\"),\n        orc: t(\"rpg.monsters.orc\"),\n        troll: t(\"rpg.monsters.troll\"),\n        dragon: t(\"rpg.monsters.dragon\"),\n      },\n      combat: { appeared: t(\"rpg.combat.appeared\") },\n    };\n    const monsters = [\n      {\n        name: gameTexts.monsters.slime,\n        baseHp: 40,\n        baseAttack: 8,\n        baseDefense: 2,\n        exp: 15,\n        gold: 10,\n        minLevel: 1,\n        maxLevel: 3,\n      },\n      {\n        name: gameTexts.monsters.goblin,\n        baseHp: 60,\n        baseAttack: 12,\n        baseDefense: 4,\n        exp: 25,\n        gold: 18,\n        minLevel: 3,\n        maxLevel: 6,\n      },\n      {\n        name: gameTexts.monsters.orc,\n        baseHp: 100,\n        baseAttack: 18,\n        baseDefense: 8,\n        exp: 40,\n        gold: 30,\n        minLevel: 6,\n        maxLevel: 10,\n      },\n      {\n        name: gameTexts.monsters.troll,\n        baseHp: 150,\n        baseAttack: 25,\n        baseDefense: 12,\n        exp: 60,\n        gold: 45,\n        minLevel: 10,\n        maxLevel: 15,\n      },\n      {\n        name: gameTexts.monsters.dragon,\n        baseHp: 300,\n        baseAttack: 40,\n        baseDefense: 20,\n        exp: 120,\n        gold: 100,\n        minLevel: 15,\n        maxLevel: 999,\n      },\n    ];\n\n    // ìºë¦­í„° ë ˆë²¨ì— ì í•©í•œ ëª¬ìŠ¤í„°ë§Œ í•„í„°ë§\n    const availableMonsters = monsters.filter(\n      (monster) =>\n        character.level >= monster.minLevel &&\n        character.level <= monster.maxLevel\n    );\n\n    // ì í•©í•œ ëª¬ìŠ¤í„°ê°€ ì—†ìœ¼ë©´ ë ˆë²¨ ë²”ìœ„ë¥¼ í™•ì¥\n    const finalMonsters =\n      availableMonsters.length > 0\n        ? availableMonsters\n        : monsters.filter(\n            (monster) => Math.abs(character.level - monster.minLevel) <= 2\n          );\n\n    const randomMonster =\n      finalMonsters[Math.floor(Math.random() * finalMonsters.length)];\n    const levelMultiplier = 1 + (character.level - 1) * 0.3;\n\n    const monster: Monster = {\n      id: `monster_${Date.now()}`,\n      name: randomMonster.name,\n      level: Math.max(1, character.level + Math.floor(Math.random() * 3 - 1)),\n      hp: Math.floor(randomMonster.baseHp * levelMultiplier),\n      maxHp: Math.floor(randomMonster.baseHp * levelMultiplier),\n      attack: Math.floor(randomMonster.baseAttack * levelMultiplier),\n      defense: Math.floor(randomMonster.baseDefense * levelMultiplier),\n      speed: 10,\n      exp: Math.floor(randomMonster.exp * levelMultiplier),\n      gold: Math.floor(randomMonster.gold * levelMultiplier),\n      dropItems: generateDropItems(),\n      isBoss: Math.random() < 0.1, // 10% ë³´ìŠ¤ í™•ë¥ \n    };\n\n    if (monster.isBoss) {\n      monster.name = `ë³´ìŠ¤ ${monster.name}`;\n      monster.hp *= 3;\n      monster.maxHp *= 3;\n      monster.attack *= 2;\n      monster.defense *= 2;\n      monster.exp *= 5;\n      monster.gold *= 3;\n    }\n\n    setCurrentMonster(monster);\n    addToCombatLog(\n      `${monster.name} Lv.${monster.level}${gameTexts.combat.appeared}`\n    );\n  };\n\n  // ë“œë¡­ ì•„ì´í…œ ìƒì„±\n  const generateDropItems = (): Item[] => {\n    const dropChance = Math.random();\n    if (dropChance < 0.1) {\n      // 10% í™•ë¥ ë¡œ ì•„ì´í…œ ë“œë¡­\n      const rarities: Array<\n        \"common\" | \"rare\" | \"epic\" | \"legendary\" | \"mythic\"\n      > = [\"common\", \"rare\", \"epic\", \"legendary\", \"mythic\"];\n      const rarity = rarities[Math.floor(Math.random() * rarities.length)];\n      const itemTypes = [\n        \"weapon\",\n        \"armor\",\n        \"helmet\",\n        \"boots\",\n        \"ring\",\n        \"amulet\",\n      ] as const;\n      const itemType = itemTypes[Math.floor(Math.random() * itemTypes.length)];\n\n      return [\n        {\n          id: `drop_${Date.now()}`,\n          name: generateItemName(rarity, itemType),\n          type: itemType,\n          rarity,\n          level: character.level,\n          stats: generateItemStats(rarity),\n          price: calculateItemPrice(rarity, character.level),\n          enhancement: 0,\n        },\n      ];\n    }\n    return [];\n  };\n\n  const generateItemName = (rarity: string, itemType: string): string => {\n    const prefixes = {\n      common: [\"ë‚¡ì€\", \"ì¼ë°˜ì ì¸\", \"ê¸°ë³¸\"],\n      rare: [\"ë‚ ì¹´ë¡œìš´\", \"íŠ¼íŠ¼í•œ\", \"ë§ˆë²•ì˜\"],\n      epic: [\"ì „ì„¤ì ì¸\", \"ê³ ëŒ€ì˜\", \"ì‹ ì„±í•œ\"],\n      legendary: [\"ì „ì„¤ì˜\", \"ì˜ì›…ì˜\", \"ë¶ˆë©¸ì˜\"],\n      mythic: [\"ì‹ í™”ì˜\", \"ì°½ì¡°ì˜\", \"ì ˆëŒ€ì˜\"],\n    };\n\n    const itemNames = {\n      weapon: [\"ê²€\", \"ë„ë¼\", \"ì°½\", \"í™œ\", \"ì§€íŒ¡ì´\"],\n      armor: [\"ê°‘ì˜·\", \"ë¡œë¸Œ\", \"ì‚¬ìŠ¬ê°‘ì˜·\", \"ê°€ì£½ê°‘ì˜·\"],\n      helmet: [\"íˆ¬êµ¬\", \"ëª¨ì\", \"ê´€\", \"í—¬ë¦„\"],\n      boots: [\"ì‹ ë°œ\", \"ë¶€ì¸ \", \"ì¥í™”\", \"ìƒŒë“¤\"],\n      ring: [\"ë°˜ì§€\", \"ë§\", \"ë°´ë“œ\"],\n      amulet: [\"ëª©ê±¸ì´\", \"ë¶€ì \", \"íœë˜íŠ¸\"],\n    };\n\n    const prefix =\n      prefixes[rarity as keyof typeof prefixes][Math.floor(Math.random() * 3)];\n    const itemTypeNames = itemNames[itemType as keyof typeof itemNames] || [\n      \"ì•„ì´í…œ\",\n    ];\n    const item =\n      itemTypeNames[Math.floor(Math.random() * itemTypeNames.length)];\n\n    return `${prefix} ${item}`;\n  };\n\n  const generateItemStats = (rarity: string) => {\n    const multipliers = {\n      common: 1,\n      rare: 1.5,\n      epic: 2.5,\n      legendary: 4,\n      mythic: 7,\n    };\n\n    const base = multipliers[rarity as keyof typeof multipliers];\n    return {\n      attack: Math.floor(Math.random() * 20 * base),\n      defense: Math.floor(Math.random() * 15 * base),\n      hp: Math.floor(Math.random() * 50 * base),\n      mp: Math.floor(Math.random() * 30 * base),\n      speed: Math.floor(Math.random() * 10 * base),\n      critRate: Math.floor(Math.random() * 10 * base),\n      critDamage: Math.floor(Math.random() * 20 * base),\n    };\n  };\n\n  const calculateItemPrice = (rarity: string, level: number): number => {\n    const basePrice = {\n      common: 50,\n      rare: 150,\n      epic: 500,\n      legendary: 2000,\n      mythic: 10000,\n    };\n\n    return Math.floor(\n      basePrice[rarity as keyof typeof basePrice] * (1 + level * 0.2)\n    );\n  };\n\n  // ì „íˆ¬ ì‹œìŠ¤í…œ\n  const attack = () => {\n    if (!currentMonster) return;\n\n    const buffedAttack = character.attack + character.buffs.attack.amount;\n    const damage = calculateDamage(buffedAttack, currentMonster.defense);\n    const isCritical = Math.random() < 0.1 + character.stats.luck * 0.01;\n    const finalDamage = isCritical ? Math.floor(damage * 1.5) : damage;\n\n    const newMonsterHp = Math.max(0, currentMonster.hp - finalDamage);\n    setCurrentMonster((prev) => (prev ? { ...prev, hp: newMonsterHp } : null));\n\n    const gameTexts = (window as any).gameTexts || {\n      combat: { attack: \"ì˜ ê³µê²©!\", damage: \"ë°ë¯¸ì§€!\", critical: \"ì¹˜ëª…íƒ€!\" },\n    };\n    addToCombatLog(\n      `${character.name}${gameTexts.combat.attack} ${finalDamage}${\n        isCritical ? ` (${gameTexts.combat.critical})` : \"\"\n      } ${gameTexts.combat.damage}`\n    );\n\n    onAction(\"combat_attack\", {\n      user_id: currentUser.user_id,\n      damage: finalDamage,\n      is_critical: isCritical,\n      monster_name: currentMonster.name,\n      monster_level: currentMonster.level,\n      character_level: character.level,\n      character_attack: character.attack,\n      monster_hp_remaining: newMonsterHp,\n      dungeon_name: currentDungeon?.name || null,\n      dungeon_floor: currentDungeon?.currentFloor || null,\n    });\n\n    if (newMonsterHp <= 0) {\n      defeatMonster();\n    } else {\n      // ëª¬ìŠ¤í„° ë°˜ê²©\n      setTimeout(() => monsterAttack(), 1000);\n    }\n  };\n\n  const monsterAttack = () => {\n    if (!currentMonster || currentMonster.hp <= 0) return;\n\n    const buffedDefense = character.defense + character.buffs.defense.amount;\n    const damage = calculateDamage(currentMonster.attack, buffedDefense);\n    const newHp = Math.max(0, character.hp - damage);\n\n    setCharacter((prev) => ({ ...prev, hp: newHp }));\n    const gameTexts = (window as any).gameTexts || {\n      combat: { attack: \"ì˜ ê³µê²©!\", damage: \"ë°ë¯¸ì§€!\" },\n    };\n    addToCombatLog(\n      `${currentMonster.name}${gameTexts.combat.attack} ${damage} ${gameTexts.combat.damage}`\n    );\n\n    if (newHp <= 0) {\n      const gameTexts = (window as any).gameTexts || {\n        combat: { defeat: \"ì „íˆ¬ì—ì„œ íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤...\" },\n      };\n      addToCombatLog(gameTexts.combat.defeat);\n      setIsAutoFighting(false);\n\n      // ì „íˆ¬ ì‹¤íŒ¨ ì´ë²¤íŠ¸ ë¡œê¹…\n      onAction(\"combat_defeat\", {\n        monster_name: currentMonster.name,\n        monster_level: currentMonster.level,\n        character_level: character.level,\n        dungeon_id: currentDungeon?.id || \"field\",\n        dungeon_name: currentDungeon?.name || \"field\",\n        damage_taken: currentMonster.attack,\n        character_defense: character.defense,\n      });\n\n      // ë˜ì „ì—ì„œ ë‚˜ê°€ê³  ì²´ë ¥/ë§ˆë‚˜ ì™„ì „ íšŒë³µ\n      setTimeout(() => {\n        setCharacter((prev) => ({\n          ...prev,\n          hp: prev.maxHp,\n          mp: prev.maxMp,\n        }));\n\n        if (inDungeon && currentDungeon) {\n          // ë˜ì „ì—ì„œ ë‚˜ê°€ê¸° (ì£½ìŒìœ¼ë¡œ ì¸í•œ ìë™ í‡´ì¥)\n          onAction(\"dungeon_exited\", {\n            dungeon_id: currentDungeon.id,\n            dungeon_name: currentDungeon.name,\n            current_floor: currentDungeon.currentFloor,\n            total_floors: currentDungeon.floors,\n            character_level: character.level,\n            exit_reason: \"death\",\n            time_spent: new Date().getTime(),\n          });\n          setInDungeon(false);\n          setCurrentDungeon(null);\n          setCurrentTab(\"lobby\");\n          setGameMode(\"lobby\");\n          addToCombatLog(\n            \"ë˜ì „ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!\"\n          );\n        } else {\n          // ì¼ë°˜ í•„ë“œì—ì„œëŠ” ìƒˆ ëª¬ìŠ¤í„° ìŠ¤í°\n          addToCombatLog(\"ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!\");\n          spawnMonster();\n        }\n      }, 2000);\n    }\n  };\n\n  const calculateDamage = (attack: number, defense: number): number => {\n    const baseDamage = Math.max(1, attack - Math.floor(defense * 0.5));\n    return Math.floor(baseDamage * (0.8 + Math.random() * 0.4));\n  };\n\n  const defeatMonster = () => {\n    if (!currentMonster) return;\n\n    const expGained = currentMonster.exp;\n    const goldGained = currentMonster.gold;\n\n    setCharacter((prev) => {\n      let newExp = prev.exp + expGained;\n      const newGold = prev.gold + goldGained;\n      let newLevel = prev.level;\n      let newMaxExp = prev.maxExp;\n      let newHp = prev.hp;\n      let newMp = prev.mp;\n      let newMaxHp = prev.maxHp;\n      let newMaxMp = prev.maxMp;\n      let availablePoints = prev.stats.availablePoints;\n\n      // ë ˆë²¨ì—… ì²´í¬\n      while (newExp >= newMaxExp) {\n        newLevel += 1;\n        newExp -= newMaxExp;\n        newMaxExp = Math.floor(newMaxExp * 1.5);\n        newMaxHp += 20;\n        newMaxMp += 10;\n        newHp = newMaxHp; // ë ˆë²¨ì—… ì‹œ ì²´ë ¥ ì™„ì „ íšŒë³µ\n        newMp = newMaxMp; // ë ˆë²¨ì—… ì‹œ ë§ˆë‚˜ ì™„ì „ íšŒë³µ\n        availablePoints += 5;\n\n        addToCombatLog(`ğŸ‰ ë ˆë²¨ì—…! Lv.${newLevel}ì´ ë˜ì—ˆìŠµë‹ˆë‹¤!`);\n\n        onAction(\"level_up\", {\n          user_id: currentUser.user_id,\n          new_level: newLevel,\n          character_class: prev.class,\n          stat_points_gained: 5,\n        });\n\n        // ë˜ì „ í•´ê¸ˆ ì²´í¬\n        setAvailableDungeons((prevDungeons) =>\n          prevDungeons.map((dungeon) => ({\n            ...dungeon,\n            isUnlocked: dungeon.isUnlocked || newLevel >= dungeon.requiredLevel,\n          }))\n        );\n      }\n\n      return {\n        ...prev,\n        exp: newExp,\n        gold: newGold,\n        level: newLevel,\n        maxExp: newMaxExp,\n        hp: newHp,\n        mp: newMp,\n        maxHp: newMaxHp,\n        maxMp: newMaxMp,\n        stats: { ...prev.stats, availablePoints },\n      };\n    });\n\n    // ì•„ì´í…œ ë“œë¡­ ì²˜ë¦¬\n    if (currentMonster.dropItems.length > 0) {\n      setInventory((prev) => [...prev, ...currentMonster.dropItems]);\n      addToCombatLog(`âœ¨ ${currentMonster.dropItems[0].name}ì„ íšë“í–ˆìŠµë‹ˆë‹¤!`);\n    }\n\n    addToCombatLog(\n      `${currentMonster.name}ë¥¼ ë¬¼ë¦¬ì³¤ë‹¤! EXP +${expGained}, ê³¨ë“œ +${goldGained}`\n    );\n\n    // ì¶”ì  ì¹´ìš´í„° ì—…ë°ì´íŠ¸\n    setMonstersDefeated((prev) => prev + 1);\n    setTotalGoldEarned((prev) => prev + goldGained);\n\n    onAction(\"monster_defeated\", {\n      user_id: currentUser.user_id,\n      monster_name: currentMonster.name,\n      monster_level: currentMonster.level,\n      character_level: character.level,\n      exp_gained: expGained,\n      gold_gained: goldGained,\n      items_dropped: currentMonster.dropItems.length,\n      character_attack: character.attack,\n      dungeon_name: currentDungeon?.name || null,\n      dungeon_floor: currentDungeon?.currentFloor || null,\n    });\n\n    // í˜„ì¬ ëª¬ìŠ¤í„° ì œê±°\n    setCurrentMonster(null);\n\n    // ë˜ì „ì— ìˆëŠ” ê²½ìš° í˜„ì¬ ì¸µì—ì„œ ìƒˆë¡œìš´ ëª¬ìŠ¤í„° ìƒì„±, ì•„ë‹ˆë©´ ì¼ë°˜ ëª¬ìŠ¤í„° ìƒì„±\n    if (inDungeon && currentDungeon) {\n      // í˜„ì¬ ì¸µì„ í´ë¦¬ì–´í•œ ê²ƒìœ¼ë¡œ ë§ˆí‚¹\n      const updatedDungeon = {\n        ...currentDungeon,\n        clearedFloors: new Set([\n          ...Array.from(currentDungeon.clearedFloors),\n          currentDungeon.currentFloor,\n        ]),\n      };\n      setCurrentDungeon(updatedDungeon);\n\n      // ë˜ì „ ë¦¬ìŠ¤íŠ¸ì—ì„œë„ ì—…ë°ì´íŠ¸\n      setAvailableDungeons((prev) =>\n        prev.map((d) => (d.id === updatedDungeon.id ? updatedDungeon : d))\n      );\n\n      // ë˜ì „ì—ì„œëŠ” í˜„ì¬ ì¸µì—ì„œ ê³„ì† ì‚¬ëƒ¥í•  ìˆ˜ ìˆë„ë¡ ìƒˆ ëª¬ìŠ¤í„° ìƒì„±\n      addToCombatLog(\n        t(\"rpg.messages.monsterDefeatedFloorCleared\").replace(\"{floor}\", currentDungeon.currentFloor.toString())\n      );\n      setTimeout(() => {\n        spawnDungeonMonster(updatedDungeon, true);\n      }, 2000);\n    } else {\n      // ì¼ë°˜ ë°©ì¹˜í˜• ì „íˆ¬ì—ì„œ ìƒˆ ëª¬ìŠ¤í„° ìƒì„± (ë˜ì „ ìƒíƒœê°€ ì•„ë‹ ë•Œë§Œ)\n      if (!inDungeon) {\n        setTimeout(() => {\n          spawnMonster();\n        }, 2000);\n      }\n    }\n  };\n\n  // ë‹¤ìŒ ì¸µìœ¼ë¡œ ì§„í–‰\n  const proceedToNextFloor = () => {\n    if (!currentDungeon) return;\n\n    const updatedDungeon = {\n      ...currentDungeon,\n      currentFloor: currentDungeon.currentFloor + 1,\n    };\n    setCurrentDungeon(updatedDungeon);\n    setShowDungeonChoice(false);\n    setTimeout(() => {\n      spawnDungeonMonster(updatedDungeon, true); // ê°•ì œ ìŠ¤í°\n      addToCombatLog(t(\"rpg.messages.proceedToFloor\").replace(\"{floor}\", updatedDungeon.currentFloor.toString()));\n    }, 500);\n  };\n\n  // ë˜ì „ ë‚˜ê°€ê¸°\n  const exitDungeonAfterVictory = () => {\n    if (!currentDungeon) return;\n\n    // ë˜ì „ ë‚˜ê°€ê¸° ì´ë²¤íŠ¸ ë¡œê¹…\n    onAction(\"dungeon_exited\", {\n      dungeon_id: currentDungeon.id,\n      dungeon_name: currentDungeon.name,\n      current_floor: currentDungeon.currentFloor,\n      total_floors: currentDungeon.floors,\n      character_level: character.level,\n      exit_reason: \"victory_choice\",\n      time_spent: new Date().getTime(),\n    });\n\n    // ë˜ì „ ë¦¬ì…‹ (í˜„ì¬ ì¸µì„ 1ì¸µìœ¼ë¡œ ë˜ëŒë¦¼)\n    const resetDungeon = { ...currentDungeon, currentFloor: 1 };\n    setAvailableDungeons((prev) =>\n      prev.map((d) => (d.id === resetDungeon.id ? resetDungeon : d))\n    );\n\n    setInDungeon(false);\n    setCurrentDungeon(null);\n    setCurrentTab(\"lobby\");\n    setGameMode(\"lobby\");\n    setShowDungeonChoice(false);\n\n    // ì²´ë ¥ê³¼ ë§ˆë‚˜ ì™„ì „ íšŒë³µ\n    setCharacter((prev) => ({ ...prev, hp: prev.maxHp, mp: prev.maxMp }));\n    addToCombatLog(\"ë˜ì „ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤. ì²´ë ¥ê³¼ ë§ˆë‚˜ê°€ ì™„ì „íˆ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!\");\n\n    // ìƒˆë¡œìš´ ì¼ë°˜ ëª¬ìŠ¤í„° ìƒì„±\n    setTimeout(() => {\n      spawnMonster();\n    }, 1000);\n  };\n\n  // ìë™ ì „íˆ¬\n  useEffect(() => {\n    if (\n      isAutoFighting &&\n      currentMonster &&\n      currentMonster.hp > 0 &&\n      character.hp > 0\n    ) {\n      const autoAttackTimer = setTimeout(() => {\n        attack();\n      }, 2000);\n\n      return () => clearTimeout(autoAttackTimer);\n    }\n  }, [isAutoFighting, currentMonster, character.hp]);\n\n  // ìŠ¤í‚¬ ì¿¨ë‹¤ìš´ ë° MP íšŒë³µ\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCharacter((prev) => ({\n        ...prev,\n        mp: Math.min(prev.maxMp, prev.mp + 1),\n        skills: prev.skills.map((skill) => ({\n          ...skill,\n          currentCooldown: Math.max(0, skill.currentCooldown - 100),\n        })),\n        buffs: {\n          attack: {\n            amount:\n              prev.buffs.attack.duration > 0 ? prev.buffs.attack.amount : 0,\n            duration: Math.max(0, prev.buffs.attack.duration - 100),\n          },\n          defense: {\n            amount:\n              prev.buffs.defense.duration > 0 ? prev.buffs.defense.amount : 0,\n            duration: Math.max(0, prev.buffs.defense.duration - 100),\n          },\n          speed: {\n            amount: prev.buffs.speed.duration > 0 ? prev.buffs.speed.amount : 0,\n            duration: Math.max(0, prev.buffs.speed.duration - 100),\n          },\n        },\n      }));\n    }, 100);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const addToCombatLog = (message: string) => {\n    setCombatLog((prev) => {\n      const newLog = [...prev, message];\n      if (newLog.length > 50) newLog.shift();\n      return newLog;\n    });\n\n    // Auto-scroll to bottom immediately and with backup timing\n    if (logRef.current) {\n      logRef.current.scrollTop = logRef.current.scrollHeight;\n    }\n\n    // Additional scroll with slight delay to ensure content is rendered\n    setTimeout(() => {\n      if (logRef.current) {\n        logRef.current.scrollTop = logRef.current.scrollHeight;\n      }\n    }, 10);\n\n    // Final backup scroll\n    setTimeout(() => {\n      if (logRef.current) {\n        logRef.current.scrollTop = logRef.current.scrollHeight;\n      }\n    }, 100);\n  };\n\n  // ìŠ¤íƒ¯ ë¶„ë°°\n  const allocateStatPoint = (\n    stat: keyof Omit<CharacterStats, \"availablePoints\">\n  ) => {\n    if (character.stats.availablePoints <= 0) return;\n\n    setCharacter((prev) => ({\n      ...prev,\n      stats: {\n        ...prev.stats,\n        [stat]: prev.stats[stat] + 1,\n        availablePoints: prev.stats.availablePoints - 1,\n      },\n      // ìŠ¤íƒ¯ì— ë”°ë¥¸ ëŠ¥ë ¥ì¹˜ ì—…ë°ì´íŠ¸\n      attack: stat === \"strength\" ? prev.attack + 2 : prev.attack,\n      defense: stat === \"vitality\" ? prev.defense + 1 : prev.defense,\n      maxHp: stat === \"vitality\" ? prev.maxHp + 10 : prev.maxHp,\n      maxMp: stat === \"intelligence\" ? prev.maxMp + 5 : prev.maxMp,\n      speed: stat === \"agility\" ? prev.speed + 1 : prev.speed,\n    }));\n  };\n\n  // ì•„ì´í…œ ì¥ì°©\n  const equipItem = (item: Item) => {\n    // ì†Œë¹„ ì•„ì´í…œì€ ì¥ì°©í•  ìˆ˜ ì—†ìŒ\n    if (item.type === \"consumable\") {\n      return;\n    }\n\n    // ê¸°ì¡´ì— ì¥ì°©ëœ ì•„ì´í…œì´ ìˆëŠ”ì§€ í™•ì¸\n    const slot = item.type as keyof Equipment;\n    const currentEquippedItem = character.equipment[slot];\n\n    setCharacter((prev) => {\n      const newEquipment = { ...prev.equipment };\n      newEquipment[slot] = item;\n\n      // ê¸°ì¡´ ì•„ì´í…œì˜ ìŠ¤íƒ¯ ì œê±°\n      let newAttack = prev.attack;\n      let newDefense = prev.defense;\n      let newMaxHp = prev.maxHp;\n      let newMaxMp = prev.maxMp;\n      let newSpeed = prev.speed;\n\n      if (currentEquippedItem) {\n        if (currentEquippedItem.stats.attack)\n          newAttack -= currentEquippedItem.stats.attack;\n        if (currentEquippedItem.stats.defense)\n          newDefense -= currentEquippedItem.stats.defense;\n        if (currentEquippedItem.stats.hp)\n          newMaxHp -= currentEquippedItem.stats.hp;\n        if (currentEquippedItem.stats.mp)\n          newMaxMp -= currentEquippedItem.stats.mp;\n        if (currentEquippedItem.stats.speed)\n          newSpeed -= currentEquippedItem.stats.speed;\n      }\n\n      // ìƒˆ ì•„ì´í…œì˜ ìŠ¤íƒ¯ ì ìš©\n      if (item.stats.attack) newAttack += item.stats.attack;\n      if (item.stats.defense) newDefense += item.stats.defense;\n      if (item.stats.hp) newMaxHp += item.stats.hp;\n      if (item.stats.mp) newMaxMp += item.stats.mp;\n      if (item.stats.speed) newSpeed += item.stats.speed;\n\n      // ìŠ¤íƒ¯ì´ ìµœì†Œê°’ ì´í•˜ë¡œ ë‚´ë ¤ê°€ì§€ ì•Šë„ë¡ ë³´ì •\n      newAttack = Math.max(1, newAttack);\n      newDefense = Math.max(0, newDefense);\n      newMaxHp = Math.max(100, newMaxHp);\n      newMaxMp = Math.max(50, newMaxMp);\n      newSpeed = Math.max(1, newSpeed);\n\n      return {\n        ...prev,\n        equipment: newEquipment,\n        attack: newAttack,\n        defense: newDefense,\n        maxHp: newMaxHp,\n        maxMp: newMaxMp,\n        speed: newSpeed,\n        hp: Math.min(prev.hp, newMaxHp), // ìµœëŒ€ ì²´ë ¥ì´ ì¤„ì–´ë“¤ ê²½ìš° í˜„ì¬ ì²´ë ¥ë„ ì¡°ì •\n        mp: Math.min(prev.mp, newMaxMp), // ìµœëŒ€ ë§ˆë‚˜ê°€ ì¤„ì–´ë“¤ ê²½ìš° í˜„ì¬ ë§ˆë‚˜ë„ ì¡°ì •\n      };\n    });\n\n    // ê¸°ì¡´ì— ì¥ì°©ëœ ì•„ì´í…œì´ ìˆì—ˆë‹¤ë©´ ì¸ë²¤í† ë¦¬ë¡œ ë³´ë‚´ê¸°\n    if (currentEquippedItem) {\n      setInventory((prev) => [...prev, currentEquippedItem]);\n      addToCombatLog(\n        `ê¸°ì¡´ ${currentEquippedItem.name}ì„ í•´ì œí•˜ê³  ${item.name}ì„ ì¥ì°©í–ˆìŠµë‹ˆë‹¤!`\n      );\n    } else {\n      addToCombatLog(`${item.name}ì„ ì¥ì°©í–ˆìŠµë‹ˆë‹¤!`);\n    }\n\n    // ì¸ë²¤í† ë¦¬ì—ì„œ ìƒˆ ì•„ì´í…œ ì œê±°\n    setInventory((prev) => prev.filter((invItem) => invItem.id !== item.id));\n  };\n\n  // ì¥ë¹„ í•´ì œ\n  const unequipItem = (slot: keyof Equipment) => {\n    const equippedItem = character.equipment[slot];\n    if (!equippedItem) return;\n\n    setCharacter((prev) => {\n      const newEquipment = { ...prev.equipment };\n      newEquipment[slot] = undefined;\n\n      // ì¥ì°© í•´ì œí•œ ì•„ì´í…œì˜ ìŠ¤íƒ¯ ì œê±°\n      let newAttack = prev.attack;\n      let newDefense = prev.defense;\n      let newMaxHp = prev.maxHp;\n      let newMaxMp = prev.maxMp;\n      let newSpeed = prev.speed;\n\n      if (equippedItem.stats.attack) newAttack -= equippedItem.stats.attack;\n      if (equippedItem.stats.defense) newDefense -= equippedItem.stats.defense;\n      if (equippedItem.stats.hp) newMaxHp -= equippedItem.stats.hp;\n      if (equippedItem.stats.mp) newMaxMp -= equippedItem.stats.mp;\n      if (equippedItem.stats.speed) newSpeed -= equippedItem.stats.speed;\n\n      // HPê°€ maxHpë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šë„ë¡ ì¡°ì •\n      const adjustedHp = Math.min(prev.hp, newMaxHp);\n      const adjustedMp = Math.min(prev.mp, newMaxMp);\n\n      return {\n        ...prev,\n        equipment: newEquipment,\n        attack: Math.max(1, newAttack), // ìµœì†Œ ê³µê²©ë ¥ 1\n        defense: Math.max(0, newDefense),\n        maxHp: Math.max(100, newMaxHp), // ìµœì†Œ ì²´ë ¥ 100\n        maxMp: Math.max(50, newMaxMp), // ìµœì†Œ ë§ˆë‚˜ 50\n        speed: Math.max(1, newSpeed), // ìµœì†Œ ì†ë„ 1\n        hp: adjustedHp,\n        mp: adjustedMp,\n      };\n    });\n\n    // ì¸ë²¤í† ë¦¬ì— ì•„ì´í…œ ì¶”ê°€\n    setInventory((prev) => [...prev, equippedItem]);\n    addToCombatLog(`${equippedItem.name}ì„ í•´ì œí–ˆìŠµë‹ˆë‹¤!`);\n  };\n\n  // ì•„ì´í…œ íŒë§¤\n  const sellItem = (item: Item) => {\n    const sellPrice = Math.floor(item.price * 0.7);\n    setCharacter((prev) => ({ ...prev, gold: prev.gold + sellPrice }));\n    setInventory((prev) => prev.filter((invItem) => invItem.id !== item.id));\n    addToCombatLog(`${item.name}ì„ ${sellPrice} ê³¨ë“œì— íŒë§¤í–ˆìŠµë‹ˆë‹¤!`);\n  };\n\n  // ì•„ì´í…œ êµ¬ë§¤\n  const buyItem = (item: Item) => {\n    if (character.gold < item.price) return;\n\n    setCharacter((prev) => ({ ...prev, gold: prev.gold - item.price }));\n    setInventory((prev) => [\n      ...prev,\n      { ...item, id: `${item.id}_${Date.now()}` },\n    ]);\n    addToCombatLog(`${item.name}${t(\"rpg.combat.itemPurchased\")}`);\n  };\n\n  const getRarityColor = (rarity: string) => {\n    const colors = {\n      common: \"#9ca3af\",\n      rare: \"#3b82f6\",\n      epic: \"#8b5cf6\",\n      legendary: \"#f59e0b\",\n      mythic: \"#ef4444\",\n    };\n    return colors[rarity as keyof typeof colors] || \"#9ca3af\";\n  };\n\n  // ë˜ì „ ì…ì¥ í•¨ìˆ˜\n  const enterDungeon = (dungeon: Dungeon) => {\n    if (dungeon.isComingSoon) {\n      addToCombatLog(t(\"rpg.combat.comingSoonDungeon\"));\n      return;\n    }\n    if (character.level < dungeon.requiredLevel) {\n      addToCombatLog(\n        `ë ˆë²¨ ${dungeon.requiredLevel} ì´ìƒì´ì–´ì•¼ ì…ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.`\n      );\n      return;\n    }\n    setCurrentDungeon(dungeon);\n    setInDungeon(true);\n    setGameMode(\"dungeon\");\n    setCurrentTab(\"dungeon\");\n    spawnDungeonMonster(dungeon);\n\n    // ì´ë²¤íŠ¸ ë¡œê¹…\n    onAction(\"dungeon_entered\", {\n      dungeon_id: dungeon.id,\n      dungeon_name: dungeon.name,\n      character_level: character.level,\n      floor: dungeon.currentFloor,\n      character_attack: character.attack,\n      character_defense: character.defense,\n      character_hp: character.hp,\n      character_mp: character.mp,\n      entry_time: new Date().getTime(),\n    });\n  };\n\n  // ë˜ì „ ëª¬ìŠ¤í„° ìŠ¤í°\n  const spawnDungeonMonster = (dungeon: Dungeon, forceSpawn = false) => {\n    // ì´ë¯¸ ëª¬ìŠ¤í„°ê°€ ìˆìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•ŠìŒ (ê°•ì œ ìƒì„±ì´ ì•„ë‹Œ ê²½ìš°)\n    if (currentMonster && !forceSpawn) return;\n\n    // ê°•ì œ ìƒì„±ì¸ ê²½ìš° ê¸°ì¡´ ëª¬ìŠ¤í„°ë¥¼ ë¨¼ì € ì œê±°\n    if (forceSpawn && currentMonster) {\n      setCurrentMonster(null);\n    }\n    // ë˜ì „ë³„ ê³ ìœ  ëª¬ìŠ¤í„° íƒ€ì… ì •ì˜\n    const getDungeonMonsters = (dungeonId: string) => {\n      switch (dungeonId) {\n        case \"forest\": // ì–´ë‘ ì˜ ìˆ²\n          return [\n            { name: t(\"rpg.monsters.wolf\"), baseHp: 40, baseAttack: 10, baseDefense: 3 },\n            { name: t(\"rpg.monsters.bear\"), baseHp: 80, baseAttack: 16, baseDefense: 6 },\n            { name: t(\"rpg.monsters.giantSpider\"), baseHp: 120, baseAttack: 22, baseDefense: 10 },\n            {\n              name: \"ìˆ²ì˜ ìˆ˜í˜¸ì\",\n              baseHp: 200,\n              baseAttack: 35,\n              baseDefense: 18,\n            },\n            { name: \"ê³ ëŒ€ ì—”íŠ¸\", baseHp: 350, baseAttack: 45, baseDefense: 25 },\n          ];\n        case \"cave\": // ê³ ë¸”ë¦° ë™êµ´\n          return [\n            { name: t(\"rpg.monsters.goblinWarrior\"), baseHp: 60, baseAttack: 14, baseDefense: 5 },\n            { name: t(\"rpg.monsters.goblinArcher\"), baseHp: 45, baseAttack: 18, baseDefense: 3 },\n            {\n              name: t(\"rpg.monsters.goblinMage\"),\n              baseHp: 50,\n              baseAttack: 20,\n              baseDefense: 4,\n            },\n            {\n              name: t(\"rpg.monsters.goblinChief\"),\n              baseHp: 180,\n              baseAttack: 30,\n              baseDefense: 15,\n            },\n            { name: t(\"rpg.monsters.goblinKing\"), baseHp: 400, baseAttack: 50, baseDefense: 28 },\n          ];\n        case \"tower\": // ë§ˆë²•ì‚¬ì˜ íƒ‘\n          return [\n            { name: t(\"rpg.monsters.magicGolem\"), baseHp: 100, baseAttack: 20, baseDefense: 12 },\n            {\n              name: t(\"rpg.monsters.skeletonMage\"),\n              baseHp: 70,\n              baseAttack: 25,\n              baseDefense: 8,\n            },\n            {\n              name: t(\"rpg.monsters.flameElemental\"),\n              baseHp: 110,\n              baseAttack: 28,\n              baseDefense: 10,\n            },\n            { name: t(\"rpg.monsters.lich\"), baseHp: 250, baseAttack: 40, baseDefense: 20 },\n            {\n              name: t(\"rpg.monsters.ancientMage\"),\n              baseHp: 500,\n              baseAttack: 60,\n              baseDefense: 35,\n            },\n          ];\n        default:\n          return [\n            { name: t(\"rpg.monsters.slime\"), baseHp: 30, baseAttack: 8, baseDefense: 2 },\n            { name: t(\"rpg.monsters.goblin\"), baseHp: 50, baseAttack: 12, baseDefense: 4 },\n            { name: t(\"rpg.monsters.orc\"), baseHp: 100, baseAttack: 18, baseDefense: 8 },\n            { name: t(\"rpg.monsters.troll\"), baseHp: 150, baseAttack: 25, baseDefense: 12 },\n            { name: t(\"rpg.monsters.dragon\"), baseHp: 300, baseAttack: 40, baseDefense: 20 },\n          ];\n      }\n    };\n\n    const baseMonsters = getDungeonMonsters(dungeon.id);\n\n    // ì¸µìˆ˜ì— ë”°ë¥¸ ì ì§„ì  ëª¬ìŠ¤í„° ì„ íƒ ë¡œì§\n    const floorBasedMonsterIndex = () => {\n      const currentFloor = dungeon.currentFloor;\n      if (currentFloor <= 3) return 0; // ì²« ë²ˆì§¸ ëª¬ìŠ¤í„° (1~3ì¸µ)\n      if (currentFloor <= 7) return 1; // ë‘ ë²ˆì§¸ ëª¬ìŠ¤í„° (4~7ì¸µ)\n      if (currentFloor <= 12) return 2; // ì„¸ ë²ˆì§¸ ëª¬ìŠ¤í„° (8~12ì¸µ)\n      if (currentFloor <= 18) return 3; // ë„¤ ë²ˆì§¸ ëª¬ìŠ¤í„° (13~18ì¸µ)\n      return 4; // ë‹¤ì„¯ ë²ˆì§¸ ëª¬ìŠ¤í„° (19ì¸µ ì´ìƒ)\n    };\n\n    // ì¸µìˆ˜ ê¸°ë°˜ ê¸°ë³¸ ëª¬ìŠ¤í„° + ì•½ê°„ì˜ ëœë¤ì„± ì¶”ê°€\n    const baseIndex = floorBasedMonsterIndex();\n    const randomVariation = Math.random() < 0.3 && baseIndex > 0 ? -1 : 0; // 30% í™•ë¥ ë¡œ í•œ ë‹¨ê³„ ë‚®ì€ ëª¬ìŠ¤í„°\n    const selectedIndex = Math.max(0, baseIndex + randomVariation);\n\n    const selectedMonster = baseMonsters[selectedIndex];\n    const levelMultiplier =\n      1 + (dungeon.level + dungeon.currentFloor - 1) * 0.2;\n\n    const monster: Monster = {\n      id: `dungeon_${dungeon.id}_${Date.now()}`,\n      name: selectedMonster.name,\n      level: dungeon.level + dungeon.currentFloor,\n      hp: Math.floor(selectedMonster.baseHp * levelMultiplier),\n      maxHp: Math.floor(selectedMonster.baseHp * levelMultiplier),\n      attack: Math.floor(selectedMonster.baseAttack * levelMultiplier),\n      defense: Math.floor(selectedMonster.baseDefense * levelMultiplier),\n      speed: 10,\n      exp: Math.floor(\n        (20 + dungeon.level * 8 + dungeon.currentFloor * 3) * levelMultiplier\n      ),\n      gold: Math.floor((10 + dungeon.level * 3) * levelMultiplier),\n      dropItems: generateDropItems(),\n      isBoss: dungeon.currentFloor % 5 === 0,\n    };\n\n    if (monster.isBoss) {\n      monster.name = `ë³´ìŠ¤ ${monster.name}`;\n      monster.hp *= 2;\n      monster.maxHp *= 2;\n      monster.attack *= 1.5;\n      monster.exp *= 3;\n      monster.gold *= 2;\n    }\n\n    setCurrentMonster(monster);\n    addToCombatLog(`${monster.name} Lv.${monster.level}ì´ ë‚˜íƒ€ë‚¬ë‹¤!`);\n  };\n\n  // ë¬¼ì•½ ì‚¬ìš© í•¨ìˆ˜\n  const consumeItem = (item: Item) => {\n    if (item.type !== \"consumable\" || !item.consumableEffect) return;\n\n    const effect = item.consumableEffect;\n\n    // ì²´ë ¥ íšŒë³µ\n    if (effect.healHp) {\n      setCharacter((prev) => ({\n        ...prev,\n        hp: Math.min(prev.maxHp, prev.hp + effect.healHp!),\n      }));\n      addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ HP ${effect.healHp} íšŒë³µ!`);\n    }\n\n    // ë§ˆë‚˜ íšŒë³µ\n    if (effect.healMp) {\n      setCharacter((prev) => ({\n        ...prev,\n        mp: Math.min(prev.maxMp, prev.mp + effect.healMp!),\n      }));\n      addToCombatLog(`${item.name}ì„ ì‚¬ìš©í•˜ì—¬ MP ${effect.healMp} íšŒë³µ!`);\n    }\n\n    // ë²„í”„ íš¨ê³¼\n    if (effect.buffType && effect.buffAmount && effect.buffDuration) {\n      setCharacter((prev) => ({\n        ...prev,\n        buffs: {\n          ...prev.buffs,\n          [effect.buffType!]: {\n            amount: effect.buffAmount!,\n            duration: effect.buffDuration!,\n          },\n        },\n      }));\n      addToCombatLog(\n        `${item.name}ì„ ì‚¬ìš©í•˜ì—¬ ${\n          effect.buffType === \"attack\"\n            ? \"ê³µê²©ë ¥\"\n            : effect.buffType === \"defense\"\n            ? \"ë°©ì–´ë ¥\"\n            : t(\"rpg.speed\")\n        } ${effect.buffAmount} ì¦ê°€! (${effect.buffDuration / 1000}ì´ˆ)`\n      );\n    }\n\n    // ì¸ë²¤í† ë¦¬ì—ì„œ ë¬¼ì•½ ì œê±° ë˜ëŠ” ìˆ˜ëŸ‰ ê°ì†Œ\n    setInventory((prev) => {\n      const itemIndex = prev.findIndex((invItem) => invItem.id === item.id);\n      if (itemIndex !== -1) {\n        const newInventory = [...prev];\n        const currentItem = newInventory[itemIndex];\n        if (currentItem.quantity && currentItem.quantity > 1) {\n          newInventory[itemIndex] = {\n            ...currentItem,\n            quantity: currentItem.quantity - 1,\n          };\n        } else {\n          newInventory.splice(itemIndex, 1);\n        }\n        return newInventory;\n      }\n      return prev;\n    });\n\n    // ì´ë²¤íŠ¸ ë¡œê¹…\n    onAction(\"consumable_used\", {\n      item_name: item.name,\n      item_type: item.type,\n      character_level: character.level,\n      heal_hp: effect.healHp || 0,\n      heal_mp: effect.healMp || 0,\n      buff_type: effect.buffType || \"none\",\n      buff_amount: effect.buffAmount || 0,\n      character_hp_before: character.hp,\n      character_mp_before: character.mp,\n      dungeon_name: currentDungeon?.name || null,\n    });\n  };\n\n  // ìŠ¤í‚¬ ì‚¬ìš© í•¨ìˆ˜\n  const castSkill = (skill: Skill) => {\n    if (!skill.isLearned || skill.level === 0) {\n      addToCombatLog(t(\"rpg.combat.skillLearnFirst\"));\n      return;\n    }\n    if (skill.currentCooldown > 0 || character.mp < skill.manaCost) return;\n\n    // ìŠ¤í‚¬ ì‚¬ìš© ë¡œì§\n    if (skill.id === \"heal\") {\n      const healAmount = 30 + skill.level * 5;\n      setCharacter((prev) => ({\n        ...prev,\n        hp: Math.min(prev.maxHp, prev.hp + healAmount),\n        mp: prev.mp - skill.manaCost,\n      }));\n      addToCombatLog(`${healAmount}ë§Œí¼ íšŒë³µí–ˆë‹¤!`);\n    } else {\n      // ê³µê²© ìŠ¤í‚¬\n      if (currentMonster) {\n        const damage = calculateSkillDamage(skill, character);\n        const newMonsterHp = Math.max(0, currentMonster.hp - damage);\n        setCurrentMonster((prev) =>\n          prev ? { ...prev, hp: newMonsterHp } : null\n        );\n        setCharacter((prev) => ({ ...prev, mp: prev.mp - skill.manaCost }));\n        addToCombatLog(`${skill.name}ë¡œ ${damage} ë°ë¯¸ì§€!`);\n\n        // ëª¬ìŠ¤í„°ê°€ ì£½ì§€ ì•Šì•˜ìœ¼ë©´ ë°˜ê²©\n        if (newMonsterHp > 0) {\n          setTimeout(() => {\n            monsterAttack();\n          }, 1000);\n        } else {\n          // ëª¬ìŠ¤í„°ê°€ ì£½ì—ˆìœ¼ë©´ ì²˜ì¹˜ ì²˜ë¦¬\n          setTimeout(() => {\n            defeatMonster();\n          }, 1500);\n        }\n      }\n    }\n\n    // ì¿¨ë‹¤ìš´ ì ìš©\n    setCharacter((prev) => ({\n      ...prev,\n      skills: prev.skills.map((s) =>\n        s.id === skill.id ? { ...s, currentCooldown: s.cooldown } : s\n      ),\n    }));\n\n    // ì´ë²¤íŠ¸ ë¡œê¹…\n    onAction(\"skill_used\", {\n      skill_name: skill.name,\n      skill_level: skill.level,\n      mana_cost: skill.manaCost,\n      character_level: character.level,\n      character_mp_before: character.mp,\n      character_mp_after: character.mp - skill.manaCost,\n      dungeon_name: currentDungeon?.name || null,\n    });\n  };\n\n  // ìŠ¤íƒ¯ í¬ì¸íŠ¸ í• ë‹¹\n  const allocateStat = (statName: keyof CharacterStats) => {\n    if (character.stats.availablePoints <= 0) return;\n\n    setCharacter((prev) => ({\n      ...prev,\n      stats: {\n        ...prev.stats,\n        [statName]: prev.stats[statName] + 1,\n        availablePoints: prev.stats.availablePoints - 1,\n      },\n    }));\n\n    // ìŠ¤íƒ¯ì— ë”°ë¥¸ ëŠ¥ë ¥ì¹˜ ì—…ë°ì´íŠ¸\n    let hpBonus = 0,\n      mpBonus = 0,\n      attackBonus = 0,\n      defenseBonus = 0;\n    if (statName === \"vitality\") hpBonus = 5;\n    if (statName === \"intelligence\") mpBonus = 3;\n    if (statName === \"strength\") attackBonus = 2;\n    if (statName === \"agility\") {\n      attackBonus = 1;\n      defenseBonus = 1;\n    }\n\n    setCharacter((prev) => ({\n      ...prev,\n      maxHp: prev.maxHp + hpBonus,\n      hp: prev.hp + hpBonus,\n      maxMp: prev.maxMp + mpBonus,\n      mp: prev.mp + mpBonus,\n      attack: prev.attack + attackBonus,\n      defense: prev.defense + defenseBonus,\n    }));\n\n    // ì´ë²¤íŠ¸ ë¡œê¹…\n    onAction(\"stat_allocated\", {\n      stat_name: statName,\n      stat_value: character.stats[statName] + 1,\n      character_level: character.level,\n      available_points: character.stats.availablePoints - 1,\n    });\n  };\n\n  // ê³µí†µ ìºë¦­í„° ì •ë³´ í—¤ë” ì»´í¬ë„ŒíŠ¸\n  const renderCharacterHeader = () => {\n    const expPercentage = (character.exp / character.maxExp) * 100;\n\n    return (\n      <div\n        style={{\n          background: \"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)\",\n          borderRadius: \"15px\",\n          padding: \"15px 20px\",\n          marginBottom: \"20px\",\n          color: \"white\",\n        }}\n      >\n        {/* ê¸°ë³¸ ìŠ¤íƒ¯ ì •ë³´ */}\n        <div\n          style={{\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(auto-fit, minmax(120px, 1fr))\",\n            gap: \"15px\",\n            marginBottom: \"15px\",\n          }}\n        >\n          <div style={{ textAlign: \"center\" }}>\n            <div\n              style={{ fontSize: \"20px\", fontWeight: \"bold\", color: \"#ffffff\" }}\n            >\n              Lv.{character.level}\n            </div>\n            <div style={{ color: \"#e0e7ff\", fontSize: \"12px\" }}>{t(\"rpg.ui.level\")}</div>\n          </div>\n          <div style={{ textAlign: \"center\" }}>\n            <div\n              style={{ fontSize: \"20px\", fontWeight: \"bold\", color: \"#fbbf24\" }}\n            >\n              {character.gold}G\n            </div>\n            <div style={{ color: \"#e0e7ff\", fontSize: \"12px\" }}>{t(\"rpg.ui.gold\")}</div>\n          </div>\n          <div style={{ textAlign: \"center\" }}>\n            <div\n              style={{ fontSize: \"16px\", fontWeight: \"bold\", color: \"#f87171\" }}\n            >\n              {character.attack}\n            </div>\n            <div style={{ color: \"#e0e7ff\", fontSize: \"12px\" }}>{t(\"rpg.ui.attack\")}</div>\n          </div>\n          <div style={{ textAlign: \"center\" }}>\n            <div\n              style={{ fontSize: \"16px\", fontWeight: \"bold\", color: \"#60a5fa\" }}\n            >\n              {character.defense}\n            </div>\n            <div style={{ color: \"#e0e7ff\", fontSize: \"12px\" }}>{t(\"rpg.ui.defense\")}</div>\n          </div>\n          <div style={{ textAlign: \"center\" }}>\n            <div\n              style={{ fontSize: \"16px\", fontWeight: \"bold\", color: \"#34d399\" }}\n            >\n              {character.hp}/{character.maxHp}\n            </div>\n            <div style={{ color: \"#e0e7ff\", fontSize: \"12px\" }}>{t(\"rpg.ui.health\")}</div>\n          </div>\n          <div style={{ textAlign: \"center\" }}>\n            <div\n              style={{ fontSize: \"16px\", fontWeight: \"bold\", color: \"#a78bfa\" }}\n            >\n              {character.mp}/{character.maxMp}\n            </div>\n            <div style={{ color: \"#e0e7ff\", fontSize: \"12px\" }}>{t(\"rpg.ui.mana\")}</div>\n          </div>\n        </div>\n\n        {/* ê²½í—˜ì¹˜ ë°” */}\n        <div style={{ marginTop: \"15px\" }}>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginBottom: \"5px\",\n            }}\n          >\n            <span style={{ fontSize: \"14px\", color: \"#e0e7ff\" }}>{t(\"rpg.ui.exp\")}</span>\n            <span\n              style={{ fontSize: \"14px\", color: \"#ffffff\", fontWeight: \"bold\" }}\n            >\n              {character.exp} / {character.maxExp} ({Math.floor(expPercentage)}\n              %)\n            </span>\n          </div>\n          <div\n            style={{\n              width: \"100%\",\n              height: \"8px\",\n              backgroundColor: \"rgba(255, 255, 255, 0.2)\",\n              borderRadius: \"10px\",\n              overflow: \"hidden\",\n            }}\n          >\n            <div\n              style={{\n                width: `${expPercentage}%`,\n                height: \"100%\",\n                background: \"linear-gradient(90deg, #fbbf24 0%, #f59e0b 100%)\",\n                borderRadius: \"10px\",\n                transition: \"width 0.3s ease\",\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // ë¡œë¹„ ë Œë”ë§\n  const renderLobbyTab = () => (\n    <div style={{ padding: \"20px\", background: \"#1f2937\", minHeight: \"600px\" }}>\n      {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n      {renderCharacterHeader()}\n\n      {/* ë˜ì „ ëª©ë¡ */}\n      <div style={{ marginBottom: \"20px\" }}>\n        <h3 style={{ color: \"white\", marginBottom: \"15px\", fontSize: \"20px\" }}>\n          ğŸ° {t(\"rpg.ui.dungeonList\")}\n        </h3>\n        <div style={{ display: \"grid\", gap: \"15px\" }}>\n          {availableDungeons.map((dungeon) => (\n            <div\n              key={dungeon.id}\n              style={{\n                background: dungeon.isUnlocked ? \"#374151\" : \"#1f2937\",\n                borderRadius: \"10px\",\n                padding: \"20px\",\n                border: dungeon.isUnlocked\n                  ? \"2px solid #10b981\"\n                  : \"2px solid #4b5563\",\n                opacity: dungeon.isUnlocked ? 1 : 0.6,\n              }}\n            >\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                }}\n              >\n                <div>\n                  <h4\n                    style={{\n                      color: \"white\",\n                      margin: \"0 0 5px 0\",\n                      fontSize: \"18px\",\n                    }}\n                  >\n                    {dungeon.name} (Lv.{dungeon.level})\n                  </h4>\n                  <p\n                    style={{\n                      color: \"#9ca3af\",\n                      margin: \"0 0 10px 0\",\n                      fontSize: \"14px\",\n                    }}\n                  >\n                    {dungeon.description}\n                  </p>\n                  <div style={{ fontSize: \"12px\", color: \"#6b7280\" }}>\n                    {t(\"rpg.ui.requiredLevel\")}: {dungeon.requiredLevel} | {t(\"rpg.ui.floors\")}: {dungeon.floors}\n                    {t(\"rpg.floor\")} | {t(\"rpg.ui.currentFloor\")}: {t(\"rpg.floorDisplay\").replace(\"{floor}\", dungeon.currentFloor.toString())}\n                  </div>\n                </div>\n                <button\n                  onClick={() => enterDungeon(dungeon)}\n                  disabled={\n                    !dungeon.isUnlocked ||\n                    character.level < dungeon.requiredLevel ||\n                    dungeon.isComingSoon\n                  }\n                  style={{\n                    background: dungeon.isComingSoon\n                      ? \"linear-gradient(135deg, #7c2d12 0%, #dc2626 100%)\"\n                      : dungeon.isUnlocked &&\n                        character.level >= dungeon.requiredLevel\n                      ? \"linear-gradient(135deg, #10b981 0%, #059669 100%)\"\n                      : \"#4b5563\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"8px\",\n                    padding: \"12px 20px\",\n                    fontSize: \"14px\",\n                    fontWeight: \"bold\",\n                    cursor:\n                      dungeon.isUnlocked &&\n                      character.level >= dungeon.requiredLevel &&\n                      !dungeon.isComingSoon\n                        ? \"pointer\"\n                        : \"not-allowed\",\n                    transition: \"all 0.3s ease\",\n                  }}\n                >\n                  {dungeon.isComingSoon\n                    ? t(\"rpg.ui.comingSoon\")\n                    : dungeon.isUnlocked &&\n                      character.level >= dungeon.requiredLevel\n                    ? t(\"rpg.ui.enter\")\n                    : t(\"rpg.ui.locked\")}\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n\n  // ë˜ì „ íƒ­ ë Œë”ë§\n  const renderDungeonTab = () => {\n    if (!inDungeon || !currentDungeon) {\n      return (\n        <div\n          style={{\n            padding: \"100px 20px\",\n            textAlign: \"center\",\n            background: \"#1f2937\",\n            color: \"#9ca3af\",\n          }}\n        >\n          <h3>{t(\"rpg.dungeon.notEntered\")}</h3>\n          <p>{t(\"rpg.dungeon.selectFromLobby\")}</p>\n        </div>\n      );\n    }\n\n    return (\n      <div\n        style={{ padding: \"20px\", background: \"#1f2937\", minHeight: \"600px\" }}\n      >\n        {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n        {renderCharacterHeader()}\n\n        {/* ë˜ì „ ì •ë³´ */}\n        <div\n          style={{\n            background: \"linear-gradient(135deg, #7c2d12 0%, #dc2626 100%)\",\n            borderRadius: \"15px\",\n            padding: \"20px\",\n            marginBottom: \"20px\",\n            color: \"white\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginBottom: \"15px\",\n            }}\n          >\n            <div>\n              <h2 style={{ margin: \"0 0 5px 0\", fontSize: \"24px\" }}>\n                ğŸ° {currentDungeon.name}\n              </h2>\n              <p style={{ margin: 0, opacity: 0.9, fontSize: \"14px\" }}>\n                {t(\"rpg.floorDisplay\").replace(\"{floor}\", currentDungeon.currentFloor.toString())} / {t(\"rpg.floorDisplay\").replace(\"{floor}\", currentDungeon.floors.toString())}\n              </p>\n            </div>\n            <button\n              onClick={() => {\n                // ë˜ì „ ë‚˜ê°€ê¸° ì´ë²¤íŠ¸ ë¡œê¹…\n                onAction(\"dungeon_exited\", {\n                  dungeon_id: currentDungeon.id,\n                  dungeon_name: currentDungeon.name,\n                  current_floor: currentDungeon.currentFloor,\n                  total_floors: currentDungeon.floors,\n                  character_level: character.level,\n                  exit_reason: \"manual\",\n                  time_spent: new Date().getTime(),\n                });\n                setInDungeon(false);\n                setCurrentDungeon(null);\n                setCurrentTab(\"lobby\");\n                setGameMode(\"lobby\");\n              }}\n              style={{\n                background: \"#374151\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"8px\",\n                padding: \"10px 15px\",\n                cursor: \"pointer\",\n              }}\n            >\n              {t(\"rpg.ui.exitDungeon\")}\n            </button>\n          </div>\n\n          {/* ì¸µ ì§„í–‰ ì»¨íŠ¸ë¡¤ */}\n          <div\n            style={{\n              display: \"flex\",\n              gap: \"10px\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              padding: \"15px\",\n              background: \"rgba(0, 0, 0, 0.2)\",\n              borderRadius: \"10px\",\n            }}\n          >\n            <button\n              onClick={() => {\n                if (currentDungeon.currentFloor > 1) {\n                  const updatedDungeon = {\n                    ...currentDungeon,\n                    currentFloor: currentDungeon.currentFloor - 1,\n                  };\n                  setCurrentDungeon(updatedDungeon);\n                  setCurrentMonster(null);\n                  addToCombatLog(\n                    t(\"rpg.messages.movedToFloor\").replace(\"{floor}\", updatedDungeon.currentFloor.toString())\n                  );\n                  setTimeout(() => {\n                    spawnDungeonMonster(updatedDungeon, true);\n                  }, 1000);\n                }\n              }}\n              disabled={currentDungeon.currentFloor <= 1}\n              style={{\n                background:\n                  currentDungeon.currentFloor <= 1 ? \"#6b7280\" : \"#3b82f6\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"6px\",\n                padding: \"8px 12px\",\n                cursor:\n                  currentDungeon.currentFloor <= 1 ? \"not-allowed\" : \"pointer\",\n                fontSize: \"14px\",\n              }}\n            >\n              â¬†ï¸ ì´ì „ ì¸µ\n            </button>\n\n            <input\n              type=\"number\"\n              min=\"1\"\n              max={currentDungeon.floors}\n              value={currentDungeon.currentFloor}\n              placeholder=\"ì¸µ\"\n              onChange={(e) => {\n                const targetFloor = parseInt(e.target.value);\n                if (targetFloor >= 1 && targetFloor <= currentDungeon.floors) {\n                  // Check if all previous floors are cleared\n                  let canMoveTo = true;\n                  for (let i = 1; i < targetFloor; i++) {\n                    if (!currentDungeon.clearedFloors.has(i)) {\n                      canMoveTo = false;\n                      addToCombatLog(\n                        t(\"rpg.messages.clearRequiredForFloor\").replace(\"{requiredFloor}\", i.toString()).replace(\"{targetFloor}\", targetFloor.toString())\n                      );\n                      break;\n                    }\n                  }\n\n                  if (canMoveTo) {\n                    const updatedDungeon = {\n                      ...currentDungeon,\n                      currentFloor: targetFloor,\n                    };\n                    setCurrentDungeon(updatedDungeon);\n                    setCurrentMonster(null);\n                    addToCombatLog(t(\"rpg.messages.movedToFloor\").replace(\"{floor}\", targetFloor.toString()));\n                    setTimeout(() => {\n                      spawnDungeonMonster(updatedDungeon, true);\n                    }, 1000);\n                  }\n                }\n              }}\n              style={{\n                background: \"rgba(255, 255, 255, 0.1)\",\n                color: \"white\",\n                border: \"1px solid rgba(255, 255, 255, 0.3)\",\n                borderRadius: \"6px\",\n                padding: \"8px 12px\",\n                fontSize: \"16px\",\n                fontWeight: \"bold\",\n                textAlign: \"center\",\n                width: \"80px\",\n              }}\n            />\n\n            <button\n              onClick={() => {\n                const nextFloor = currentDungeon.currentFloor + 1;\n                const currentFloorCleared = currentDungeon.clearedFloors.has(\n                  currentDungeon.currentFloor\n                );\n\n                if (\n                  currentDungeon.currentFloor < currentDungeon.floors &&\n                  currentFloorCleared\n                ) {\n                  const updatedDungeon = {\n                    ...currentDungeon,\n                    currentFloor: nextFloor,\n                  };\n                  setCurrentDungeon(updatedDungeon);\n                  setCurrentMonster(null);\n                  addToCombatLog(\n                    t(\"rpg.messages.movedToFloor\").replace(\"{floor}\", updatedDungeon.currentFloor.toString())\n                  );\n                  setTimeout(() => {\n                    spawnDungeonMonster(updatedDungeon, true);\n                  }, 1000);\n                } else if (!currentFloorCleared) {\n                  addToCombatLog(\n                    t(\"rpg.messages.killRequiredForNext\")\n                  );\n                }\n              }}\n              disabled={\n                currentDungeon.currentFloor >= currentDungeon.floors ||\n                !currentDungeon.clearedFloors.has(currentDungeon.currentFloor)\n              }\n              style={{\n                background:\n                  currentDungeon.currentFloor >= currentDungeon.floors ||\n                  !currentDungeon.clearedFloors.has(currentDungeon.currentFloor)\n                    ? \"#6b7280\"\n                    : \"#10b981\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"6px\",\n                padding: \"8px 12px\",\n                cursor:\n                  currentDungeon.currentFloor >= currentDungeon.floors ||\n                  !currentDungeon.clearedFloors.has(currentDungeon.currentFloor)\n                    ? \"not-allowed\"\n                    : \"pointer\",\n                fontSize: \"14px\",\n              }}\n            >\n              â¬‡ï¸ ë‹¤ìŒ ì¸µ\n            </button>\n          </div>\n        </div>\n\n        {/* ì¸µ ì§„í–‰ ìƒíƒœ í‘œì‹œ */}\n        {showDungeonChoice && (\n          <div\n            style={{\n              background: \"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)\",\n              borderRadius: \"15px\",\n              padding: \"20px\",\n              marginBottom: \"20px\",\n              color: \"white\",\n              textAlign: \"center\",\n            }}\n          >\n            <div\n              style={{\n                fontSize: \"18px\",\n                fontWeight: \"bold\",\n                marginBottom: \"10px\",\n              }}\n            >\n              {t(\"rpg.messages.movingToNext\")}\n            </div>\n            <div\n              style={{\n                background: \"rgba(255, 255, 255, 0.2)\",\n                borderRadius: \"10px\",\n                height: \"8px\",\n                overflow: \"hidden\",\n                marginBottom: \"10px\",\n              }}\n            >\n              <div\n                style={{\n                  background: \"linear-gradient(90deg, #10b981, #059669)\",\n                  height: \"100%\",\n                  width: \"100%\",\n                  borderRadius: \"10px\",\n                  animation: \"progress 3s linear\",\n                }}\n              />\n            </div>\n            <div style={{ fontSize: \"14px\", opacity: 0.9 }}>\n              ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...\n            </div>\n          </div>\n        )}\n\n        {/* ì „íˆ¬ ì˜ì—­ - ê¸°ì¡´ renderCombatTabê³¼ ë™ì¼í•œ ì „íˆ¬ ì‹œìŠ¤í…œ */}\n        {currentMonster && (\n          <div\n            style={{\n              background: \"#374151\",\n              borderRadius: \"15px\",\n              padding: \"20px\",\n              marginBottom: \"20px\",\n            }}\n          >\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr\",\n                gap: \"20px\",\n                marginBottom: \"20px\",\n              }}\n            >\n              {/* ìºë¦­í„° */}\n              <div style={{ textAlign: \"center\" }}>\n                <div\n                  style={{\n                    width: \"80px\",\n                    height: \"80px\",\n                    background:\n                      \"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)\",\n                    borderRadius: \"50%\",\n                    margin: \"0 auto 10px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    fontSize: \"30px\",\n                  }}\n                >\n                  âš”ï¸\n                </div>\n                <div style={{ color: \"white\", marginBottom: \"10px\" }}>\n                  {character.name} Lv.{character.level}\n                </div>\n                <div\n                  style={{\n                    background: \"#1f2937\",\n                    borderRadius: \"10px\",\n                    padding: \"5px\",\n                    marginBottom: \"5px\",\n                  }}\n                >\n                  <div\n                    style={{\n                      background:\n                        \"linear-gradient(90deg, #ef4444 0%, #dc2626 100%)\",\n                      height: \"8px\",\n                      borderRadius: \"4px\",\n                      width: `${(character.hp / character.maxHp) * 100}%`,\n                    }}\n                  />\n                  <div\n                    style={{\n                      color: \"white\",\n                      fontSize: \"12px\",\n                      marginTop: \"5px\",\n                    }}\n                  >\n                    HP: {character.hp}/{character.maxHp}\n                  </div>\n                </div>\n              </div>\n\n              {/* ëª¬ìŠ¤í„° */}\n              <div style={{ textAlign: \"center\" }}>\n                <div\n                  style={{\n                    width: \"80px\",\n                    height: \"80px\",\n                    background:\n                      \"linear-gradient(135deg, #dc2626 0%, #991b1b 100%)\",\n                    borderRadius: \"50%\",\n                    margin: \"0 auto 10px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    fontSize: \"30px\",\n                  }}\n                >\n                  ğŸ‘¹\n                </div>\n                <div style={{ color: \"white\", marginBottom: \"10px\" }}>\n                  {currentMonster.name} Lv.{currentMonster.level}\n                  {currentMonster.isBoss && (\n                    <span style={{ color: \"#fbbf24\" }}> ğŸ‘‘</span>\n                  )}\n                </div>\n                <div\n                  style={{\n                    background: \"#1f2937\",\n                    borderRadius: \"10px\",\n                    padding: \"5px\",\n                    marginBottom: \"5px\",\n                  }}\n                >\n                  <div\n                    style={{\n                      background:\n                        \"linear-gradient(90deg, #ef4444 0%, #dc2626 100%)\",\n                      height: \"8px\",\n                      borderRadius: \"4px\",\n                      width: `${\n                        (currentMonster.hp / currentMonster.maxHp) * 100\n                      }%`,\n                    }}\n                  />\n                  <div\n                    style={{\n                      color: \"white\",\n                      fontSize: \"12px\",\n                      marginTop: \"5px\",\n                    }}\n                  >\n                    HP: {currentMonster.hp}/{currentMonster.maxHp}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* ì „íˆ¬ ë²„íŠ¼ë“¤ */}\n            <div\n              style={{\n                display: \"flex\",\n                gap: \"10px\",\n                justifyContent: \"center\",\n                marginBottom: \"20px\",\n              }}\n            >\n              <button\n                onClick={attack}\n                disabled={character.hp <= 0}\n                style={{\n                  background:\n                    \"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)\",\n                  color: \"white\",\n                  border: \"none\",\n                  borderRadius: \"10px\",\n                  padding: \"12px 24px\",\n                  fontSize: \"16px\",\n                  fontWeight: \"bold\",\n                  cursor: character.hp > 0 ? \"pointer\" : \"not-allowed\",\n                  opacity: character.hp > 0 ? 1 : 0.5,\n                }}\n              >\n                âš”ï¸ {t(\"rpg.ui.attackButton\")}\n              </button>\n              <button\n                onClick={() => setIsAutoFighting(!isAutoFighting)}\n                style={{\n                  background: isAutoFighting\n                    ? \"linear-gradient(135deg, #dc2626 0%, #991b1b 100%)\"\n                    : \"linear-gradient(135deg, #10b981 0%, #059669 100%)\",\n                  color: \"white\",\n                  border: \"none\",\n                  borderRadius: \"10px\",\n                  padding: \"12px 24px\",\n                  fontSize: \"16px\",\n                  fontWeight: \"bold\",\n                  cursor: \"pointer\",\n                }}\n              >\n                {isAutoFighting ? \"â¸ï¸ ìë™ ì¤‘ì§€\" : `â–¶ï¸ ${t(\"rpg.ui.autoFight\")}`}\n              </button>\n            </div>\n\n            {/* ìŠ¤í‚¬ ë²„íŠ¼ë“¤ */}\n            {character.skills.filter(\n              (skill) =>\n                skill.type === \"active\" && skill.isLearned && skill.level > 0\n            ).length > 0 && (\n              <div style={{ marginBottom: \"20px\" }}>\n                <h4\n                  style={{\n                    color: \"white\",\n                    marginBottom: \"10px\",\n                    textAlign: \"center\",\n                    fontSize: \"16px\",\n                  }}\n                >\n                  âœ¨ ìŠ¤í‚¬ ì‚¬ìš© (MP: {character.mp}/{character.maxMp})\n                </h4>\n                <div\n                  style={{\n                    display: \"flex\",\n                    gap: \"8px\",\n                    justifyContent: \"center\",\n                    flexWrap: \"wrap\",\n                  }}\n                >\n                  {character.skills\n                    .filter(\n                      (skill) =>\n                        skill.type === \"active\" &&\n                        skill.isLearned &&\n                        skill.level > 0\n                    )\n                    .map((skill) => (\n                      <button\n                        key={skill.id}\n                        onClick={() => castSkill(skill)}\n                        disabled={\n                          character.hp <= 0 ||\n                          skill.currentCooldown > 0 ||\n                          character.mp < skill.manaCost\n                        }\n                        style={{\n                          background:\n                            character.hp > 0 &&\n                            skill.currentCooldown === 0 &&\n                            character.mp >= skill.manaCost\n                              ? \"linear-gradient(135deg, #7c3aed 0%, #a855f7 100%)\"\n                              : \"#4b5563\",\n                          color: \"white\",\n                          border: \"none\",\n                          borderRadius: \"8px\",\n                          padding: \"10px 16px\",\n                          fontSize: \"14px\",\n                          fontWeight: \"bold\",\n                          cursor:\n                            character.hp > 0 &&\n                            skill.currentCooldown === 0 &&\n                            character.mp >= skill.manaCost\n                              ? \"pointer\"\n                              : \"not-allowed\",\n                          opacity:\n                            character.hp > 0 &&\n                            skill.currentCooldown === 0 &&\n                            character.mp >= skill.manaCost\n                              ? 1\n                              : 0.6,\n                          position: \"relative\",\n                        }}\n                        title={`${\n                          skill.description\n                        }\\nëŒ€ë¯¸ì§€: ${calculateSkillDamage(\n                          skill,\n                          character\n                        )} | ë§ˆë‚˜: ${skill.manaCost}`}\n                      >\n                        <div>{skill.name}</div>\n                        <div style={{ fontSize: \"10px\", opacity: 0.8 }}>\n                          MP: {skill.manaCost}\n                          {skill.currentCooldown > 0 && (\n                            <> | {(skill.currentCooldown / 1000).toFixed(1)}s</>\n                          )}\n                        </div>\n                      </button>\n                    ))}\n                </div>\n              </div>\n            )}\n\n            {/* ë¬¼ì•½ ë²„íŠ¼ë“¤ */}\n            {inventory.filter((item) => item.type === \"consumable\").length >\n              0 && (\n              <div style={{ marginBottom: \"20px\" }}>\n                <h4\n                  style={{\n                    color: \"white\",\n                    marginBottom: \"10px\",\n                    textAlign: \"center\",\n                    fontSize: \"16px\",\n                  }}\n                >\n                  ğŸ§ª ë¬¼ì•½ ì‚¬ìš©\n                </h4>\n                <div\n                  style={{\n                    display: \"flex\",\n                    gap: \"8px\",\n                    justifyContent: \"center\",\n                    flexWrap: \"wrap\",\n                  }}\n                >\n                  {inventory\n                    .filter((item) => item.type === \"consumable\")\n                    .map((item) => (\n                      <button\n                        key={item.id}\n                        onClick={() => consumeItem(item)}\n                        disabled={character.hp <= 0}\n                        style={{\n                          background:\n                            character.hp > 0\n                              ? `linear-gradient(135deg, ${getRarityColor(\n                                  item.rarity\n                                )} 0%, #374151 100%)`\n                              : \"#4b5563\",\n                          color: \"white\",\n                          border: \"none\",\n                          borderRadius: \"8px\",\n                          padding: \"8px 12px\",\n                          fontSize: \"12px\",\n                          fontWeight: \"bold\",\n                          cursor: character.hp > 0 ? \"pointer\" : \"not-allowed\",\n                          opacity: character.hp > 0 ? 1 : 0.6,\n                          position: \"relative\",\n                        }}\n                        title={`${item.name}\\n${\n                          item.consumableEffect?.healHp\n                            ? `HP +${item.consumableEffect.healHp}`\n                            : \"\"\n                        }${\n                          item.consumableEffect?.healMp\n                            ? `MP +${item.consumableEffect.healMp}`\n                            : \"\"\n                        }${\n                          item.consumableEffect?.buffType\n                            ? `${item.consumableEffect.buffType} +${item.consumableEffect.buffAmount}`\n                            : \"\"\n                        }`}\n                      >\n                        <div>{item.name}</div>\n                        <div style={{ fontSize: \"10px\", opacity: 0.8 }}>\n                          {item.quantity && item.quantity > 1\n                            ? `x${item.quantity}`\n                            : \"\"}\n                          {item.consumableEffect?.healHp &&\n                            ` HP+${item.consumableEffect.healHp}`}\n                          {item.consumableEffect?.healMp &&\n                            ` MP+${item.consumableEffect.healMp}`}\n                        </div>\n                      </button>\n                    ))}\n                </div>\n              </div>\n            )}\n\n            {/* ì „íˆ¬ ë¡œê·¸ */}\n            <div\n              style={{\n                background: \"#1f2937\",\n                borderRadius: \"10px\",\n                padding: \"15px\",\n                height: \"200px\",\n                overflowY: \"auto\",\n                fontSize: \"14px\",\n              }}\n            >\n              <div\n                style={{\n                  color: \"#9ca3af\",\n                  marginBottom: \"10px\",\n                  fontWeight: \"bold\",\n                }}\n              >\n{t(\"rpg.ui.combatLog\")}:\n              </div>\n              {combatLog.slice(-10).map((log, index) => (\n                <div\n                  key={index}\n                  style={{\n                    color: \"#e5e7eb\",\n                    marginBottom: \"5px\",\n                    lineHeight: \"1.4\",\n                  }}\n                >\n                  {log}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // ìºë¦­í„° íƒ­ ë Œë”ë§ (RPG ìŠ¤íƒ€ì¼ UI)\n  const renderCharacterTab = () => (\n    <div style={{ padding: \"20px\", background: \"#1f2937\", minHeight: \"600px\" }}>\n      {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n      {renderCharacterHeader()}\n\n      {/* ë©”ì¸ ìºë¦­í„° ì°½ - RPG ìŠ¤íƒ€ì¼ */}\n      <div\n        style={{\n          background: \"linear-gradient(135deg, #1e293b 0%, #334155 100%)\",\n          border: \"2px solid #475569\",\n          borderRadius: \"12px\",\n          padding: \"20px\",\n          display: \"flex\",\n          gap: \"30px\",\n          minHeight: \"500px\",\n        }}\n      >\n        {/* ì¢Œì¸¡: ì¥ë¹„ ìŠ¬ë¡¯ ì˜ì—­ */}\n        <div style={{ flex: \"0 0 300px\" }}>\n          <h3\n            style={{\n              color: \"#f1f5f9\",\n              margin: \"0 0 20px 0\",\n              fontSize: \"18px\",\n              fontWeight: \"bold\",\n              textAlign: \"center\",\n            }}\n          >\n            âš”ï¸ {t(\"rpg.stats.equipment\")}\n          </h3>\n\n          {/* ì¥ë¹„ ìŠ¬ë¡¯ ê·¸ë¦¬ë“œ */}\n          <div\n            style={{\n              display: \"grid\",\n              gridTemplateColumns: \"repeat(3, 1fr)\",\n              gap: \"10px\",\n              marginBottom: \"20px\",\n            }}\n          >\n            {/* íˆ¬êµ¬ */}\n            {renderEquipmentSlot(\"helmet\", \"â›‘ï¸\")}\n            <div></div> {/* ë¹ˆ ê³µê°„ */}\n            <div></div> {/* ë¹ˆ ê³µê°„ */}\n            {/* ë°˜ì§€ */}\n            {renderEquipmentSlot(\"ring\", \"ğŸ’\")}\n            {/* ê°‘ì˜· */}\n            {renderEquipmentSlot(\"armor\", \"ğŸ›¡ï¸\")}\n            {/* ë¬´ê¸° */}\n            {renderEquipmentSlot(\"weapon\", \"âš”ï¸\")}\n            {/* ì‹ ë°œ */}\n            {renderEquipmentSlot(\"boots\", \"ğŸ‘¢\")}\n            {/* ëª©ê±¸ì´ */}\n            {renderEquipmentSlot(\"amulet\", \"ğŸ“¿\")}\n            <div></div> {/* ë¹ˆ ê³µê°„ */}\n          </div>\n        </div>\n\n        {/* ìš°ì¸¡: ëŠ¥ë ¥ì¹˜ ì •ë³´ ì˜ì—­ */}\n        <div style={{ flex: \"1\" }}>\n          {/* ì‚¬ìš© ê°€ëŠ¥í•œ í¬ì¸íŠ¸ */}\n          {character.stats.availablePoints > 0 && (\n            <div\n              style={{\n                background: \"rgba(16, 185, 129, 0.2)\",\n                border: \"1px solid #10b981\",\n                borderRadius: \"8px\",\n                padding: \"12px\",\n                marginBottom: \"20px\",\n                textAlign: \"center\",\n              }}\n            >\n              <div\n                style={{\n                  color: \"#10b981\",\n                  fontSize: \"16px\",\n                  fontWeight: \"bold\",\n                }}\n              >\n                ì‚¬ìš© ê°€ëŠ¥í•œ í¬ì¸íŠ¸: {character.stats.availablePoints}\n              </div>\n            </div>\n          )}\n\n          {/* ê¸°ë³¸ ëŠ¥ë ¥ì¹˜ */}\n          <div\n            style={{\n              background: \"rgba(15, 23, 42, 0.8)\",\n              border: \"1px solid #475569\",\n              borderRadius: \"8px\",\n              padding: \"15px\",\n              marginBottom: \"20px\",\n            }}\n          >\n            <h4\n              style={{\n                color: \"#f1f5f9\",\n                margin: \"0 0 15px 0\",\n                fontSize: \"16px\",\n                fontWeight: \"bold\",\n              }}\n            >\n              ğŸ“Š {t(\"rpg.stats.baseStats\")}\n            </h4>\n\n            {/* ëŠ¥ë ¥ì¹˜ ë¦¬ìŠ¤íŠ¸ */}\n            {[\n              {\n                key: \"strength\",\n                name: t(\"rpg.stats.strength\"),\n                icon: \"ğŸ’ª\",\n                color: \"#dc2626\",\n                bonus: character.stats.strength * 2,\n                bonusType: t(\"rpg.character.attack\"),\n              },\n              {\n                key: \"agility\",\n                name: t(\"rpg.stats.agility\"),\n                icon: \"âš¡\",\n                color: \"#10b981\",\n                bonus: character.stats.agility,\n                bonusType: t(\"rpg.speed\"),\n              },\n              {\n                key: \"vitality\",\n                name: t(\"rpg.stats.vitality\"),\n                icon: \"ğŸ›¡ï¸\",\n                color: \"#3b82f6\",\n                bonus: character.stats.vitality * 10,\n                bonusType: \"HP\",\n              },\n              {\n                key: \"intelligence\",\n                name: t(\"rpg.stats.intelligence\"),\n                icon: \"ğŸ§ \",\n                color: \"#7c3aed\",\n                bonus: character.stats.intelligence * 5,\n                bonusType: \"MP\",\n              },\n            ].map((stat) => (\n              <div\n                key={stat.key}\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                  padding: \"8px 0\",\n                  borderBottom: \"1px solid rgba(71, 85, 105, 0.3)\",\n                }}\n              >\n                <div\n                  style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\" }}\n                >\n                  <span style={{ fontSize: \"16px\" }}>{stat.icon}</span>\n                  <span style={{ color: \"#f1f5f9\", fontSize: \"14px\" }}>\n                    {stat.name}\n                  </span>\n                  <span\n                    style={{\n                      color: stat.color,\n                      fontSize: \"16px\",\n                      fontWeight: \"bold\",\n                    }}\n                  >\n                    {character.stats[stat.key as keyof typeof character.stats]}\n                  </span>\n                </div>\n                <div\n                  style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\" }}\n                >\n                  <span style={{ color: stat.color, fontSize: \"12px\" }}>\n                    +{stat.bonus} {stat.bonusType}\n                  </span>\n                  <button\n                    onClick={() =>\n                      allocateStat(stat.key as keyof CharacterStats)\n                    }\n                    disabled={character.stats.availablePoints <= 0}\n                    style={{\n                      background:\n                        character.stats.availablePoints > 0\n                          ? stat.color\n                          : \"#4b5563\",\n                      color: \"white\",\n                      border: \"none\",\n                      borderRadius: \"4px\",\n                      padding: \"4px 8px\",\n                      fontSize: \"12px\",\n                      cursor:\n                        character.stats.availablePoints > 0\n                          ? \"pointer\"\n                          : \"not-allowed\",\n                      minWidth: \"24px\",\n                    }}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* ì „íˆ¬ ëŠ¥ë ¥ì¹˜ */}\n          <div\n            style={{\n              background: \"rgba(15, 23, 42, 0.8)\",\n              border: \"1px solid #475569\",\n              borderRadius: \"8px\",\n              padding: \"15px\",\n            }}\n          >\n            <h4\n              style={{\n                color: \"#f1f5f9\",\n                margin: \"0 0 15px 0\",\n                fontSize: \"16px\",\n                fontWeight: \"bold\",\n              }}\n            >\n              âš”ï¸ {t(\"rpg.stats.combatStats\")}\n            </h4>\n\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr\",\n                gap: \"15px\",\n              }}\n            >\n              <div>\n                <div\n                  style={{\n                    color: \"#dc2626\",\n                    fontSize: \"14px\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {t(\"rpg.character.attack\")}\n                </div>\n                <div\n                  style={{\n                    color: \"#f1f5f9\",\n                    fontSize: \"18px\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {character.attack}\n                </div>\n              </div>\n              <div>\n                <div\n                  style={{\n                    color: \"#3b82f6\",\n                    fontSize: \"14px\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {t(\"rpg.stats.defense\")}\n                </div>\n                <div\n                  style={{\n                    color: \"#f1f5f9\",\n                    fontSize: \"18px\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {character.defense}\n                </div>\n              </div>\n              <div>\n                <div\n                  style={{\n                    color: \"#ef4444\",\n                    fontSize: \"14px\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {t(\"rpg.stats.vitality\")}\n                </div>\n                <div style={{ color: \"#f1f5f9\", fontSize: \"16px\" }}>\n                  {character.hp} / {character.maxHp}\n                </div>\n              </div>\n              <div>\n                <div\n                  style={{\n                    color: \"#8b5cf6\",\n                    fontSize: \"14px\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  ë§ˆë‚˜\n                </div>\n                <div style={{ color: \"#f1f5f9\", fontSize: \"16px\" }}>\n                  {character.mp} / {character.maxMp}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  // ì¥ë¹„ ìŠ¬ë¡¯ ë Œë”ë§ í•¨ìˆ˜\n  const renderEquipmentSlot = (slot: keyof Equipment, icon: string) => {\n    const item = character.equipment[slot];\n    const rarityColor =\n      item?.rarity === \"legendary\"\n        ? \"#f59e0b\"\n        : item?.rarity === \"epic\"\n        ? \"#a855f7\"\n        : item?.rarity === \"rare\"\n        ? \"#3b82f6\"\n        : item?.rarity === \"mythic\"\n        ? \"#ef4444\"\n        : \"#9ca3af\";\n\n    return (\n      <div\n        style={{\n          width: \"70px\",\n          height: \"70px\",\n          background: item\n            ? \"rgba(16, 185, 129, 0.2)\"\n            : \"rgba(71, 85, 105, 0.3)\",\n          border: item ? `2px solid ${rarityColor}` : \"2px solid #475569\",\n          borderRadius: \"8px\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          position: \"relative\",\n          cursor: item ? \"pointer\" : \"default\",\n        }}\n      >\n        {item ? (\n          <>\n            <div style={{ fontSize: \"24px\" }}>{icon}</div>\n            <div\n              style={{\n                fontSize: \"8px\",\n                color: rarityColor,\n                fontWeight: \"bold\",\n                textAlign: \"center\",\n                lineHeight: \"1\",\n              }}\n            >\n              {item.name.length > 6\n                ? item.name.substring(0, 6) + \"...\"\n                : item.name}\n            </div>\n            <button\n              onClick={() => unequipItem(slot)}\n              style={{\n                position: \"absolute\",\n                top: \"-5px\",\n                right: \"-5px\",\n                background: \"#dc2626\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"50%\",\n                width: \"16px\",\n                height: \"16px\",\n                fontSize: \"10px\",\n                cursor: \"pointer\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              Ã—\n            </button>\n          </>\n        ) : (\n          <div style={{ fontSize: \"24px\", opacity: 0.3 }}>{icon}</div>\n        )}\n      </div>\n    );\n  };\n\n  // ì¸ë²¤í† ë¦¬ íƒ­ ë Œë”ë§\n  // ì•„ì´í…œ ì•„ì´ì½˜ ë§µí•‘\n  const getItemIcon = (item: Item) => {\n    const iconMap: { [key: string]: string } = {\n      // ë¬´ê¸°ë“¤\n      \"sword1\": \"âš”ï¸\",\n      \"steel_sword\": \"ğŸ—¡ï¸\",\n      \"enchanted_sword\": \"âœ¨\",\n      \"dragon_sword\": \"ğŸ‰\",\n      \"iron-sword\": \"âš”ï¸\",\n      \"steel-sword\": \"ğŸ—¡ï¸\",\n      \"magic-sword\": \"âš¡\",\n      \"legendary-sword\": \"ğŸ”¥\",\n      \"dragon-slayer\": \"ğŸ‰\",\n      \n      // ë°©ì–´êµ¬ë“¤\n      \"armor1\": \"ğŸ¦º\",\n      \"plate_armor\": \"ğŸ›¡ï¸\",\n      \"dragon_armor\": \"ğŸ²\",\n      \"leather-armor\": \"ğŸ›¡ï¸\",\n      \"iron-armor\": \"â›¨\",\n      \"steel-armor\": \"ğŸ›¡ï¸\",\n      \"magic-armor\": \"âœ¨\",\n      \n      // íˆ¬êµ¬ë“¤\n      \"helmet1\": \"â›‘ï¸\",\n      \"steel_helmet\": \"ğŸª–\",\n      \"mystic_helmet\": \"ğŸ‘‘\",\n      \"iron-helmet\": \"â›‘ï¸\",\n      \"steel-helmet\": \"ğŸ‘‘\",\n      \"magic-helmet\": \"ğŸ’\",\n      \n      // ë¶€ì¸ ë“¤\n      \"boots1\": \"ğŸ‘¢\",\n      \"steel_boots\": \"ğŸ¥¾\",\n      \"mystic_boots\": \"âœ¨\",\n      \"leather-boots\": \"ğŸ‘¢\",\n      \"iron-boots\": \"ğŸ¥¾\",\n      \"magic-boots\": \"âš¡\",\n      \n      // ë°˜ì§€ë“¤\n      \"ring1\": \"ğŸ’\",\n      \"power_ring\": \"ğŸ’\",\n      \"mystic_ring\": \"ğŸ”®\",\n      \"power-ring\": \"ğŸ’\",\n      \"magic-ring\": \"ğŸ’«\",\n      \"health-ring\": \"â¤ï¸\",\n      \"defense-ring\": \"ğŸ›¡ï¸\",\n      \n      // ì†Œëª¨í’ˆë“¤\n      \"health_potion\": \"â¤ï¸\",\n      \"mana_potion\": \"ğŸ’™\",\n      \"greater_health_potion\": \"ğŸ’–\",\n      \"greater_mana_potion\": \"ğŸ’\",\n      \"strength_potion\": \"ğŸ’ª\",\n      \"defense_potion\": \"ğŸ›¡ï¸\",\n      \"speed_potion\": \"ğŸ’¨\",\n      \"health-potion\": \"ğŸ§ª\",\n      \"mana-potion\": \"ğŸ’™\",\n      \"strength-potion\": \"ğŸ’ª\",\n      \n      // íƒ€ì…ë³„ ê¸°ë³¸ ì•„ì´ì½˜\n      weapon: \"âš”ï¸\",\n      armor: \"ğŸ›¡ï¸\",\n      helmet: \"â›‘ï¸\",\n      boots: \"ğŸ‘¢\",\n      ring: \"ğŸ’\",\n      consumable: \"ğŸ§ª\",\n    };\n    \n    // IDë¡œ ë¨¼ì € ì°¾ê³ , ì—†ìœ¼ë©´ íƒ€ì…ìœ¼ë¡œ ì°¾ê¸°\n    return iconMap[item.id] || iconMap[item.type] || \"ğŸ“¦\";\n  };\n\n  // ì„ íƒëœ ì•„ì´í…œ ìƒì„¸ ì •ë³´\n  const [selectedItem, setSelectedItem] = useState<Item | null>(null);\n\n  const renderInventoryTab = () => (\n    <div style={{ padding: \"20px\", background: \"#1f2937\", minHeight: \"600px\" }}>\n      {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n      {renderCharacterHeader()}\n\n      <div style={{ display: \"flex\", gap: \"20px\" }}>\n        {/* ì¸ë²¤í† ë¦¬ ê·¸ë¦¬ë“œ */}\n        <div style={{ flex: 1 }}>\n          <h3 style={{ color: \"white\", marginBottom: \"15px\" }}>\n            ğŸ“¦ {t(\"rpg.inventory.items\")} ({inventory.length}/50)\n          </h3>\n          <div\n            style={{\n              display: \"grid\",\n              gridTemplateColumns: \"repeat(10, 1fr)\",\n              gap: \"4px\",\n              background: \"rgba(0, 0, 0, 0.3)\",\n              padding: \"15px\",\n              borderRadius: \"10px\",\n              border: \"2px solid #4b5563\",\n            }}\n          >\n            {/* ì¸ë²¤í† ë¦¬ ìŠ¬ë¡¯ 50ê°œ */}\n            {Array.from({ length: 50 }, (_, index) => {\n              const item = inventory[index];\n              const isEmpty = !item;\n\n              return (\n                <div\n                  key={index}\n                  onClick={() => item && setSelectedItem(item)}\n                  style={{\n                    width: \"50px\",\n                    height: \"50px\",\n                    background: isEmpty\n                      ? \"rgba(255, 255, 255, 0.05)\"\n                      : \"rgba(255, 255, 255, 0.1)\",\n                    border: isEmpty\n                      ? \"1px solid #374151\"\n                      : `2px solid ${getRarityColor(item.rarity)}`,\n                    borderRadius: \"8px\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    cursor: item ? \"pointer\" : \"default\",\n                    position: \"relative\",\n                    transition: \"all 0.2s ease\",\n                  }}\n                  onMouseEnter={(e) => {\n                    if (item) {\n                      e.currentTarget.style.transform = \"scale(1.05)\";\n                      e.currentTarget.style.boxShadow = `0 0 15px ${getRarityColor(\n                        item.rarity\n                      )}50`;\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (item) {\n                      e.currentTarget.style.transform = \"scale(1)\";\n                      e.currentTarget.style.boxShadow = \"none\";\n                    }\n                  }}\n                >\n                  {item && (\n                    <>\n                      <div style={{ fontSize: \"24px\" }}>\n                        {getItemIcon(item)}\n                      </div>\n                      {/* ìˆ˜ëŸ‰ í‘œì‹œ (ê°™ì€ ì•„ì´í…œì´ ì—¬ëŸ¬ ê°œì¼ ë•Œ) */}\n                      {inventory.filter((inv) => inv.name === item.name)\n                        .length > 1 && (\n                        <div\n                          style={{\n                            position: \"absolute\",\n                            bottom: \"2px\",\n                            right: \"2px\",\n                            background: \"#000\",\n                            color: \"white\",\n                            fontSize: \"10px\",\n                            padding: \"1px 3px\",\n                            borderRadius: \"3px\",\n                            lineHeight: \"1\",\n                          }}\n                        >\n                          {\n                            inventory.filter((inv) => inv.name === item.name)\n                              .length\n                          }\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* ì•„ì´í…œ ìƒì„¸ ì •ë³´ */}\n        <div style={{ width: \"300px\" }}>\n          <h3 style={{ color: \"white\", marginBottom: \"15px\" }}>\n            ğŸ“‹ {t(\"rpg.inventory.itemInfo\")}\n          </h3>\n          {selectedItem ? (\n            <div\n              style={{\n                background: \"rgba(255, 255, 255, 0.1)\",\n                border: `2px solid ${getRarityColor(selectedItem.rarity)}`,\n                borderRadius: \"10px\",\n                padding: \"20px\",\n              }}\n            >\n              <div style={{ textAlign: \"center\", marginBottom: \"15px\" }}>\n                <div style={{ fontSize: \"48px\", marginBottom: \"10px\" }}>\n                  {getItemIcon(selectedItem)}\n                </div>\n                <h4\n                  style={{\n                    color: getRarityColor(selectedItem.rarity),\n                    margin: \"0 0 5px 0\",\n                    fontSize: \"18px\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {selectedItem.name}\n                </h4>\n                <p\n                  style={{\n                    color: \"#9ca3af\",\n                    margin: \"0 0 15px 0\",\n                    fontSize: \"14px\",\n                    textTransform: \"capitalize\",\n                  }}\n                >\n                  {selectedItem.type} â€¢ {selectedItem.rarity}\n                </p>\n              </div>\n\n              {/* ëŠ¥ë ¥ì¹˜ */}\n              {selectedItem.stats &&\n                Object.keys(selectedItem.stats).length > 0 && (\n                  <div style={{ marginBottom: \"15px\" }}>\n                    <h5\n                      style={{\n                        color: \"white\",\n                        margin: \"0 0 10px 0\",\n                        fontSize: \"14px\",\n                      }}\n                    >\n                      {t(\"rpg.item.stats\")}\n                    </h5>\n                    {Object.entries(selectedItem.stats).map(([stat, value]) => (\n                      <div\n                        key={stat}\n                        style={{\n                          display: \"flex\",\n                          justifyContent: \"space-between\",\n                          color: \"#10b981\",\n                          fontSize: \"12px\",\n                          marginBottom: \"5px\",\n                        }}\n                      >\n                        <span>\n                          {stat === \"attack\"\n                            ? \"ê³µê²©ë ¥\"\n                            : stat === \"defense\"\n                            ? \"ë°©ì–´ë ¥\"\n                            : stat === \"hp\"\n                            ? \"ì²´ë ¥\"\n                            : stat === \"mp\"\n                            ? t(\"rpg.ui.mana\")\n                            : stat}\n                        </span>\n                        <span>+{value}</span>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n              {/* ê°€ê²© */}\n              <div style={{ marginBottom: \"15px\" }}>\n                <h5\n                  style={{\n                    color: \"white\",\n                    margin: \"0 0 10px 0\",\n                    fontSize: \"14px\",\n                  }}\n                >\n                  {t(\"rpg.shop.price\")}\n                </h5>\n                <p style={{ color: \"#f59e0b\", fontSize: \"12px\", margin: 0 }}>\n                  {selectedItem.price.toLocaleString()}G\n                </p>\n              </div>\n\n              {/* ì•¡ì…˜ ë²„íŠ¼ */}\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  gap: \"10px\",\n                }}\n              >\n                {selectedItem.type !== \"consumable\" && (\n                  <button\n                    onClick={() => {\n                      equipItem(selectedItem);\n                      setSelectedItem(null);\n                    }}\n                    style={{\n                      background:\n                        \"linear-gradient(135deg, #10b981 0%, #059669 100%)\",\n                      color: \"white\",\n                      border: \"none\",\n                      borderRadius: \"6px\",\n                      padding: \"10px\",\n                      fontSize: \"14px\",\n                      cursor: \"pointer\",\n                      fontWeight: \"bold\",\n                    }}\n                  >\n                    ì¥ì°©\n                  </button>\n                )}\n                {selectedItem.type === \"consumable\" && (\n                  <button\n                    onClick={() => {\n                      // ì‚¬ìš© ë¡œì§ (ì„ì‹œ)\n                      console.log(\"Use item:\", selectedItem.name);\n                      setSelectedItem(null);\n                    }}\n                    style={{\n                      background:\n                        \"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)\",\n                      color: \"white\",\n                      border: \"none\",\n                      borderRadius: \"6px\",\n                      padding: \"10px\",\n                      fontSize: \"14px\",\n                      cursor: \"pointer\",\n                      fontWeight: \"bold\",\n                    }}\n                  >\n                    ì‚¬ìš©\n                  </button>\n                )}\n                <button\n                  onClick={() => {\n                    const sellPrice = Math.floor(selectedItem.price * 0.7);\n                    setCharacter((prev) => ({\n                      ...prev,\n                      gold: prev.gold + sellPrice,\n                    }));\n                    setInventory((prev) =>\n                      prev.filter((invItem) => invItem.id !== selectedItem.id)\n                    );\n                    addToCombatLog(\n                      `${selectedItem.name}ì„ ${sellPrice} ê³¨ë“œì— íŒë§¤í–ˆìŠµë‹ˆë‹¤!`\n                    );\n                    setSelectedItem(null);\n                  }}\n                  style={{\n                    background: \"#dc2626\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"6px\",\n                    padding: \"10px\",\n                    fontSize: \"14px\",\n                    cursor: \"pointer\",\n                  }}\n                >\n                  íŒë§¤ ({Math.floor(selectedItem.price * 0.7)}G)\n                </button>\n              </div>\n            </div>\n          ) : (\n            <div\n              style={{\n                background: \"rgba(255, 255, 255, 0.05)\",\n                borderRadius: \"10px\",\n                padding: \"40px\",\n                textAlign: \"center\",\n                color: \"#6b7280\",\n              }}\n            >\n              <p>{t(\"rpg.inventory.clickForInfo\")}</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  // ìƒì  ì¹´í…Œê³ ë¦¬ ìƒíƒœ\n  const [shopCategory, setShopCategory] = useState<\"equipment\" | \"consumable\">(\n    \"equipment\"\n  );\n  const [selectedShopItem, setSelectedShopItem] = useState<Item | null>(null);\n\n  const renderShopTab = () => (\n    <div style={{ padding: \"20px\", background: \"#1f2937\", minHeight: \"600px\" }}>\n      {/* ê³µí†µ ìºë¦­í„° í—¤ë” */}\n      {renderCharacterHeader()}\n\n      {/* ìƒì  ì¹´í…Œê³ ë¦¬ íƒ­ */}\n      <div\n        style={{\n          display: \"flex\",\n          background: \"rgba(255, 255, 255, 0.1)\",\n          borderRadius: \"10px\",\n          marginBottom: \"20px\",\n          overflow: \"hidden\",\n        }}\n      >\n        {[\n          { id: \"equipment\", label: t(\"rpg.shop.equipment\"), icon: \"âš”ï¸\", color: \"#10b981\" },\n          { id: \"consumable\", label: t(\"rpg.shop.consumable\"), icon: \"ğŸ§ª\", color: \"#f59e0b\" },\n        ].map((tab) => (\n          <button\n            key={tab.id}\n            onClick={() => setShopCategory(tab.id as any)}\n            style={{\n              flex: 1,\n              padding: \"15px 20px\",\n              background:\n                shopCategory === tab.id\n                  ? `linear-gradient(135deg, ${tab.color} 0%, ${tab.color}AA 100%)`\n                  : \"transparent\",\n              color: shopCategory === tab.id ? \"white\" : \"#9ca3af\",\n              border: \"none\",\n              cursor: \"pointer\",\n              fontSize: \"14px\",\n              fontWeight: shopCategory === tab.id ? \"bold\" : \"normal\",\n              transition: \"all 0.3s ease\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              gap: \"8px\",\n            }}\n          >\n            <span>{tab.icon}</span>\n            <span>{tab.label}</span>\n          </button>\n        ))}\n      </div>\n\n      <div style={{ display: \"flex\", gap: \"20px\" }}>\n        {/* ì¢Œì¸¡ ì•„ì´í…œ ê·¸ë¦¬ë“œ */}\n        <div style={{ flex: 1 }}>\n          <h3\n            style={{ color: \"white\", marginBottom: \"15px\", fontSize: \"16px\" }}\n          >\n            {shopCategory === \"equipment\"\n              ? `âš”ï¸ ${t(\"rpg.shop.equipment\")} ${t(\"rpg.shop\")}`\n              : `ğŸ§ª ${t(\"rpg.shop.consumable\")} ${t(\"rpg.shop\")}`}\n          </h3>\n\n          <div\n            style={{\n              display: \"grid\",\n              gridTemplateColumns: \"repeat(8, 1fr)\",\n              gap: \"6px\",\n              background: \"rgba(0, 0, 0, 0.3)\",\n              padding: \"15px\",\n              borderRadius: \"10px\",\n              border: \"2px solid #4b5563\",\n              minHeight: \"400px\",\n            }}\n          >\n            {/* ìƒì  ì•„ì´í…œ ê·¸ë¦¬ë“œ */}\n            {Array.from({ length: 32 }, (_, index) => {\n              let items: Item[] = [];\n\n              if (shopCategory === \"equipment\") {\n                // ì¥ë¹„ ì•„ì´í…œ (ë¬´ê¸°, ë°©ì–´êµ¬, íˆ¬êµ¬, ë¶€ì¸ , ë°˜ì§€)\n                items = shop.filter(\n                  (item) => item.type !== \"consumable\"\n                );\n              } else {\n                // ì†Œëª¨í’ˆ ì•„ì´í…œ\n                items = shop.filter(\n                  (item) => item.type === \"consumable\"\n                );\n              }\n\n              const item = items[index];\n              const isEmpty = !item;\n              const canAfford = character.gold >= (item?.price || 0);\n\n              return (\n                <div\n                  key={index}\n                  onClick={() => item && setSelectedShopItem(item)}\n                  style={{\n                    width: \"50px\",\n                    height: \"50px\",\n                    background: isEmpty\n                      ? \"rgba(255, 255, 255, 0.05)\"\n                      : canAfford\n                      ? \"rgba(16, 185, 129, 0.1)\"\n                      : \"rgba(107, 114, 128, 0.1)\",\n                    border: isEmpty\n                      ? \"1px solid #374151\"\n                      : `2px solid ${getRarityColor(item.rarity)}`,\n                    borderRadius: \"8px\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    cursor: item ? \"pointer\" : \"default\",\n                    position: \"relative\",\n                    transition: \"all 0.2s ease\",\n                  }}\n                  onMouseEnter={(e) => {\n                    if (item) {\n                      e.currentTarget.style.transform = \"scale(1.1)\";\n                      e.currentTarget.style.boxShadow = `0 0 15px ${getRarityColor(\n                        item.rarity\n                      )}50`;\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (item) {\n                      e.currentTarget.style.transform = \"scale(1)\";\n                      e.currentTarget.style.boxShadow = \"none\";\n                    }\n                  }}\n                >\n                  {item && (\n                    <>\n                      <div\n                        style={{\n                          fontSize: \"20px\",\n                          opacity: canAfford ? 1 : 0.5,\n                        }}\n                      >\n                        {getItemIcon(item)}\n                      </div>\n                      {/* ê°€ê²© í‘œì‹œ */}\n                      <div\n                        style={{\n                          position: \"absolute\",\n                          bottom: \"2px\",\n                          right: \"2px\",\n                          background: canAfford ? \"#10b981\" : \"#dc2626\",\n                          color: \"white\",\n                          fontSize: \"8px\",\n                          padding: \"1px 3px\",\n                          borderRadius: \"3px\",\n                          lineHeight: \"1\",\n                        }}\n                      >\n                        {item.price >= 1000\n                          ? `${Math.floor(item.price / 1000)}K`\n                          : item.price}G\n                      </div>\n                    </>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* ìš°ì¸¡ ì•„ì´í…œ ìƒì„¸ ì •ë³´ */}\n        <div style={{ width: \"300px\" }}>\n          <h3\n            style={{ color: \"white\", marginBottom: \"15px\", fontSize: \"16px\" }}\n          >\n            ğŸ“‹ {t(\"rpg.shop.itemInfo\")}\n          </h3>\n          {selectedShopItem ? (\n            <div\n              style={{\n                background: \"rgba(255, 255, 255, 0.1)\",\n                border: `2px solid ${getRarityColor(selectedShopItem.rarity)}`,\n                borderRadius: \"10px\",\n                padding: \"20px\",\n              }}\n            >\n              <div style={{ textAlign: \"center\", marginBottom: \"15px\" }}>\n                <div style={{ fontSize: \"48px\", marginBottom: \"10px\" }}>\n                  {getItemIcon(selectedShopItem)}\n                </div>\n                <h4\n                  style={{\n                    color: getRarityColor(selectedShopItem.rarity),\n                    margin: \"0 0 5px 0\",\n                    fontSize: \"18px\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {selectedShopItem.name}\n                </h4>\n                <p\n                  style={{\n                    color: \"#9ca3af\",\n                    margin: \"0 0 15px 0\",\n                    fontSize: \"14px\",\n                    textTransform: \"capitalize\",\n                  }}\n                >\n                  {selectedShopItem.type} â€¢ Lv.{selectedShopItem.level} â€¢{\" \"}\n                  {selectedShopItem.rarity}\n                </p>\n              </div>\n\n              {/* ì•„ì´í…œ ëŠ¥ë ¥ì¹˜ */}\n              {selectedShopItem.stats &&\n                Object.keys(selectedShopItem.stats).length > 0 && (\n                  <div style={{ marginBottom: \"15px\" }}>\n                    <h5\n                      style={{\n                        color: \"white\",\n                        margin: \"0 0 10px 0\",\n                        fontSize: \"14px\",\n                      }}\n                    >\n                      {t(\"rpg.item.stats\")}\n                    </h5>\n                    {Object.entries(selectedShopItem.stats).map(\n                      ([stat, value]) =>\n                        value > 0 && (\n                          <div\n                            key={stat}\n                            style={{\n                              display: \"flex\",\n                              justifyContent: \"space-between\",\n                              color: \"#10b981\",\n                              fontSize: \"12px\",\n                              marginBottom: \"5px\",\n                            }}\n                          >\n                            <span>\n                              {stat === \"attack\"\n                                ? t(\"rpg.attackWithIcon\")\n                                : stat === \"defense\"\n                                ? t(\"rpg.defenseWithIcon\")\n                                : stat === \"hp\"\n                                ? t(\"rpg.healthWithIcon\")\n                                : stat === \"mp\"\n                                ? \"ğŸ’™ ë§ˆë‚˜\"\n                                : stat === \"speed\"\n                                ? `ğŸ’¨ ${t(\"rpg.speed\")}`\n                                : stat === \"critRate\"\n                                ? \"ğŸ’¥ í¬ë¦¬í‹°ì»¬\"\n                                : stat}\n                            </span>\n                            <span>+{value}</span>\n                          </div>\n                        )\n                    )}\n                  </div>\n                )}\n\n              {/* ê°€ê²© ì •ë³´ */}\n              <div style={{ marginBottom: \"15px\" }}>\n                <h5\n                  style={{\n                    color: \"white\",\n                    margin: \"0 0 10px 0\",\n                    fontSize: \"14px\",\n                  }}\n                >\n                  {t(\"rpg.shop.price\")}\n                </h5>\n                <p\n                  style={{\n                    color: \"#f59e0b\",\n                    fontSize: \"14px\",\n                    margin: 0,\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {selectedShopItem.price.toLocaleString()}{t(\"rpg.item.gold\")}\n                </p>\n              </div>\n\n              {/* ì•¡ì…˜ ë²„íŠ¼ */}\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  gap: \"10px\",\n                }}\n              >\n                <button\n                  onClick={() => {\n                    buyItem(selectedShopItem);\n                    setSelectedShopItem(null);\n                  }}\n                  disabled={character.gold < selectedShopItem.price}\n                  style={{\n                    background:\n                      character.gold >= selectedShopItem.price\n                        ? \"linear-gradient(135deg, #10b981 0%, #059669 100%)\"\n                        : \"#6b7280\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"6px\",\n                    padding: \"12px\",\n                    fontSize: \"14px\",\n                    cursor:\n                      character.gold >= selectedShopItem.price\n                        ? \"pointer\"\n                        : \"not-allowed\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {t(\"rpg.shop.buy\")} ({selectedShopItem.price.toLocaleString()}G)\n                </button>\n\n              </div>\n            </div>\n          ) : (\n            <div\n              style={{\n                background: \"rgba(255, 255, 255, 0.05)\",\n                borderRadius: \"10px\",\n                padding: \"40px\",\n                textAlign: \"center\",\n                color: \"#6b7280\",\n              }}\n            >\n              <p>{t(\"rpg.item.clickForInfo\")}</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* í•˜ë‹¨ ê³¨ë“œ ì •ë³´ */}\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          padding: \"15px 20px\",\n          background: \"rgba(255, 255, 255, 0.1)\",\n          borderRadius: \"10px\",\n          marginTop: \"20px\",\n          border: \"2px solid #4b5563\",\n        }}\n      >\n        <div>\n          <div style={{ fontSize: \"14px\", opacity: 0.9, color: \"white\" }}>\n            {t(\"rpg.item.ownedGold\")}\n          </div>\n          <div\n            style={{\n              fontSize: \"20px\",\n              fontWeight: \"bold\",\n              color: \"#f59e0b\",\n            }}\n          >\n            {character.gold.toLocaleString()}G\n          </div>\n        </div>\n        <div style={{ textAlign: \"right\" }}>\n          <div style={{ fontSize: \"12px\", opacity: 0.8, color: \"#9ca3af\" }}>\n            {shopCategory === \"equipment\"\n              ? t(\"rpg.shop.equipment.description\")\n              : t(\"rpg.shop.consumables.description\")}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderTabs = () => (\n    <div\n      style={{\n        background: \"#374151\",\n        display: \"flex\",\n        borderRadius: \"15px 15px 0 0\",\n        overflow: \"hidden\",\n      }}\n    >\n      {[\n        { id: \"lobby\", name: t(\"rpg.tabs.lobby\"), icon: \"ğŸ \" },\n        { id: \"character\", name: t(\"rpg.tabs.character\"), icon: \"ğŸ‘¤\" },\n        { id: \"inventory\", name: t(\"rpg.tabs.inventory\"), icon: \"ğŸ’\" },\n        { id: \"skills\", name: t(\"rpg.tabs.skills\"), icon: \"âœ¨\" },\n        { id: \"dungeon\", name: t(\"rpg.tabs.dungeon\"), icon: \"ğŸ°\" },\n        { id: \"shop\", name: t(\"rpg.tabs.shop\"), icon: \"ğŸ›’\" },\n      ].map((tab) => (\n        <button\n          key={tab.id}\n          onClick={() => setCurrentTab(tab.id as any)}\n          style={{\n            background: currentTab === tab.id ? colors.accent : \"transparent\",\n            color: colors.text,\n            border: \"none\",\n            padding: \"15px 20px\",\n            fontSize: \"14px\",\n            cursor: \"pointer\",\n            flex: 1,\n            transition: \"all 0.3s ease\",\n          }}\n        >\n          <div>{tab.icon}</div>\n          <div style={{ fontSize: \"12px\", marginTop: \"5px\" }}>{tab.name}</div>\n        </button>\n      ))}\n    </div>\n  );\n\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        maxWidth: \"1200px\",\n        margin: \"0 auto\",\n        background: colors.cardBg,\n        borderRadius: \"20px\",\n        overflow: \"hidden\",\n        boxShadow: \"0 20px 60px rgba(0, 0, 0, 0.3)\",\n        fontFamily:\n          '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n        border: `1px solid ${colors.cardBorder}`,\n      }}\n    >\n      {/* ê²Œì„ íƒ€ì´í‹€ */}\n      <div\n        style={{\n          background: colors.backgroundSecondary,\n          padding: \"20px\",\n          textAlign: \"center\",\n          position: \"relative\",\n          overflow: \"hidden\",\n        }}\n      >\n        <div\n          style={{\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background:\n              \"radial-gradient(circle at 50% 50%, rgba(147, 51, 234, 0.3) 0%, transparent 70%)\",\n          }}\n        />\n        <h1\n          style={{\n            margin: 0,\n            fontSize: \"32px\",\n            fontWeight: \"bold\",\n            color: colors.text,\n            textShadow: \"0 4px 20px rgba(147, 51, 234, 0.5)\",\n            position: \"relative\",\n            zIndex: 1,\n          }}\n        >\n          {t(\"rpg.title\")}\n        </h1>\n        <p\n          style={{\n            margin: \"10px 0 0 0\",\n            color: colors.textSecondary,\n            fontSize: \"16px\",\n            position: \"relative\",\n            zIndex: 1,\n          }}\n        >\n          {t(\"rpg.subtitle\")}\n        </p>\n      </div>\n\n      {/* íƒ­ ë©”ë‰´ */}\n      {renderTabs()}\n\n      {/* í˜„ì¬ íƒ­ ì»¨í…ì¸  */}\n      {currentTab === \"lobby\" && renderLobbyTab()}\n      {currentTab === \"dungeon\" && renderDungeonTab()}\n      {currentTab === \"character\" && renderCharacterTab()}\n      {currentTab === \"inventory\" && renderInventoryTab()}\n      {currentTab === \"skills\" && renderSkillsTab()}\n      {currentTab === \"shop\" && renderShopTab()}\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}